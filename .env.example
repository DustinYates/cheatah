# =============================================================================
# Chatter Cheetah Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values.
# NEVER commit .env to version control.
#
# For production deployments, use GCP Secret Manager instead of .env files.
# See DEPLOYMENT.md for details.
# =============================================================================

# -----------------------------------------------------------------------------
# Database (Required)
# -----------------------------------------------------------------------------
# PostgreSQL connection string. For Supabase, get this from Project Settings > Database
# URL-encode special characters in password (! = %21, @ = %40, # = %23)
DATABASE_URL=postgresql://user:password@host:5432/database

# Cloud SQL (optional - for GCP Cloud SQL instead of Supabase)
# CLOUD_SQL_INSTANCE_CONNECTION_NAME=project:region:instance
# CLOUD_SQL_DATABASE_NAME=chattercheatah

# -----------------------------------------------------------------------------
# Security (Required for Production)
# -----------------------------------------------------------------------------
# JWT secret for authentication tokens - generate a secure random string
# Example: openssl rand -base64 32
JWT_SECRET_KEY=your-secure-jwt-secret-key

# Field-level encryption key for sensitive data (API keys, tokens in database)
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
FIELD_ENCRYPTION_KEY=your-fernet-encryption-key

# -----------------------------------------------------------------------------
# Application
# -----------------------------------------------------------------------------
ENVIRONMENT=development
LOG_LEVEL=INFO
API_BASE_URL=http://localhost:8000

# -----------------------------------------------------------------------------
# GCP Configuration
# -----------------------------------------------------------------------------
GCP_PROJECT_ID=your-gcp-project-id
GCP_REGION=us-central1
GCS_WIDGET_ASSETS_BUCKET=your-widget-assets-bucket

# -----------------------------------------------------------------------------
# LLM - Google Gemini (Required for chat functionality)
# -----------------------------------------------------------------------------
# Get from https://aistudio.google.com/app/apikey
GEMINI_API_KEY=your-gemini-api-key
GEMINI_MODEL=gemini-2.5-flash

# Chat configuration
CHAT_MAX_TOKENS=8000
CHAT_MAX_TURNS=100
CHAT_TIMEOUT_SECONDS=2700

# -----------------------------------------------------------------------------
# Redis (Optional - for caching and rate limiting)
# -----------------------------------------------------------------------------
REDIS_ENABLED=false
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379

# -----------------------------------------------------------------------------
# Telnyx - Voice & SMS (Optional)
# -----------------------------------------------------------------------------
# Get from https://portal.telnyx.com
TELNYX_API_KEY=your-telnyx-api-key

# -----------------------------------------------------------------------------
# Twilio - SMS (Optional, alternative to Telnyx)
# -----------------------------------------------------------------------------
# Get from https://console.twilio.com
# TWILIO_ACCOUNT_SID=your-twilio-account-sid
# TWILIO_AUTH_TOKEN=your-twilio-auth-token
# TWILIO_WEBHOOK_URL_BASE=https://your-domain.com

# -----------------------------------------------------------------------------
# Gmail OAuth - Email Integration (Optional)
# -----------------------------------------------------------------------------
# Set up OAuth credentials in Google Cloud Console
# GMAIL_CLIENT_ID=your-client-id.apps.googleusercontent.com
# GMAIL_CLIENT_SECRET=your-client-secret
# GMAIL_OAUTH_REDIRECT_URI=https://your-domain.com/api/v1/email/oauth/callback
# GMAIL_PUBSUB_TOPIC=projects/your-project/topics/gmail-push-notifications
# GMAIL_PUBSUB_AUTH_TOKEN=your-pubsub-auth-token  # Shared secret for push verification
# FRONTEND_URL=https://your-frontend-domain.com

# -----------------------------------------------------------------------------
# SendGrid - Email Sending (Optional)
# -----------------------------------------------------------------------------
# Get from https://app.sendgrid.com/settings/api_keys
# SENDGRID_API_KEY=your-sendgrid-api-key
# SENDGRID_FROM_EMAIL=noreply@yourdomain.com
# SENDGRID_INBOUND_PARSE_DOMAIN=parse.yourdomain.com
# SENDGRID_DEFAULT_WEBHOOK_SECRET=your-webhook-secret

# -----------------------------------------------------------------------------
# Cloud Tasks - Background Processing (Production only)
# -----------------------------------------------------------------------------
# CLOUD_TASKS_QUEUE_NAME=sms-processing
# CLOUD_TASKS_LOCATION=us-central1
# CLOUD_TASKS_WORKER_URL=https://your-service.run.app/workers
# CLOUD_TASKS_EMAIL_WORKER_URL=https://your-service.run.app/workers/email

# -----------------------------------------------------------------------------
# Web Scraping (Optional)
# -----------------------------------------------------------------------------
# For scraping sites with bot protection
# SCRAPINGBEE_API_KEY=your-scrapingbee-api-key

# -----------------------------------------------------------------------------
# Error Tracking - Sentry (Optional but recommended for production)
# -----------------------------------------------------------------------------
# Get from https://sentry.io
# SENTRY_DSN=https://your-key@sentry.io/your-project
# SENTRY_TRACES_SAMPLE_RATE=0.1

# -----------------------------------------------------------------------------
# Zapier Integration (Optional)
# -----------------------------------------------------------------------------
# ZAPIER_DEFAULT_CALLBACK_TIMEOUT=30
# ZAPIER_SIGNATURE_HEADER=X-Zapier-Signature
# CUSTOMER_SERVICE_CACHE_TTL_SECONDS=3600
# CUSTOMER_LOOKUP_RETRY_COUNT=2
