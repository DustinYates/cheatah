(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))o(f);new MutationObserver(f=>{for(const h of f)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&o(g)}).observe(document,{childList:!0,subtree:!0});function u(f){const h={};return f.integrity&&(h.integrity=f.integrity),f.referrerPolicy&&(h.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?h.credentials="include":f.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(f){if(f.ep)return;f.ep=!0;const h=u(f);fetch(f.href,h)}})();var co={exports:{}},ds={};var Uh;function yv(){if(Uh)return ds;Uh=1;var i=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function u(o,f,h){var g=null;if(h!==void 0&&(g=""+h),f.key!==void 0&&(g=""+f.key),"key"in f){h={};for(var N in f)N!=="key"&&(h[N]=f[N])}else h=f;return f=h.ref,{$$typeof:i,type:o,key:g,ref:f!==void 0?f:null,props:h}}return ds.Fragment=r,ds.jsx=u,ds.jsxs=u,ds}var Lh;function xv(){return Lh||(Lh=1,co.exports=yv()),co.exports}var n=xv(),ro={exports:{}},xe={};var kh;function bv(){if(kh)return xe;kh=1;var i=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),g=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),z=Symbol.iterator;function H(j){return j===null||typeof j!="object"?null:(j=z&&j[z]||j["@@iterator"],typeof j=="function"?j:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,$={};function K(j,q,I){this.props=j,this.context=q,this.refs=$,this.updater=I||F}K.prototype.isReactComponent={},K.prototype.setState=function(j,q){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,q,"setState")},K.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function V(){}V.prototype=K.prototype;function U(j,q,I){this.props=j,this.context=q,this.refs=$,this.updater=I||F}var M=U.prototype=new V;M.constructor=U,B(M,K.prototype),M.isPureReactComponent=!0;var se=Array.isArray;function ae(){}var Q={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function O(j,q,I){var te=I.ref;return{$$typeof:i,type:j,key:q,ref:te!==void 0?te:null,props:I}}function ne(j,q){return O(j.type,q,j.props)}function re(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function P(j){var q={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(I){return q[I]})}var ye=/\/+/g;function ve(j,q){return typeof j=="object"&&j!==null&&j.key!=null?P(""+j.key):q.toString(36)}function ie(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(ae,ae):(j.status="pending",j.then(function(q){j.status==="pending"&&(j.status="fulfilled",j.value=q)},function(q){j.status==="pending"&&(j.status="rejected",j.reason=q)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function C(j,q,I,te,fe){var ge=typeof j;(ge==="undefined"||ge==="boolean")&&(j=null);var we=!1;if(j===null)we=!0;else switch(ge){case"bigint":case"string":case"number":we=!0;break;case"object":switch(j.$$typeof){case i:case r:we=!0;break;case m:return we=j._init,C(we(j._payload),q,I,te,fe)}}if(we)return fe=fe(j),we=te===""?"."+ve(j,0):te,se(fe)?(I="",we!=null&&(I=we.replace(ye,"$&/")+"/"),C(fe,q,I,"",function(Ge){return Ge})):fe!=null&&(re(fe)&&(fe=ne(fe,I+(fe.key==null||j&&j.key===fe.key?"":(""+fe.key).replace(ye,"$&/")+"/")+we)),q.push(fe)),1;we=0;var He=te===""?".":te+":";if(se(j))for(var X=0;X<j.length;X++)te=j[X],ge=He+ve(te,X),we+=C(te,q,I,ge,fe);else if(X=H(j),typeof X=="function")for(j=X.call(j),X=0;!(te=j.next()).done;)te=te.value,ge=He+ve(te,X++),we+=C(te,q,I,ge,fe);else if(ge==="object"){if(typeof j.then=="function")return C(ie(j),q,I,te,fe);throw q=String(j),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return we}function E(j,q,I){if(j==null)return j;var te=[],fe=0;return C(j,te,"","",function(ge){return q.call(I,ge,fe++)}),te}function le(j){if(j._status===-1){var q=j._result;q=q(),q.then(function(I){(j._status===0||j._status===-1)&&(j._status=1,j._result=I)},function(I){(j._status===0||j._status===-1)&&(j._status=2,j._result=I)}),j._status===-1&&(j._status=0,j._result=q)}if(j._status===1)return j._result.default;throw j._result}var de=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},pe={map:E,forEach:function(j,q,I){E(j,function(){q.apply(this,arguments)},I)},count:function(j){var q=0;return E(j,function(){q++}),q},toArray:function(j){return E(j,function(q){return q})||[]},only:function(j){if(!re(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return xe.Activity=S,xe.Children=pe,xe.Component=K,xe.Fragment=u,xe.Profiler=f,xe.PureComponent=U,xe.StrictMode=o,xe.Suspense=y,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,xe.__COMPILER_RUNTIME={__proto__:null,c:function(j){return Q.H.useMemoCache(j)}},xe.cache=function(j){return function(){return j.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(j,q,I){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var te=B({},j.props),fe=j.key;if(q!=null)for(ge in q.key!==void 0&&(fe=""+q.key),q)!Y.call(q,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&q.ref===void 0||(te[ge]=q[ge]);var ge=arguments.length-2;if(ge===1)te.children=I;else if(1<ge){for(var we=Array(ge),He=0;He<ge;He++)we[He]=arguments[He+2];te.children=we}return O(j.type,fe,te)},xe.createContext=function(j){return j={$$typeof:g,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:h,_context:j},j},xe.createElement=function(j,q,I){var te,fe={},ge=null;if(q!=null)for(te in q.key!==void 0&&(ge=""+q.key),q)Y.call(q,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(fe[te]=q[te]);var we=arguments.length-2;if(we===1)fe.children=I;else if(1<we){for(var He=Array(we),X=0;X<we;X++)He[X]=arguments[X+2];fe.children=He}if(j&&j.defaultProps)for(te in we=j.defaultProps,we)fe[te]===void 0&&(fe[te]=we[te]);return O(j,ge,fe)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(j){return{$$typeof:N,render:j}},xe.isValidElement=re,xe.lazy=function(j){return{$$typeof:m,_payload:{_status:-1,_result:j},_init:le}},xe.memo=function(j,q){return{$$typeof:x,type:j,compare:q===void 0?null:q}},xe.startTransition=function(j){var q=Q.T,I={};Q.T=I;try{var te=j(),fe=Q.S;fe!==null&&fe(I,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(ae,de)}catch(ge){de(ge)}finally{q!==null&&I.types!==null&&(q.types=I.types),Q.T=q}},xe.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},xe.use=function(j){return Q.H.use(j)},xe.useActionState=function(j,q,I){return Q.H.useActionState(j,q,I)},xe.useCallback=function(j,q){return Q.H.useCallback(j,q)},xe.useContext=function(j){return Q.H.useContext(j)},xe.useDebugValue=function(){},xe.useDeferredValue=function(j,q){return Q.H.useDeferredValue(j,q)},xe.useEffect=function(j,q){return Q.H.useEffect(j,q)},xe.useEffectEvent=function(j){return Q.H.useEffectEvent(j)},xe.useId=function(){return Q.H.useId()},xe.useImperativeHandle=function(j,q,I){return Q.H.useImperativeHandle(j,q,I)},xe.useInsertionEffect=function(j,q){return Q.H.useInsertionEffect(j,q)},xe.useLayoutEffect=function(j,q){return Q.H.useLayoutEffect(j,q)},xe.useMemo=function(j,q){return Q.H.useMemo(j,q)},xe.useOptimistic=function(j,q){return Q.H.useOptimistic(j,q)},xe.useReducer=function(j,q,I){return Q.H.useReducer(j,q,I)},xe.useRef=function(j){return Q.H.useRef(j)},xe.useState=function(j){return Q.H.useState(j)},xe.useSyncExternalStore=function(j,q,I){return Q.H.useSyncExternalStore(j,q,I)},xe.useTransition=function(){return Q.H.useTransition()},xe.version="19.2.3",xe}var Bh;function Eo(){return Bh||(Bh=1,ro.exports=bv()),ro.exports}var v=Eo(),oo={exports:{}},fs={},uo={exports:{}},fo={};var qh;function jv(){return qh||(qh=1,(function(i){function r(C,E){var le=C.length;C.push(E);e:for(;0<le;){var de=le-1>>>1,pe=C[de];if(0<f(pe,E))C[de]=E,C[le]=pe,le=de;else break e}}function u(C){return C.length===0?null:C[0]}function o(C){if(C.length===0)return null;var E=C[0],le=C.pop();if(le!==E){C[0]=le;e:for(var de=0,pe=C.length,j=pe>>>1;de<j;){var q=2*(de+1)-1,I=C[q],te=q+1,fe=C[te];if(0>f(I,le))te<pe&&0>f(fe,I)?(C[de]=fe,C[te]=le,de=te):(C[de]=I,C[q]=le,de=q);else if(te<pe&&0>f(fe,le))C[de]=fe,C[te]=le,de=te;else break e}}return E}function f(C,E){var le=C.sortIndex-E.sortIndex;return le!==0?le:C.id-E.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var g=Date,N=g.now();i.unstable_now=function(){return g.now()-N}}var y=[],x=[],m=1,S=null,z=3,H=!1,F=!1,B=!1,$=!1,K=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function M(C){for(var E=u(x);E!==null;){if(E.callback===null)o(x);else if(E.startTime<=C)o(x),E.sortIndex=E.expirationTime,r(y,E);else break;E=u(x)}}function se(C){if(B=!1,M(C),!F)if(u(y)!==null)F=!0,ae||(ae=!0,P());else{var E=u(x);E!==null&&ie(se,E.startTime-C)}}var ae=!1,Q=-1,Y=5,O=-1;function ne(){return $?!0:!(i.unstable_now()-O<Y)}function re(){if($=!1,ae){var C=i.unstable_now();O=C;var E=!0;try{e:{F=!1,B&&(B=!1,V(Q),Q=-1),H=!0;var le=z;try{t:{for(M(C),S=u(y);S!==null&&!(S.expirationTime>C&&ne());){var de=S.callback;if(typeof de=="function"){S.callback=null,z=S.priorityLevel;var pe=de(S.expirationTime<=C);if(C=i.unstable_now(),typeof pe=="function"){S.callback=pe,M(C),E=!0;break t}S===u(y)&&o(y),M(C)}else o(y);S=u(y)}if(S!==null)E=!0;else{var j=u(x);j!==null&&ie(se,j.startTime-C),E=!1}}break e}finally{S=null,z=le,H=!1}E=void 0}}finally{E?P():ae=!1}}}var P;if(typeof U=="function")P=function(){U(re)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,ve=ye.port2;ye.port1.onmessage=re,P=function(){ve.postMessage(null)}}else P=function(){K(re,0)};function ie(C,E){Q=K(function(){C(i.unstable_now())},E)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(C){C.callback=null},i.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<C?Math.floor(1e3/C):5},i.unstable_getCurrentPriorityLevel=function(){return z},i.unstable_next=function(C){switch(z){case 1:case 2:case 3:var E=3;break;default:E=z}var le=z;z=E;try{return C()}finally{z=le}},i.unstable_requestPaint=function(){$=!0},i.unstable_runWithPriority=function(C,E){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var le=z;z=C;try{return E()}finally{z=le}},i.unstable_scheduleCallback=function(C,E,le){var de=i.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?de+le:de):le=de,C){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=le+pe,C={id:m++,callback:E,priorityLevel:C,startTime:le,expirationTime:pe,sortIndex:-1},le>de?(C.sortIndex=le,r(x,C),u(y)===null&&C===u(x)&&(B?(V(Q),Q=-1):B=!0,ie(se,le-de))):(C.sortIndex=pe,r(y,C),F||H||(F=!0,ae||(ae=!0,P()))),C},i.unstable_shouldYield=ne,i.unstable_wrapCallback=function(C){var E=z;return function(){var le=z;z=E;try{return C.apply(this,arguments)}finally{z=le}}}})(fo)),fo}var Hh;function Nv(){return Hh||(Hh=1,uo.exports=jv()),uo.exports}var ho={exports:{}},mt={};var Yh;function Sv(){if(Yh)return mt;Yh=1;var i=Eo();function r(y){var x="https://react.dev/errors/"+y;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)x+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+y+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(){}var o={d:{f:u,r:function(){throw Error(r(522))},D:u,C:u,L:u,m:u,X:u,S:u,M:u},p:0,findDOMNode:null},f=Symbol.for("react.portal");function h(y,x,m){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:S==null?null:""+S,children:y,containerInfo:x,implementation:m}}var g=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function N(y,x){if(y==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,mt.createPortal=function(y,x){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(r(299));return h(y,x,null,m)},mt.flushSync=function(y){var x=g.T,m=o.p;try{if(g.T=null,o.p=2,y)return y()}finally{g.T=x,o.p=m,o.d.f()}},mt.preconnect=function(y,x){typeof y=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,o.d.C(y,x))},mt.prefetchDNS=function(y){typeof y=="string"&&o.d.D(y)},mt.preinit=function(y,x){if(typeof y=="string"&&x&&typeof x.as=="string"){var m=x.as,S=N(m,x.crossOrigin),z=typeof x.integrity=="string"?x.integrity:void 0,H=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;m==="style"?o.d.S(y,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:S,integrity:z,fetchPriority:H}):m==="script"&&o.d.X(y,{crossOrigin:S,integrity:z,fetchPriority:H,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},mt.preinitModule=function(y,x){if(typeof y=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var m=N(x.as,x.crossOrigin);o.d.M(y,{crossOrigin:m,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&o.d.M(y)},mt.preload=function(y,x){if(typeof y=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var m=x.as,S=N(m,x.crossOrigin);o.d.L(y,m,{crossOrigin:S,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},mt.preloadModule=function(y,x){if(typeof y=="string")if(x){var m=N(x.as,x.crossOrigin);o.d.m(y,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:m,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else o.d.m(y)},mt.requestFormReset=function(y){o.d.r(y)},mt.unstable_batchedUpdates=function(y,x){return y(x)},mt.useFormState=function(y,x,m){return g.H.useFormState(y,x,m)},mt.useFormStatus=function(){return g.H.useHostTransitionStatus()},mt.version="19.2.3",mt}var Gh;function wv(){if(Gh)return ho.exports;Gh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(r){console.error(r)}}return i(),ho.exports=Sv(),ho.exports}var Xh;function _v(){if(Xh)return fs;Xh=1;var i=Nv(),r=Eo(),u=wv();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function g(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function N(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(h(e)!==e)throw Error(o(188))}function x(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(o(188));return t!==e?null:e}for(var a=e,l=t;;){var s=a.return;if(s===null)break;var c=s.alternate;if(c===null){if(l=s.return,l!==null){a=l;continue}break}if(s.child===c.child){for(c=s.child;c;){if(c===a)return y(s),e;if(c===l)return y(s),t;c=c.sibling}throw Error(o(188))}if(a.return!==l.return)a=s,l=c;else{for(var d=!1,p=s.child;p;){if(p===a){d=!0,a=s,l=c;break}if(p===l){d=!0,l=s,a=c;break}p=p.sibling}if(!d){for(p=c.child;p;){if(p===a){d=!0,a=c,l=s;break}if(p===l){d=!0,l=c,a=s;break}p=p.sibling}if(!d)throw Error(o(189))}}if(a.alternate!==l)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:t}function m(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=m(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,z=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),U=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=re&&e[re]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Symbol.for("react.client.reference");function ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ye?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case K:return"Profiler";case $:return"StrictMode";case se:return"Suspense";case ae:return"SuspenseList";case O:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case F:return"Portal";case U:return e.displayName||"Context";case V:return(e._context.displayName||"Context")+".Consumer";case M:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return t=e.displayName||null,t!==null?t:ve(e.type)||"Memo";case Y:t=e._payload,e=e._init;try{return ve(e(t))}catch{}}return null}var ie=Array.isArray,C=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,E=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},de=[],pe=-1;function j(e){return{current:e}}function q(e){0>pe||(e.current=de[pe],de[pe]=null,pe--)}function I(e,t){pe++,de[pe]=e.current,e.current=t}var te=j(null),fe=j(null),ge=j(null),we=j(null);function He(e,t){switch(I(ge,t),I(fe,e),I(te,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?lh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=lh(t),e=sh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(te),I(te,e)}function X(){q(te),q(fe),q(ge)}function Ge(e){e.memoizedState!==null&&I(we,e);var t=te.current,a=sh(t,e.type);t!==a&&(I(fe,e),I(te,a))}function vt(e){fe.current===e&&(q(te),q(fe)),we.current===e&&(q(we),cs._currentValue=le)}var rt,Aa;function W(e){if(rt===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);rt=t&&t[1]||"",Aa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rt+e+Aa}var Da=!1;function st(e,t){if(!e||Da)return"";Da=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(k){var R=k}Reflect.construct(e,[],J)}else{try{J.call()}catch(k){R=k}e.call(J.prototype)}}else{try{throw Error()}catch(k){R=k}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(k){if(k&&R&&typeof k.stack=="string")return[k.stack,R.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=l.DetermineComponentFrameRoot(),d=c[0],p=c[1];if(d&&p){var w=d.split(`
`),D=p.split(`
`);for(s=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;s<D.length&&!D[s].includes("DetermineComponentFrameRoot");)s++;if(l===w.length||s===D.length)for(l=w.length-1,s=D.length-1;1<=l&&0<=s&&w[l]!==D[s];)s--;for(;1<=l&&0<=s;l--,s--)if(w[l]!==D[s]){if(l!==1||s!==1)do if(l--,s--,0>s||w[l]!==D[s]){var G=`
`+w[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=s);break}}}finally{Da=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?W(a):""}function En(e,t){switch(e.tag){case 26:case 27:case 5:return W(e.type);case 16:return W("Lazy");case 13:return e.child!==t&&t!==null?W("Suspense Fallback"):W("Suspense");case 19:return W("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return W("Activity");default:return""}}function Ma(e){try{var t="",a=null;do t+=En(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var L=Object.prototype.hasOwnProperty,b=i.unstable_scheduleCallback,ee=i.unstable_cancelCallback,Ne=i.unstable_shouldYield,be=i.unstable_requestPaint,ze=i.unstable_now,na=i.unstable_getCurrentPriorityLevel,yl=i.unstable_ImmediatePriority,js=i.unstable_UserBlockingPriority,Ns=i.unstable_NormalPriority,Im=i.unstable_LowPriority,ko=i.unstable_IdlePriority,ep=i.log,tp=i.unstable_setDisableYieldValue,xl=null,_t=null;function za(e){if(typeof ep=="function"&&tp(e),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(xl,e)}catch{}}var Ct=Math.clz32?Math.clz32:lp,ap=Math.log,np=Math.LN2;function lp(e){return e>>>=0,e===0?32:31-(ap(e)/np|0)|0}var Ss=256,ws=262144,_s=4194304;function ln(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Cs(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var s=0,c=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var p=l&134217727;return p!==0?(l=p&~c,l!==0?s=ln(l):(d&=p,d!==0?s=ln(d):a||(a=p&~e,a!==0&&(s=ln(a))))):(p=l&~c,p!==0?s=ln(p):d!==0?s=ln(d):a||(a=l&~e,a!==0&&(s=ln(a)))),s===0?0:t!==0&&t!==s&&(t&c)===0&&(c=s&-s,a=t&-t,c>=a||c===32&&(a&4194048)!==0)?t:s}function bl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function sp(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bo(){var e=_s;return _s<<=1,(_s&62914560)===0&&(_s=4194304),e}function Ji(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function jl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ip(e,t,a,l,s,c){var d=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var p=e.entanglements,w=e.expirationTimes,D=e.hiddenUpdates;for(a=d&~a;0<a;){var G=31-Ct(a),J=1<<G;p[G]=0,w[G]=-1;var R=D[G];if(R!==null)for(D[G]=null,G=0;G<R.length;G++){var k=R[G];k!==null&&(k.lane&=-536870913)}a&=~J}l!==0&&qo(e,l,0),c!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=c&~(d&~t))}function qo(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Ct(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Ho(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-Ct(a),s=1<<l;s&t|e[l]&t&&(e[l]|=t),a&=~s}}function Yo(e,t){var a=t&-t;return a=(a&42)!==0?1:Ki(a),(a&(e.suspendedLanes|t))!==0?0:a}function Ki(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Go(){var e=E.p;return e!==0?e:(e=window.event,e===void 0?32:Eh(e.type))}function Xo(e,t){var a=E.p;try{return E.p=e,t()}finally{E.p=a}}var Oa=Math.random().toString(36).slice(2),ot="__reactFiber$"+Oa,yt="__reactProps$"+Oa,An="__reactContainer$"+Oa,Wi="__reactEvents$"+Oa,cp="__reactListeners$"+Oa,rp="__reactHandles$"+Oa,Vo="__reactResources$"+Oa,Nl="__reactMarker$"+Oa;function Ii(e){delete e[ot],delete e[yt],delete e[Wi],delete e[cp],delete e[rp]}function Dn(e){var t=e[ot];if(t)return t;for(var a=e.parentNode;a;){if(t=a[An]||a[ot]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=fh(e);e!==null;){if(a=e[ot])return a;e=fh(e)}return t}e=a,a=e.parentNode}return null}function Mn(e){if(e=e[ot]||e[An]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Sl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function zn(e){var t=e[Vo];return t||(t=e[Vo]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function it(e){e[Nl]=!0}var Qo=new Set,Zo={};function sn(e,t){On(e,t),On(e+"Capture",t)}function On(e,t){for(Zo[e]=t,e=0;e<t.length;e++)Qo.add(t[e])}var op=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fo={},$o={};function up(e){return L.call($o,e)?!0:L.call(Fo,e)?!1:op.test(e)?$o[e]=!0:(Fo[e]=!0,!1)}function Ts(e,t,a){if(up(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Es(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ra(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function Ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jo(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dp(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var s=l.get,c=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(d){a=""+d,c.call(this,d)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(d){a=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ec(e){if(!e._valueTracker){var t=Jo(e)?"checked":"value";e._valueTracker=dp(e,t,""+e[t])}}function Ko(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=Jo(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function As(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fp=/[\n"\\]/g;function Lt(e){return e.replace(fp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function tc(e,t,a,l,s,c,d,p){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ut(t)):e.value!==""+Ut(t)&&(e.value=""+Ut(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?ac(e,d,Ut(t)):a!=null?ac(e,d,Ut(a)):l!=null&&e.removeAttribute("value"),s==null&&c!=null&&(e.defaultChecked=!!c),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+Ut(p):e.removeAttribute("name")}function Po(e,t,a,l,s,c,d,p){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||a!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){ec(e);return}a=a!=null?""+Ut(a):"",t=t!=null?""+Ut(t):a,p||t===e.value||(e.value=t),e.defaultValue=t}l=l??s,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=p?e.checked:!!l,e.defaultChecked=!!l,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),ec(e)}function ac(e,t,a){t==="number"&&As(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Rn(e,t,a,l){if(e=e.options,t){t={};for(var s=0;s<a.length;s++)t["$"+a[s]]=!0;for(a=0;a<e.length;a++)s=t.hasOwnProperty("$"+e[a].value),e[a].selected!==s&&(e[a].selected=s),s&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ut(a),t=null,s=0;s<e.length;s++){if(e[s].value===a){e[s].selected=!0,l&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Wo(e,t,a){if(t!=null&&(t=""+Ut(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Ut(a):""}function Io(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(o(92));if(ie(l)){if(1<l.length)throw Error(o(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=Ut(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),ec(e)}function Un(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var hp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eu(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||hp.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function tu(e,t,a){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var s in t)l=t[s],t.hasOwnProperty(s)&&a[s]!==l&&eu(e,s,l)}else for(var c in t)t.hasOwnProperty(c)&&eu(e,c,t[c])}function nc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ds(e){return pp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function oa(){}var lc=null;function sc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ln=null,kn=null;function au(e){var t=Mn(e);if(t&&(e=t.stateNode)){var a=e[yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(tc(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Lt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var s=l[yt]||null;if(!s)throw Error(o(90));tc(l,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&Ko(l)}break e;case"textarea":Wo(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Rn(e,!!a.multiple,t,!1)}}}var ic=!1;function nu(e,t,a){if(ic)return e(t,a);ic=!0;try{var l=e(t);return l}finally{if(ic=!1,(Ln!==null||kn!==null)&&(vi(),Ln&&(t=Ln,e=kn,kn=Ln=null,au(t),e)))for(t=0;t<e.length;t++)au(e[t])}}function wl(e,t){var a=e.stateNode;if(a===null)return null;var l=a[yt]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,t,typeof a));return a}var ua=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cc=!1;if(ua)try{var _l={};Object.defineProperty(_l,"passive",{get:function(){cc=!0}}),window.addEventListener("test",_l,_l),window.removeEventListener("test",_l,_l)}catch{cc=!1}var Ra=null,rc=null,Ms=null;function lu(){if(Ms)return Ms;var e,t=rc,a=t.length,l,s="value"in Ra?Ra.value:Ra.textContent,c=s.length;for(e=0;e<a&&t[e]===s[e];e++);var d=a-e;for(l=1;l<=d&&t[a-l]===s[c-l];l++);return Ms=s.slice(e,1<l?1-l:void 0)}function zs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Os(){return!0}function su(){return!1}function xt(e){function t(a,l,s,c,d){this._reactName=a,this._targetInst=s,this.type=l,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(a=e[p],this[p]=a?a(c):c[p]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Os:su,this.isPropagationStopped=su,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Os)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Os)},persist:function(){},isPersistent:Os}),t}var cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rs=xt(cn),Cl=S({},cn,{view:0,detail:0}),gp=xt(Cl),oc,uc,Tl,Us=S({},Cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tl&&(Tl&&e.type==="mousemove"?(oc=e.screenX-Tl.screenX,uc=e.screenY-Tl.screenY):uc=oc=0,Tl=e),oc)},movementY:function(e){return"movementY"in e?e.movementY:uc}}),iu=xt(Us),vp=S({},Us,{dataTransfer:0}),yp=xt(vp),xp=S({},Cl,{relatedTarget:0}),dc=xt(xp),bp=S({},cn,{animationName:0,elapsedTime:0,pseudoElement:0}),jp=xt(bp),Np=S({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sp=xt(Np),wp=S({},cn,{data:0}),cu=xt(wp),_p={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ep(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Tp[e])?!!t[e]:!1}function fc(){return Ep}var Ap=S({},Cl,{key:function(e){if(e.key){var t=_p[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fc,charCode:function(e){return e.type==="keypress"?zs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Dp=xt(Ap),Mp=S({},Us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ru=xt(Mp),zp=S({},Cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fc}),Op=xt(zp),Rp=S({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Up=xt(Rp),Lp=S({},Us,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kp=xt(Lp),Bp=S({},cn,{newState:0,oldState:0}),qp=xt(Bp),Hp=[9,13,27,32],hc=ua&&"CompositionEvent"in window,El=null;ua&&"documentMode"in document&&(El=document.documentMode);var Yp=ua&&"TextEvent"in window&&!El,ou=ua&&(!hc||El&&8<El&&11>=El),uu=" ",du=!1;function fu(e,t){switch(e){case"keyup":return Hp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bn=!1;function Gp(e,t){switch(e){case"compositionend":return hu(t);case"keypress":return t.which!==32?null:(du=!0,uu);case"textInput":return e=t.data,e===uu&&du?null:e;default:return null}}function Xp(e,t){if(Bn)return e==="compositionend"||!hc&&fu(e,t)?(e=lu(),Ms=rc=Ra=null,Bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ou&&t.locale!=="ko"?null:t.data;default:return null}}var Vp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vp[e.type]:t==="textarea"}function pu(e,t,a,l){Ln?kn?kn.push(l):kn=[l]:Ln=l,t=wi(t,"onChange"),0<t.length&&(a=new Rs("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var Al=null,Dl=null;function Qp(e){Wf(e,0)}function Ls(e){var t=Sl(e);if(Ko(t))return e}function gu(e,t){if(e==="change")return t}var vu=!1;if(ua){var mc;if(ua){var pc="oninput"in document;if(!pc){var yu=document.createElement("div");yu.setAttribute("oninput","return;"),pc=typeof yu.oninput=="function"}mc=pc}else mc=!1;vu=mc&&(!document.documentMode||9<document.documentMode)}function xu(){Al&&(Al.detachEvent("onpropertychange",bu),Dl=Al=null)}function bu(e){if(e.propertyName==="value"&&Ls(Dl)){var t=[];pu(t,Dl,e,sc(e)),nu(Qp,t)}}function Zp(e,t,a){e==="focusin"?(xu(),Al=t,Dl=a,Al.attachEvent("onpropertychange",bu)):e==="focusout"&&xu()}function Fp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ls(Dl)}function $p(e,t){if(e==="click")return Ls(t)}function Jp(e,t){if(e==="input"||e==="change")return Ls(t)}function Kp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:Kp;function Ml(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var s=a[l];if(!L.call(t,s)||!Tt(e[s],t[s]))return!1}return!0}function ju(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nu(e,t){var a=ju(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ju(a)}}function Su(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Su(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=As(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=As(e.document)}return t}function gc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Pp=ua&&"documentMode"in document&&11>=document.documentMode,qn=null,vc=null,zl=null,yc=!1;function _u(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;yc||qn==null||qn!==As(l)||(l=qn,"selectionStart"in l&&gc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),zl&&Ml(zl,l)||(zl=l,l=wi(vc,"onSelect"),0<l.length&&(t=new Rs("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=qn)))}function rn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Hn={animationend:rn("Animation","AnimationEnd"),animationiteration:rn("Animation","AnimationIteration"),animationstart:rn("Animation","AnimationStart"),transitionrun:rn("Transition","TransitionRun"),transitionstart:rn("Transition","TransitionStart"),transitioncancel:rn("Transition","TransitionCancel"),transitionend:rn("Transition","TransitionEnd")},xc={},Cu={};ua&&(Cu=document.createElement("div").style,"AnimationEvent"in window||(delete Hn.animationend.animation,delete Hn.animationiteration.animation,delete Hn.animationstart.animation),"TransitionEvent"in window||delete Hn.transitionend.transition);function on(e){if(xc[e])return xc[e];if(!Hn[e])return e;var t=Hn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Cu)return xc[e]=t[a];return e}var Tu=on("animationend"),Eu=on("animationiteration"),Au=on("animationstart"),Wp=on("transitionrun"),Ip=on("transitionstart"),eg=on("transitioncancel"),Du=on("transitionend"),Mu=new Map,bc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bc.push("scrollEnd");function It(e,t){Mu.set(e,t),sn(t,[e])}var ks=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},kt=[],Yn=0,jc=0;function Bs(){for(var e=Yn,t=jc=Yn=0;t<e;){var a=kt[t];kt[t++]=null;var l=kt[t];kt[t++]=null;var s=kt[t];kt[t++]=null;var c=kt[t];if(kt[t++]=null,l!==null&&s!==null){var d=l.pending;d===null?s.next=s:(s.next=d.next,d.next=s),l.pending=s}c!==0&&zu(a,s,c)}}function qs(e,t,a,l){kt[Yn++]=e,kt[Yn++]=t,kt[Yn++]=a,kt[Yn++]=l,jc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Nc(e,t,a,l){return qs(e,t,a,l),Hs(e)}function un(e,t){return qs(e,null,null,t),Hs(e)}function zu(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var s=!1,c=e.return;c!==null;)c.childLanes|=a,l=c.alternate,l!==null&&(l.childLanes|=a),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(s=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,s&&t!==null&&(s=31-Ct(a),e=c.hiddenUpdates,l=e[s],l===null?e[s]=[t]:l.push(t),t.lane=a|536870912),c):null}function Hs(e){if(50<es)throw es=0,Mr=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Gn={};function tg(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,a,l){return new tg(e,t,a,l)}function Sc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function da(e,t){var a=e.alternate;return a===null?(a=Et(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ou(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ys(e,t,a,l,s,c){var d=0;if(l=e,typeof e=="function")Sc(e)&&(d=1);else if(typeof e=="string")d=iv(e,a,te.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case O:return e=Et(31,a,t,s),e.elementType=O,e.lanes=c,e;case B:return dn(a.children,s,c,t);case $:d=8,s|=24;break;case K:return e=Et(12,a,t,s|2),e.elementType=K,e.lanes=c,e;case se:return e=Et(13,a,t,s),e.elementType=se,e.lanes=c,e;case ae:return e=Et(19,a,t,s),e.elementType=ae,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:d=10;break e;case V:d=9;break e;case M:d=11;break e;case Q:d=14;break e;case Y:d=16,l=null;break e}d=29,a=Error(o(130,e===null?"null":typeof e,"")),l=null}return t=Et(d,a,t,s),t.elementType=e,t.type=l,t.lanes=c,t}function dn(e,t,a,l){return e=Et(7,e,l,t),e.lanes=a,e}function wc(e,t,a){return e=Et(6,e,null,t),e.lanes=a,e}function Ru(e){var t=Et(18,null,null,0);return t.stateNode=e,t}function _c(e,t,a){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Uu=new WeakMap;function Bt(e,t){if(typeof e=="object"&&e!==null){var a=Uu.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Ma(t)},Uu.set(e,t),t)}return{value:e,source:t,stack:Ma(t)}}var Xn=[],Vn=0,Gs=null,Ol=0,qt=[],Ht=0,Ua=null,la=1,sa="";function fa(e,t){Xn[Vn++]=Ol,Xn[Vn++]=Gs,Gs=e,Ol=t}function Lu(e,t,a){qt[Ht++]=la,qt[Ht++]=sa,qt[Ht++]=Ua,Ua=e;var l=la;e=sa;var s=32-Ct(l)-1;l&=~(1<<s),a+=1;var c=32-Ct(t)+s;if(30<c){var d=s-s%5;c=(l&(1<<d)-1).toString(32),l>>=d,s-=d,la=1<<32-Ct(t)+s|a<<s|l,sa=c+e}else la=1<<c|a<<s|l,sa=e}function Cc(e){e.return!==null&&(fa(e,1),Lu(e,1,0))}function Tc(e){for(;e===Gs;)Gs=Xn[--Vn],Xn[Vn]=null,Ol=Xn[--Vn],Xn[Vn]=null;for(;e===Ua;)Ua=qt[--Ht],qt[Ht]=null,sa=qt[--Ht],qt[Ht]=null,la=qt[--Ht],qt[Ht]=null}function ku(e,t){qt[Ht++]=la,qt[Ht++]=sa,qt[Ht++]=Ua,la=t.id,sa=t.overflow,Ua=e}var ut=null,Xe=null,Ae=!1,La=null,Yt=!1,Ec=Error(o(519));function ka(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Rl(Bt(t,e)),Ec}function Bu(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[ot]=e,t[yt]=l,a){case"dialog":Ce("cancel",t),Ce("close",t);break;case"iframe":case"object":case"embed":Ce("load",t);break;case"video":case"audio":for(a=0;a<as.length;a++)Ce(as[a],t);break;case"source":Ce("error",t);break;case"img":case"image":case"link":Ce("error",t),Ce("load",t);break;case"details":Ce("toggle",t);break;case"input":Ce("invalid",t),Po(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ce("invalid",t);break;case"textarea":Ce("invalid",t),Io(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||ah(t.textContent,a)?(l.popover!=null&&(Ce("beforetoggle",t),Ce("toggle",t)),l.onScroll!=null&&Ce("scroll",t),l.onScrollEnd!=null&&Ce("scrollend",t),l.onClick!=null&&(t.onclick=oa),t=!0):t=!1,t||ka(e,!0)}function qu(e){for(ut=e.return;ut;)switch(ut.tag){case 5:case 31:case 13:Yt=!1;return;case 27:case 3:Yt=!0;return;default:ut=ut.return}}function Qn(e){if(e!==ut)return!1;if(!Ae)return qu(e),Ae=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Zr(e.type,e.memoizedProps)),a=!a),a&&Xe&&ka(e),qu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Xe=dh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Xe=dh(e)}else t===27?(t=Xe,Pa(e.type)?(e=Pr,Pr=null,Xe=e):Xe=t):Xe=ut?Xt(e.stateNode.nextSibling):null;return!0}function fn(){Xe=ut=null,Ae=!1}function Ac(){var e=La;return e!==null&&(St===null?St=e:St.push.apply(St,e),La=null),e}function Rl(e){La===null?La=[e]:La.push(e)}var Dc=j(null),hn=null,ha=null;function Ba(e,t,a){I(Dc,t._currentValue),t._currentValue=a}function ma(e){e._currentValue=Dc.current,q(Dc)}function Mc(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function zc(e,t,a,l){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var c=s.dependencies;if(c!==null){var d=s.child;c=c.firstContext;e:for(;c!==null;){var p=c;c=s;for(var w=0;w<t.length;w++)if(p.context===t[w]){c.lanes|=a,p=c.alternate,p!==null&&(p.lanes|=a),Mc(c.return,a,e),l||(d=null);break e}c=p.next}}else if(s.tag===18){if(d=s.return,d===null)throw Error(o(341));d.lanes|=a,c=d.alternate,c!==null&&(c.lanes|=a),Mc(d,a,e),d=null}else d=s.child;if(d!==null)d.return=s;else for(d=s;d!==null;){if(d===e){d=null;break}if(s=d.sibling,s!==null){s.return=d.return,d=s;break}d=d.return}s=d}}function Zn(e,t,a,l){e=null;for(var s=t,c=!1;s!==null;){if(!c){if((s.flags&524288)!==0)c=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var d=s.alternate;if(d===null)throw Error(o(387));if(d=d.memoizedProps,d!==null){var p=s.type;Tt(s.pendingProps.value,d.value)||(e!==null?e.push(p):e=[p])}}else if(s===we.current){if(d=s.alternate,d===null)throw Error(o(387));d.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(cs):e=[cs])}s=s.return}e!==null&&zc(t,e,a,l),t.flags|=262144}function Xs(e){for(e=e.firstContext;e!==null;){if(!Tt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function mn(e){hn=e,ha=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function dt(e){return Hu(hn,e)}function Vs(e,t){return hn===null&&mn(e),Hu(e,t)}function Hu(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ha===null){if(e===null)throw Error(o(308));ha=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ha=ha.next=t;return a}var ag=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},ng=i.unstable_scheduleCallback,lg=i.unstable_NormalPriority,Ie={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oc(){return{controller:new ag,data:new Map,refCount:0}}function Ul(e){e.refCount--,e.refCount===0&&ng(lg,function(){e.controller.abort()})}var Ll=null,Rc=0,Fn=0,$n=null;function sg(e,t){if(Ll===null){var a=Ll=[];Rc=0,Fn=kr(),$n={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Rc++,t.then(Yu,Yu),t}function Yu(){if(--Rc===0&&Ll!==null){$n!==null&&($n.status="fulfilled");var e=Ll;Ll=null,Fn=0,$n=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ig(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(s){a.push(s)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var s=0;s<a.length;s++)(0,a[s])(t)},function(s){for(l.status="rejected",l.reason=s,s=0;s<a.length;s++)(0,a[s])(void 0)}),l}var Gu=C.S;C.S=function(e,t){Cf=ze(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&sg(e,t),Gu!==null&&Gu(e,t)};var pn=j(null);function Uc(){var e=pn.current;return e!==null?e:Ye.pooledCache}function Qs(e,t){t===null?I(pn,pn.current):I(pn,t.pool)}function Xu(){var e=Uc();return e===null?null:{parent:Ie._currentValue,pool:e}}var Jn=Error(o(460)),Lc=Error(o(474)),Zs=Error(o(542)),Fs={then:function(){}};function Vu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qu(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(oa,oa),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Fu(e),e;default:if(typeof t.status=="string")t.then(oa,oa);else{if(e=Ye,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=l}},function(l){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Fu(e),e}throw vn=t,Jn}}function gn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(vn=a,Jn):a}}var vn=null;function Zu(){if(vn===null)throw Error(o(459));var e=vn;return vn=null,e}function Fu(e){if(e===Jn||e===Zs)throw Error(o(483))}var Kn=null,kl=0;function $s(e){var t=kl;return kl+=1,Kn===null&&(Kn=[]),Qu(Kn,e,t)}function Bl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Js(e,t){throw t.$$typeof===z?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function $u(e){function t(T,_){if(e){var A=T.deletions;A===null?(T.deletions=[_],T.flags|=16):A.push(_)}}function a(T,_){if(!e)return null;for(;_!==null;)t(T,_),_=_.sibling;return null}function l(T){for(var _=new Map;T!==null;)T.key!==null?_.set(T.key,T):_.set(T.index,T),T=T.sibling;return _}function s(T,_){return T=da(T,_),T.index=0,T.sibling=null,T}function c(T,_,A){return T.index=A,e?(A=T.alternate,A!==null?(A=A.index,A<_?(T.flags|=67108866,_):A):(T.flags|=67108866,_)):(T.flags|=1048576,_)}function d(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function p(T,_,A,Z){return _===null||_.tag!==6?(_=wc(A,T.mode,Z),_.return=T,_):(_=s(_,A),_.return=T,_)}function w(T,_,A,Z){var he=A.type;return he===B?G(T,_,A.props.children,Z,A.key):_!==null&&(_.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Y&&gn(he)===_.type)?(_=s(_,A.props),Bl(_,A),_.return=T,_):(_=Ys(A.type,A.key,A.props,null,T.mode,Z),Bl(_,A),_.return=T,_)}function D(T,_,A,Z){return _===null||_.tag!==4||_.stateNode.containerInfo!==A.containerInfo||_.stateNode.implementation!==A.implementation?(_=_c(A,T.mode,Z),_.return=T,_):(_=s(_,A.children||[]),_.return=T,_)}function G(T,_,A,Z,he){return _===null||_.tag!==7?(_=dn(A,T.mode,Z,he),_.return=T,_):(_=s(_,A),_.return=T,_)}function J(T,_,A){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=wc(""+_,T.mode,A),_.return=T,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case H:return A=Ys(_.type,_.key,_.props,null,T.mode,A),Bl(A,_),A.return=T,A;case F:return _=_c(_,T.mode,A),_.return=T,_;case Y:return _=gn(_),J(T,_,A)}if(ie(_)||P(_))return _=dn(_,T.mode,A,null),_.return=T,_;if(typeof _.then=="function")return J(T,$s(_),A);if(_.$$typeof===U)return J(T,Vs(T,_),A);Js(T,_)}return null}function R(T,_,A,Z){var he=_!==null?_.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return he!==null?null:p(T,_,""+A,Z);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case H:return A.key===he?w(T,_,A,Z):null;case F:return A.key===he?D(T,_,A,Z):null;case Y:return A=gn(A),R(T,_,A,Z)}if(ie(A)||P(A))return he!==null?null:G(T,_,A,Z,null);if(typeof A.then=="function")return R(T,_,$s(A),Z);if(A.$$typeof===U)return R(T,_,Vs(T,A),Z);Js(T,A)}return null}function k(T,_,A,Z,he){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return T=T.get(A)||null,p(_,T,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case H:return T=T.get(Z.key===null?A:Z.key)||null,w(_,T,Z,he);case F:return T=T.get(Z.key===null?A:Z.key)||null,D(_,T,Z,he);case Y:return Z=gn(Z),k(T,_,A,Z,he)}if(ie(Z)||P(Z))return T=T.get(A)||null,G(_,T,Z,he,null);if(typeof Z.then=="function")return k(T,_,A,$s(Z),he);if(Z.$$typeof===U)return k(T,_,A,Vs(_,Z),he);Js(_,Z)}return null}function oe(T,_,A,Z){for(var he=null,De=null,ue=_,Se=_=0,Ee=null;ue!==null&&Se<A.length;Se++){ue.index>Se?(Ee=ue,ue=null):Ee=ue.sibling;var Me=R(T,ue,A[Se],Z);if(Me===null){ue===null&&(ue=Ee);break}e&&ue&&Me.alternate===null&&t(T,ue),_=c(Me,_,Se),De===null?he=Me:De.sibling=Me,De=Me,ue=Ee}if(Se===A.length)return a(T,ue),Ae&&fa(T,Se),he;if(ue===null){for(;Se<A.length;Se++)ue=J(T,A[Se],Z),ue!==null&&(_=c(ue,_,Se),De===null?he=ue:De.sibling=ue,De=ue);return Ae&&fa(T,Se),he}for(ue=l(ue);Se<A.length;Se++)Ee=k(ue,T,Se,A[Se],Z),Ee!==null&&(e&&Ee.alternate!==null&&ue.delete(Ee.key===null?Se:Ee.key),_=c(Ee,_,Se),De===null?he=Ee:De.sibling=Ee,De=Ee);return e&&ue.forEach(function(an){return t(T,an)}),Ae&&fa(T,Se),he}function me(T,_,A,Z){if(A==null)throw Error(o(151));for(var he=null,De=null,ue=_,Se=_=0,Ee=null,Me=A.next();ue!==null&&!Me.done;Se++,Me=A.next()){ue.index>Se?(Ee=ue,ue=null):Ee=ue.sibling;var an=R(T,ue,Me.value,Z);if(an===null){ue===null&&(ue=Ee);break}e&&ue&&an.alternate===null&&t(T,ue),_=c(an,_,Se),De===null?he=an:De.sibling=an,De=an,ue=Ee}if(Me.done)return a(T,ue),Ae&&fa(T,Se),he;if(ue===null){for(;!Me.done;Se++,Me=A.next())Me=J(T,Me.value,Z),Me!==null&&(_=c(Me,_,Se),De===null?he=Me:De.sibling=Me,De=Me);return Ae&&fa(T,Se),he}for(ue=l(ue);!Me.done;Se++,Me=A.next())Me=k(ue,T,Se,Me.value,Z),Me!==null&&(e&&Me.alternate!==null&&ue.delete(Me.key===null?Se:Me.key),_=c(Me,_,Se),De===null?he=Me:De.sibling=Me,De=Me);return e&&ue.forEach(function(vv){return t(T,vv)}),Ae&&fa(T,Se),he}function qe(T,_,A,Z){if(typeof A=="object"&&A!==null&&A.type===B&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case H:e:{for(var he=A.key;_!==null;){if(_.key===he){if(he=A.type,he===B){if(_.tag===7){a(T,_.sibling),Z=s(_,A.props.children),Z.return=T,T=Z;break e}}else if(_.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Y&&gn(he)===_.type){a(T,_.sibling),Z=s(_,A.props),Bl(Z,A),Z.return=T,T=Z;break e}a(T,_);break}else t(T,_);_=_.sibling}A.type===B?(Z=dn(A.props.children,T.mode,Z,A.key),Z.return=T,T=Z):(Z=Ys(A.type,A.key,A.props,null,T.mode,Z),Bl(Z,A),Z.return=T,T=Z)}return d(T);case F:e:{for(he=A.key;_!==null;){if(_.key===he)if(_.tag===4&&_.stateNode.containerInfo===A.containerInfo&&_.stateNode.implementation===A.implementation){a(T,_.sibling),Z=s(_,A.children||[]),Z.return=T,T=Z;break e}else{a(T,_);break}else t(T,_);_=_.sibling}Z=_c(A,T.mode,Z),Z.return=T,T=Z}return d(T);case Y:return A=gn(A),qe(T,_,A,Z)}if(ie(A))return oe(T,_,A,Z);if(P(A)){if(he=P(A),typeof he!="function")throw Error(o(150));return A=he.call(A),me(T,_,A,Z)}if(typeof A.then=="function")return qe(T,_,$s(A),Z);if(A.$$typeof===U)return qe(T,_,Vs(T,A),Z);Js(T,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,_!==null&&_.tag===6?(a(T,_.sibling),Z=s(_,A),Z.return=T,T=Z):(a(T,_),Z=wc(A,T.mode,Z),Z.return=T,T=Z),d(T)):a(T,_)}return function(T,_,A,Z){try{kl=0;var he=qe(T,_,A,Z);return Kn=null,he}catch(ue){if(ue===Jn||ue===Zs)throw ue;var De=Et(29,ue,null,T.mode);return De.lanes=Z,De.return=T,De}finally{}}}var yn=$u(!0),Ju=$u(!1),qa=!1;function kc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ha(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ya(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Oe&2)!==0){var s=l.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),l.pending=t,t=Hs(e),zu(e,null,a),t}return qs(e,l,t,a),Hs(e)}function ql(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Ho(e,a)}}function qc(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var s=null,c=null;if(a=a.firstBaseUpdate,a!==null){do{var d={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};c===null?s=c=d:c=c.next=d,a=a.next}while(a!==null);c===null?s=c=t:c=c.next=t}else s=c=t;a={baseState:l.baseState,firstBaseUpdate:s,lastBaseUpdate:c,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Hc=!1;function Hl(){if(Hc){var e=$n;if(e!==null)throw e}}function Yl(e,t,a,l){Hc=!1;var s=e.updateQueue;qa=!1;var c=s.firstBaseUpdate,d=s.lastBaseUpdate,p=s.shared.pending;if(p!==null){s.shared.pending=null;var w=p,D=w.next;w.next=null,d===null?c=D:d.next=D,d=w;var G=e.alternate;G!==null&&(G=G.updateQueue,p=G.lastBaseUpdate,p!==d&&(p===null?G.firstBaseUpdate=D:p.next=D,G.lastBaseUpdate=w))}if(c!==null){var J=s.baseState;d=0,G=D=w=null,p=c;do{var R=p.lane&-536870913,k=R!==p.lane;if(k?(Te&R)===R:(l&R)===R){R!==0&&R===Fn&&(Hc=!0),G!==null&&(G=G.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var oe=e,me=p;R=t;var qe=a;switch(me.tag){case 1:if(oe=me.payload,typeof oe=="function"){J=oe.call(qe,J,R);break e}J=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=me.payload,R=typeof oe=="function"?oe.call(qe,J,R):oe,R==null)break e;J=S({},J,R);break e;case 2:qa=!0}}R=p.callback,R!==null&&(e.flags|=64,k&&(e.flags|=8192),k=s.callbacks,k===null?s.callbacks=[R]:k.push(R))}else k={lane:R,tag:p.tag,payload:p.payload,callback:p.callback,next:null},G===null?(D=G=k,w=J):G=G.next=k,d|=R;if(p=p.next,p===null){if(p=s.shared.pending,p===null)break;k=p,p=k.next,k.next=null,s.lastBaseUpdate=k,s.shared.pending=null}}while(!0);G===null&&(w=J),s.baseState=w,s.firstBaseUpdate=D,s.lastBaseUpdate=G,c===null&&(s.shared.lanes=0),Za|=d,e.lanes=d,e.memoizedState=J}}function Ku(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Pu(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ku(a[e],t)}var Pn=j(null),Ks=j(0);function Wu(e,t){e=Sa,I(Ks,e),I(Pn,t),Sa=e|t.baseLanes}function Yc(){I(Ks,Sa),I(Pn,Pn.current)}function Gc(){Sa=Ks.current,q(Pn),q(Ks)}var At=j(null),Gt=null;function Ga(e){var t=e.alternate;I(Pe,Pe.current&1),I(At,e),Gt===null&&(t===null||Pn.current!==null||t.memoizedState!==null)&&(Gt=e)}function Xc(e){I(Pe,Pe.current),I(At,e),Gt===null&&(Gt=e)}function Iu(e){e.tag===22?(I(Pe,Pe.current),I(At,e),Gt===null&&(Gt=e)):Xa()}function Xa(){I(Pe,Pe.current),I(At,At.current)}function Dt(e){q(At),Gt===e&&(Gt=null),q(Pe)}var Pe=j(0);function Ps(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Jr(a)||Kr(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pa=0,je=null,ke=null,et=null,Ws=!1,Wn=!1,xn=!1,Is=0,Gl=0,In=null,cg=0;function Je(){throw Error(o(321))}function Vc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Tt(e[a],t[a]))return!1;return!0}function Qc(e,t,a,l,s,c){return pa=c,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,C.H=e===null||e.memoizedState===null?Ld:ir,xn=!1,c=a(l,s),xn=!1,Wn&&(c=td(t,a,l,s)),ed(e),c}function ed(e){C.H=Ql;var t=ke!==null&&ke.next!==null;if(pa=0,et=ke=je=null,Ws=!1,Gl=0,In=null,t)throw Error(o(300));e===null||tt||(e=e.dependencies,e!==null&&Xs(e)&&(tt=!0))}function td(e,t,a,l){je=e;var s=0;do{if(Wn&&(In=null),Gl=0,Wn=!1,25<=s)throw Error(o(301));if(s+=1,et=ke=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}C.H=kd,c=t(a,l)}while(Wn);return c}function rg(){var e=C.H,t=e.useState()[0];return t=typeof t.then=="function"?Xl(t):t,e=e.useState()[0],(ke!==null?ke.memoizedState:null)!==e&&(je.flags|=1024),t}function Zc(){var e=Is!==0;return Is=0,e}function Fc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function $c(e){if(Ws){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ws=!1}pa=0,et=ke=je=null,Wn=!1,Gl=Is=0,In=null}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?je.memoizedState=et=e:et=et.next=e,et}function We(){if(ke===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=et===null?je.memoizedState:et.next;if(t!==null)et=t,ke=e;else{if(e===null)throw je.alternate===null?Error(o(467)):Error(o(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},et===null?je.memoizedState=et=e:et=et.next=e}return et}function ei(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xl(e){var t=Gl;return Gl+=1,In===null&&(In=[]),e=Qu(In,e,t),t=je,(et===null?t.memoizedState:et.next)===null&&(t=t.alternate,C.H=t===null||t.memoizedState===null?Ld:ir),e}function ti(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Xl(e);if(e.$$typeof===U)return dt(e)}throw Error(o(438,String(e)))}function Jc(e){var t=null,a=je.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=ei(),je.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=ne;return t.index++,a}function ga(e,t){return typeof t=="function"?t(e):t}function ai(e){var t=We();return Kc(t,ke,e)}function Kc(e,t,a){var l=e.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=a;var s=e.baseQueue,c=l.pending;if(c!==null){if(s!==null){var d=s.next;s.next=c.next,c.next=d}t.baseQueue=s=c,l.pending=null}if(c=e.baseState,s===null)e.memoizedState=c;else{t=s.next;var p=d=null,w=null,D=t,G=!1;do{var J=D.lane&-536870913;if(J!==D.lane?(Te&J)===J:(pa&J)===J){var R=D.revertLane;if(R===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),J===Fn&&(G=!0);else if((pa&R)===R){D=D.next,R===Fn&&(G=!0);continue}else J={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},w===null?(p=w=J,d=c):w=w.next=J,je.lanes|=R,Za|=R;J=D.action,xn&&a(c,J),c=D.hasEagerState?D.eagerState:a(c,J)}else R={lane:J,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},w===null?(p=w=R,d=c):w=w.next=R,je.lanes|=J,Za|=J;D=D.next}while(D!==null&&D!==t);if(w===null?d=c:w.next=p,!Tt(c,e.memoizedState)&&(tt=!0,G&&(a=$n,a!==null)))throw a;e.memoizedState=c,e.baseState=d,e.baseQueue=w,l.lastRenderedState=c}return s===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Pc(e){var t=We(),a=t.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var l=a.dispatch,s=a.pending,c=t.memoizedState;if(s!==null){a.pending=null;var d=s=s.next;do c=e(c,d.action),d=d.next;while(d!==s);Tt(c,t.memoizedState)||(tt=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),a.lastRenderedState=c}return[c,l]}function ad(e,t,a){var l=je,s=We(),c=Ae;if(c){if(a===void 0)throw Error(o(407));a=a()}else a=t();var d=!Tt((ke||s).memoizedState,a);if(d&&(s.memoizedState=a,tt=!0),s=s.queue,er(sd.bind(null,l,s,e),[e]),s.getSnapshot!==t||d||et!==null&&et.memoizedState.tag&1){if(l.flags|=2048,el(9,{destroy:void 0},ld.bind(null,l,s,a,t),null),Ye===null)throw Error(o(349));c||(pa&127)!==0||nd(l,t,a)}return a}function nd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=je.updateQueue,t===null?(t=ei(),je.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function ld(e,t,a,l){t.value=a,t.getSnapshot=l,id(t)&&cd(e)}function sd(e,t,a){return a(function(){id(t)&&cd(e)})}function id(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Tt(e,a)}catch{return!0}}function cd(e){var t=un(e,2);t!==null&&wt(t,e,2)}function Wc(e){var t=pt();if(typeof e=="function"){var a=e;if(e=a(),xn){za(!0);try{a()}finally{za(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:e},t}function rd(e,t,a,l){return e.baseState=a,Kc(e,ke,typeof l=="function"?l:ga)}function og(e,t,a,l,s){if(si(e))throw Error(o(485));if(e=t.action,e!==null){var c={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){c.listeners.push(d)}};C.T!==null?a(!0):c.isTransition=!1,l(c),a=t.pending,a===null?(c.next=t.pending=c,od(t,c)):(c.next=a.next,t.pending=a.next=c)}}function od(e,t){var a=t.action,l=t.payload,s=e.state;if(t.isTransition){var c=C.T,d={};C.T=d;try{var p=a(s,l),w=C.S;w!==null&&w(d,p),ud(e,t,p)}catch(D){Ic(e,t,D)}finally{c!==null&&d.types!==null&&(c.types=d.types),C.T=c}}else try{c=a(s,l),ud(e,t,c)}catch(D){Ic(e,t,D)}}function ud(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){dd(e,t,l)},function(l){return Ic(e,t,l)}):dd(e,t,a)}function dd(e,t,a){t.status="fulfilled",t.value=a,fd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,od(e,a)))}function Ic(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,fd(t),t=t.next;while(t!==l)}e.action=null}function fd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function hd(e,t){return t}function md(e,t){if(Ae){var a=Ye.formState;if(a!==null){e:{var l=je;if(Ae){if(Xe){t:{for(var s=Xe,c=Yt;s.nodeType!==8;){if(!c){s=null;break t}if(s=Xt(s.nextSibling),s===null){s=null;break t}}c=s.data,s=c==="F!"||c==="F"?s:null}if(s){Xe=Xt(s.nextSibling),l=s.data==="F!";break e}}ka(l)}l=!1}l&&(t=a[0])}}return a=pt(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hd,lastRenderedState:t},a.queue=l,a=Od.bind(null,je,l),l.dispatch=a,l=Wc(!1),c=sr.bind(null,je,!1,l.queue),l=pt(),s={state:t,dispatch:null,action:e,pending:null},l.queue=s,a=og.bind(null,je,s,c,a),s.dispatch=a,l.memoizedState=e,[t,a,!1]}function pd(e){var t=We();return gd(t,ke,e)}function gd(e,t,a){if(t=Kc(e,t,hd)[0],e=ai(ga)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Xl(t)}catch(d){throw d===Jn?Zs:d}else l=t;t=We();var s=t.queue,c=s.dispatch;return a!==t.memoizedState&&(je.flags|=2048,el(9,{destroy:void 0},ug.bind(null,s,a),null)),[l,c,e]}function ug(e,t){e.action=t}function vd(e){var t=We(),a=ke;if(a!==null)return gd(t,a,e);We(),t=t.memoizedState,a=We();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function el(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=je.updateQueue,t===null&&(t=ei(),je.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function yd(){return We().memoizedState}function ni(e,t,a,l){var s=pt();je.flags|=e,s.memoizedState=el(1|t,{destroy:void 0},a,l===void 0?null:l)}function li(e,t,a,l){var s=We();l=l===void 0?null:l;var c=s.memoizedState.inst;ke!==null&&l!==null&&Vc(l,ke.memoizedState.deps)?s.memoizedState=el(t,c,a,l):(je.flags|=e,s.memoizedState=el(1|t,c,a,l))}function xd(e,t){ni(8390656,8,e,t)}function er(e,t){li(2048,8,e,t)}function dg(e){je.flags|=4;var t=je.updateQueue;if(t===null)t=ei(),je.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function bd(e){var t=We().memoizedState;return dg({ref:t,nextImpl:e}),function(){if((Oe&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function jd(e,t){return li(4,2,e,t)}function Nd(e,t){return li(4,4,e,t)}function Sd(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wd(e,t,a){a=a!=null?a.concat([e]):null,li(4,4,Sd.bind(null,t,e),a)}function tr(){}function _d(e,t){var a=We();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&Vc(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function Cd(e,t){var a=We();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&Vc(t,l[1]))return l[0];if(l=e(),xn){za(!0);try{e()}finally{za(!1)}}return a.memoizedState=[l,t],l}function ar(e,t,a){return a===void 0||(pa&1073741824)!==0&&(Te&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Ef(),je.lanes|=e,Za|=e,a)}function Td(e,t,a,l){return Tt(a,t)?a:Pn.current!==null?(e=ar(e,a,l),Tt(e,t)||(tt=!0),e):(pa&42)===0||(pa&1073741824)!==0&&(Te&261930)===0?(tt=!0,e.memoizedState=a):(e=Ef(),je.lanes|=e,Za|=e,t)}function Ed(e,t,a,l,s){var c=E.p;E.p=c!==0&&8>c?c:8;var d=C.T,p={};C.T=p,sr(e,!1,t,a);try{var w=s(),D=C.S;if(D!==null&&D(p,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var G=ig(w,l);Vl(e,t,G,Ot(e))}else Vl(e,t,l,Ot(e))}catch(J){Vl(e,t,{then:function(){},status:"rejected",reason:J},Ot())}finally{E.p=c,d!==null&&p.types!==null&&(d.types=p.types),C.T=d}}function fg(){}function nr(e,t,a,l){if(e.tag!==5)throw Error(o(476));var s=Ad(e).queue;Ed(e,s,t,le,a===null?fg:function(){return Dd(e),a(l)})}function Ad(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:le},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Dd(e){var t=Ad(e);t.next===null&&(t=e.alternate.memoizedState),Vl(e,t.next.queue,{},Ot())}function lr(){return dt(cs)}function Md(){return We().memoizedState}function zd(){return We().memoizedState}function hg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Ot();e=Ha(a);var l=Ya(t,e,a);l!==null&&(wt(l,t,a),ql(l,t,a)),t={cache:Oc()},e.payload=t;return}t=t.return}}function mg(e,t,a){var l=Ot();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},si(e)?Rd(t,a):(a=Nc(e,t,a,l),a!==null&&(wt(a,e,l),Ud(a,t,l)))}function Od(e,t,a){var l=Ot();Vl(e,t,a,l)}function Vl(e,t,a,l){var s={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(si(e))Rd(t,s);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var d=t.lastRenderedState,p=c(d,a);if(s.hasEagerState=!0,s.eagerState=p,Tt(p,d))return qs(e,t,s,0),Ye===null&&Bs(),!1}catch{}finally{}if(a=Nc(e,t,s,l),a!==null)return wt(a,e,l),Ud(a,t,l),!0}return!1}function sr(e,t,a,l){if(l={lane:2,revertLane:kr(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},si(e)){if(t)throw Error(o(479))}else t=Nc(e,a,l,2),t!==null&&wt(t,e,2)}function si(e){var t=e.alternate;return e===je||t!==null&&t===je}function Rd(e,t){Wn=Ws=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Ud(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Ho(e,a)}}var Ql={readContext:dt,use:ti,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je};Ql.useEffectEvent=Je;var Ld={readContext:dt,use:ti,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:dt,useEffect:xd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,ni(4194308,4,Sd.bind(null,t,e),a)},useLayoutEffect:function(e,t){return ni(4194308,4,e,t)},useInsertionEffect:function(e,t){ni(4,2,e,t)},useMemo:function(e,t){var a=pt();t=t===void 0?null:t;var l=e();if(xn){za(!0);try{e()}finally{za(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=pt();if(a!==void 0){var s=a(t);if(xn){za(!0);try{a(t)}finally{za(!1)}}}else s=t;return l.memoizedState=l.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},l.queue=e,e=e.dispatch=mg.bind(null,je,e),[l.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:function(e){e=Wc(e);var t=e.queue,a=Od.bind(null,je,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:tr,useDeferredValue:function(e,t){var a=pt();return ar(a,e,t)},useTransition:function(){var e=Wc(!1);return e=Ed.bind(null,je,e.queue,!0,!1),pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=je,s=pt();if(Ae){if(a===void 0)throw Error(o(407));a=a()}else{if(a=t(),Ye===null)throw Error(o(349));(Te&127)!==0||nd(l,t,a)}s.memoizedState=a;var c={value:a,getSnapshot:t};return s.queue=c,xd(sd.bind(null,l,c,e),[e]),l.flags|=2048,el(9,{destroy:void 0},ld.bind(null,l,c,a,t),null),a},useId:function(){var e=pt(),t=Ye.identifierPrefix;if(Ae){var a=sa,l=la;a=(l&~(1<<32-Ct(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Is++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=cg++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:lr,useFormState:md,useActionState:md,useOptimistic:function(e){var t=pt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=sr.bind(null,je,!0,a),a.dispatch=t,[e,t]},useMemoCache:Jc,useCacheRefresh:function(){return pt().memoizedState=hg.bind(null,je)},useEffectEvent:function(e){var t=pt(),a={impl:e};return t.memoizedState=a,function(){if((Oe&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},ir={readContext:dt,use:ti,useCallback:_d,useContext:dt,useEffect:er,useImperativeHandle:wd,useInsertionEffect:jd,useLayoutEffect:Nd,useMemo:Cd,useReducer:ai,useRef:yd,useState:function(){return ai(ga)},useDebugValue:tr,useDeferredValue:function(e,t){var a=We();return Td(a,ke.memoizedState,e,t)},useTransition:function(){var e=ai(ga)[0],t=We().memoizedState;return[typeof e=="boolean"?e:Xl(e),t]},useSyncExternalStore:ad,useId:Md,useHostTransitionStatus:lr,useFormState:pd,useActionState:pd,useOptimistic:function(e,t){var a=We();return rd(a,ke,e,t)},useMemoCache:Jc,useCacheRefresh:zd};ir.useEffectEvent=bd;var kd={readContext:dt,use:ti,useCallback:_d,useContext:dt,useEffect:er,useImperativeHandle:wd,useInsertionEffect:jd,useLayoutEffect:Nd,useMemo:Cd,useReducer:Pc,useRef:yd,useState:function(){return Pc(ga)},useDebugValue:tr,useDeferredValue:function(e,t){var a=We();return ke===null?ar(a,e,t):Td(a,ke.memoizedState,e,t)},useTransition:function(){var e=Pc(ga)[0],t=We().memoizedState;return[typeof e=="boolean"?e:Xl(e),t]},useSyncExternalStore:ad,useId:Md,useHostTransitionStatus:lr,useFormState:vd,useActionState:vd,useOptimistic:function(e,t){var a=We();return ke!==null?rd(a,ke,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Jc,useCacheRefresh:zd};kd.useEffectEvent=bd;function cr(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:S({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var rr={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=Ot(),s=Ha(l);s.payload=t,a!=null&&(s.callback=a),t=Ya(e,s,l),t!==null&&(wt(t,e,l),ql(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=Ot(),s=Ha(l);s.tag=1,s.payload=t,a!=null&&(s.callback=a),t=Ya(e,s,l),t!==null&&(wt(t,e,l),ql(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Ot(),l=Ha(a);l.tag=2,t!=null&&(l.callback=t),t=Ya(e,l,a),t!==null&&(wt(t,e,a),ql(t,e,a))}};function Bd(e,t,a,l,s,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,c,d):t.prototype&&t.prototype.isPureReactComponent?!Ml(a,l)||!Ml(s,c):!0}function qd(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&rr.enqueueReplaceState(t,t.state,null)}function bn(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=S({},a));for(var s in e)a[s]===void 0&&(a[s]=e[s])}return a}function Hd(e){ks(e)}function Yd(e){console.error(e)}function Gd(e){ks(e)}function ii(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Xd(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function or(e,t,a){return a=Ha(a),a.tag=3,a.payload={element:null},a.callback=function(){ii(e,t)},a}function Vd(e){return e=Ha(e),e.tag=3,e}function Qd(e,t,a,l){var s=a.type.getDerivedStateFromError;if(typeof s=="function"){var c=l.value;e.payload=function(){return s(c)},e.callback=function(){Xd(t,a,l)}}var d=a.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){Xd(t,a,l),typeof s!="function"&&(Fa===null?Fa=new Set([this]):Fa.add(this));var p=l.stack;this.componentDidCatch(l.value,{componentStack:p!==null?p:""})})}function pg(e,t,a,l,s){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&Zn(t,a,s,!0),a=At.current,a!==null){switch(a.tag){case 31:case 13:return Gt===null?yi():a.alternate===null&&Ke===0&&(Ke=3),a.flags&=-257,a.flags|=65536,a.lanes=s,l===Fs?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),Rr(e,l,s)),!1;case 22:return a.flags|=65536,l===Fs?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),Rr(e,l,s)),!1}throw Error(o(435,a.tag))}return Rr(e,l,s),yi(),!1}if(Ae)return t=At.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,l!==Ec&&(e=Error(o(422),{cause:l}),Rl(Bt(e,a)))):(l!==Ec&&(t=Error(o(423),{cause:l}),Rl(Bt(t,a))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,l=Bt(l,a),s=or(e.stateNode,l,s),qc(e,s),Ke!==4&&(Ke=2)),!1;var c=Error(o(520),{cause:l});if(c=Bt(c,a),Il===null?Il=[c]:Il.push(c),Ke!==4&&(Ke=2),t===null)return!0;l=Bt(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=s&-s,a.lanes|=e,e=or(a.stateNode,l,e),qc(a,e),!1;case 1:if(t=a.type,c=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Fa===null||!Fa.has(c))))return a.flags|=65536,s&=-s,a.lanes|=s,s=Vd(s),Qd(s,e,a,l),qc(a,s),!1}a=a.return}while(a!==null);return!1}var ur=Error(o(461)),tt=!1;function ft(e,t,a,l){t.child=e===null?Ju(t,null,a,l):yn(t,e.child,a,l)}function Zd(e,t,a,l,s){a=a.render;var c=t.ref;if("ref"in l){var d={};for(var p in l)p!=="ref"&&(d[p]=l[p])}else d=l;return mn(t),l=Qc(e,t,a,d,c,s),p=Zc(),e!==null&&!tt?(Fc(e,t,s),va(e,t,s)):(Ae&&p&&Cc(t),t.flags|=1,ft(e,t,l,s),t.child)}function Fd(e,t,a,l,s){if(e===null){var c=a.type;return typeof c=="function"&&!Sc(c)&&c.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=c,$d(e,t,c,l,s)):(e=Ys(a.type,null,l,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!yr(e,s)){var d=c.memoizedProps;if(a=a.compare,a=a!==null?a:Ml,a(d,l)&&e.ref===t.ref)return va(e,t,s)}return t.flags|=1,e=da(c,l),e.ref=t.ref,e.return=t,t.child=e}function $d(e,t,a,l,s){if(e!==null){var c=e.memoizedProps;if(Ml(c,l)&&e.ref===t.ref)if(tt=!1,t.pendingProps=l=c,yr(e,s))(e.flags&131072)!==0&&(tt=!0);else return t.lanes=e.lanes,va(e,t,s)}return dr(e,t,a,l,s)}function Jd(e,t,a,l){var s=l.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|a:a,e!==null){for(l=t.child=e.child,s=0;l!==null;)s=s|l.lanes|l.childLanes,l=l.sibling;l=s&~c}else l=0,t.child=null;return Kd(e,t,c,a,l)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Qs(t,c!==null?c.cachePool:null),c!==null?Wu(t,c):Yc(),Iu(t);else return l=t.lanes=536870912,Kd(e,t,c!==null?c.baseLanes|a:a,a,l)}else c!==null?(Qs(t,c.cachePool),Wu(t,c),Xa(),t.memoizedState=null):(e!==null&&Qs(t,null),Yc(),Xa());return ft(e,t,s,a),t.child}function Zl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Kd(e,t,a,l,s){var c=Uc();return c=c===null?null:{parent:Ie._currentValue,pool:c},t.memoizedState={baseLanes:a,cachePool:c},e!==null&&Qs(t,null),Yc(),Iu(t),e!==null&&Zn(e,t,l,!0),t.childLanes=s,null}function ci(e,t){return t=oi({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Pd(e,t,a){return yn(t,e.child,null,a),e=ci(t,t.pendingProps),e.flags|=2,Dt(t),t.memoizedState=null,e}function gg(e,t,a){var l=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ae){if(l.mode==="hidden")return e=ci(t,l),t.lanes=536870912,Zl(null,e);if(Xc(t),(e=Xe)?(e=uh(e,Yt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ua!==null?{id:la,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},a=Ru(e),a.return=t,t.child=a,ut=t,Xe=null)):e=null,e===null)throw ka(t);return t.lanes=536870912,null}return ci(t,l)}var c=e.memoizedState;if(c!==null){var d=c.dehydrated;if(Xc(t),s)if(t.flags&256)t.flags&=-257,t=Pd(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(tt||Zn(e,t,a,!1),s=(a&e.childLanes)!==0,tt||s){if(l=Ye,l!==null&&(d=Yo(l,a),d!==0&&d!==c.retryLane))throw c.retryLane=d,un(e,d),wt(l,e,d),ur;yi(),t=Pd(e,t,a)}else e=c.treeContext,Xe=Xt(d.nextSibling),ut=t,Ae=!0,La=null,Yt=!1,e!==null&&ku(t,e),t=ci(t,l),t.flags|=4096;return t}return e=da(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ri(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function dr(e,t,a,l,s){return mn(t),a=Qc(e,t,a,l,void 0,s),l=Zc(),e!==null&&!tt?(Fc(e,t,s),va(e,t,s)):(Ae&&l&&Cc(t),t.flags|=1,ft(e,t,a,s),t.child)}function Wd(e,t,a,l,s,c){return mn(t),t.updateQueue=null,a=td(t,l,a,s),ed(e),l=Zc(),e!==null&&!tt?(Fc(e,t,c),va(e,t,c)):(Ae&&l&&Cc(t),t.flags|=1,ft(e,t,a,c),t.child)}function Id(e,t,a,l,s){if(mn(t),t.stateNode===null){var c=Gn,d=a.contextType;typeof d=="object"&&d!==null&&(c=dt(d)),c=new a(l,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=rr,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=l,c.state=t.memoizedState,c.refs={},kc(t),d=a.contextType,c.context=typeof d=="object"&&d!==null?dt(d):Gn,c.state=t.memoizedState,d=a.getDerivedStateFromProps,typeof d=="function"&&(cr(t,a,d,l),c.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(d=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),d!==c.state&&rr.enqueueReplaceState(c,c.state,null),Yl(t,l,c,s),Hl(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){c=t.stateNode;var p=t.memoizedProps,w=bn(a,p);c.props=w;var D=c.context,G=a.contextType;d=Gn,typeof G=="object"&&G!==null&&(d=dt(G));var J=a.getDerivedStateFromProps;G=typeof J=="function"||typeof c.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,G||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p||D!==d)&&qd(t,c,l,d),qa=!1;var R=t.memoizedState;c.state=R,Yl(t,l,c,s),Hl(),D=t.memoizedState,p||R!==D||qa?(typeof J=="function"&&(cr(t,a,J,l),D=t.memoizedState),(w=qa||Bd(t,a,w,l,R,D,d))?(G||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=D),c.props=l,c.state=D,c.context=d,l=w):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{c=t.stateNode,Bc(e,t),d=t.memoizedProps,G=bn(a,d),c.props=G,J=t.pendingProps,R=c.context,D=a.contextType,w=Gn,typeof D=="object"&&D!==null&&(w=dt(D)),p=a.getDerivedStateFromProps,(D=typeof p=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==J||R!==w)&&qd(t,c,l,w),qa=!1,R=t.memoizedState,c.state=R,Yl(t,l,c,s),Hl();var k=t.memoizedState;d!==J||R!==k||qa||e!==null&&e.dependencies!==null&&Xs(e.dependencies)?(typeof p=="function"&&(cr(t,a,p,l),k=t.memoizedState),(G=qa||Bd(t,a,G,l,R,k,w)||e!==null&&e.dependencies!==null&&Xs(e.dependencies))?(D||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(l,k,w),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(l,k,w)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=k),c.props=l,c.state=k,c.context=w,l=G):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),l=!1)}return c=l,ri(e,t),l=(t.flags&128)!==0,c||l?(c=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&l?(t.child=yn(t,e.child,null,s),t.child=yn(t,null,a,s)):ft(e,t,a,s),t.memoizedState=c.state,e=t.child):e=va(e,t,s),e}function ef(e,t,a,l){return fn(),t.flags|=256,ft(e,t,a,l),t.child}var fr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hr(e){return{baseLanes:e,cachePool:Xu()}}function mr(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=zt),e}function tf(e,t,a){var l=t.pendingProps,s=!1,c=(t.flags&128)!==0,d;if((d=c)||(d=e!==null&&e.memoizedState===null?!1:(Pe.current&2)!==0),d&&(s=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ae){if(s?Ga(t):Xa(),(e=Xe)?(e=uh(e,Yt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ua!==null?{id:la,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},a=Ru(e),a.return=t,t.child=a,ut=t,Xe=null)):e=null,e===null)throw ka(t);return Kr(e)?t.lanes=32:t.lanes=536870912,null}var p=l.children;return l=l.fallback,s?(Xa(),s=t.mode,p=oi({mode:"hidden",children:p},s),l=dn(l,s,a,null),p.return=t,l.return=t,p.sibling=l,t.child=p,l=t.child,l.memoizedState=hr(a),l.childLanes=mr(e,d,a),t.memoizedState=fr,Zl(null,l)):(Ga(t),pr(t,p))}var w=e.memoizedState;if(w!==null&&(p=w.dehydrated,p!==null)){if(c)t.flags&256?(Ga(t),t.flags&=-257,t=gr(e,t,a)):t.memoizedState!==null?(Xa(),t.child=e.child,t.flags|=128,t=null):(Xa(),p=l.fallback,s=t.mode,l=oi({mode:"visible",children:l.children},s),p=dn(p,s,a,null),p.flags|=2,l.return=t,p.return=t,l.sibling=p,t.child=l,yn(t,e.child,null,a),l=t.child,l.memoizedState=hr(a),l.childLanes=mr(e,d,a),t.memoizedState=fr,t=Zl(null,l));else if(Ga(t),Kr(p)){if(d=p.nextSibling&&p.nextSibling.dataset,d)var D=d.dgst;d=D,l=Error(o(419)),l.stack="",l.digest=d,Rl({value:l,source:null,stack:null}),t=gr(e,t,a)}else if(tt||Zn(e,t,a,!1),d=(a&e.childLanes)!==0,tt||d){if(d=Ye,d!==null&&(l=Yo(d,a),l!==0&&l!==w.retryLane))throw w.retryLane=l,un(e,l),wt(d,e,l),ur;Jr(p)||yi(),t=gr(e,t,a)}else Jr(p)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,Xe=Xt(p.nextSibling),ut=t,Ae=!0,La=null,Yt=!1,e!==null&&ku(t,e),t=pr(t,l.children),t.flags|=4096);return t}return s?(Xa(),p=l.fallback,s=t.mode,w=e.child,D=w.sibling,l=da(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,D!==null?p=da(D,p):(p=dn(p,s,a,null),p.flags|=2),p.return=t,l.return=t,l.sibling=p,t.child=l,Zl(null,l),l=t.child,p=e.child.memoizedState,p===null?p=hr(a):(s=p.cachePool,s!==null?(w=Ie._currentValue,s=s.parent!==w?{parent:w,pool:w}:s):s=Xu(),p={baseLanes:p.baseLanes|a,cachePool:s}),l.memoizedState=p,l.childLanes=mr(e,d,a),t.memoizedState=fr,Zl(e.child,l)):(Ga(t),a=e.child,e=a.sibling,a=da(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=a,t.memoizedState=null,a)}function pr(e,t){return t=oi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function oi(e,t){return e=Et(22,e,null,t),e.lanes=0,e}function gr(e,t,a){return yn(t,e.child,null,a),e=pr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function af(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Mc(e.return,t,a)}function vr(e,t,a,l,s,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:s,treeForkCount:c}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=s,d.treeForkCount=c)}function nf(e,t,a){var l=t.pendingProps,s=l.revealOrder,c=l.tail;l=l.children;var d=Pe.current,p=(d&2)!==0;if(p?(d=d&1|2,t.flags|=128):d&=1,I(Pe,d),ft(e,t,l,a),l=Ae?Ol:0,!p&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&af(e,a,t);else if(e.tag===19)af(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(a=t.child,s=null;a!==null;)e=a.alternate,e!==null&&Ps(e)===null&&(s=a),a=a.sibling;a=s,a===null?(s=t.child,t.child=null):(s=a.sibling,a.sibling=null),vr(t,!1,s,a,c,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ps(e)===null){t.child=s;break}e=s.sibling,s.sibling=a,a=s,s=e}vr(t,!0,a,null,c,l);break;case"together":vr(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function va(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Za|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Zn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,a=da(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=da(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function yr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Xs(e)))}function vg(e,t,a){switch(t.tag){case 3:He(t,t.stateNode.containerInfo),Ba(t,Ie,e.memoizedState.cache),fn();break;case 27:case 5:Ge(t);break;case 4:He(t,t.stateNode.containerInfo);break;case 10:Ba(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Xc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Ga(t),t.flags|=128,null):(a&t.child.childLanes)!==0?tf(e,t,a):(Ga(t),e=va(e,t,a),e!==null?e.sibling:null);Ga(t);break;case 19:var s=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(Zn(e,t,a,!1),l=(a&t.childLanes)!==0),s){if(l)return nf(e,t,a);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),I(Pe,Pe.current),l)break;return null;case 22:return t.lanes=0,Jd(e,t,a,t.pendingProps);case 24:Ba(t,Ie,e.memoizedState.cache)}return va(e,t,a)}function lf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)tt=!0;else{if(!yr(e,a)&&(t.flags&128)===0)return tt=!1,vg(e,t,a);tt=(e.flags&131072)!==0}else tt=!1,Ae&&(t.flags&1048576)!==0&&Lu(t,Ol,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=gn(t.elementType),t.type=e,typeof e=="function")Sc(e)?(l=bn(e,l),t.tag=1,t=Id(null,t,e,l,a)):(t.tag=0,t=dr(null,t,e,l,a));else{if(e!=null){var s=e.$$typeof;if(s===M){t.tag=11,t=Zd(null,t,e,l,a);break e}else if(s===Q){t.tag=14,t=Fd(null,t,e,l,a);break e}}throw t=ve(e)||e,Error(o(306,t,""))}}return t;case 0:return dr(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,s=bn(l,t.pendingProps),Id(e,t,l,s,a);case 3:e:{if(He(t,t.stateNode.containerInfo),e===null)throw Error(o(387));l=t.pendingProps;var c=t.memoizedState;s=c.element,Bc(e,t),Yl(t,l,null,a);var d=t.memoizedState;if(l=d.cache,Ba(t,Ie,l),l!==c.cache&&zc(t,[Ie],a,!0),Hl(),l=d.element,c.isDehydrated)if(c={element:l,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=ef(e,t,l,a);break e}else if(l!==s){s=Bt(Error(o(424)),t),Rl(s),t=ef(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Xe=Xt(e.firstChild),ut=t,Ae=!0,La=null,Yt=!0,a=Ju(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(fn(),l===s){t=va(e,t,a);break e}ft(e,t,l,a)}t=t.child}return t;case 26:return ri(e,t),e===null?(a=gh(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ae||(a=t.type,e=t.pendingProps,l=_i(ge.current).createElement(a),l[ot]=t,l[yt]=e,ht(l,a,e),it(l),t.stateNode=l):t.memoizedState=gh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ge(t),e===null&&Ae&&(l=t.stateNode=hh(t.type,t.pendingProps,ge.current),ut=t,Yt=!0,s=Xe,Pa(t.type)?(Pr=s,Xe=Xt(l.firstChild)):Xe=s),ft(e,t,t.pendingProps.children,a),ri(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ae&&((s=l=Xe)&&(l=Fg(l,t.type,t.pendingProps,Yt),l!==null?(t.stateNode=l,ut=t,Xe=Xt(l.firstChild),Yt=!1,s=!0):s=!1),s||ka(t)),Ge(t),s=t.type,c=t.pendingProps,d=e!==null?e.memoizedProps:null,l=c.children,Zr(s,c)?l=null:d!==null&&Zr(s,d)&&(t.flags|=32),t.memoizedState!==null&&(s=Qc(e,t,rg,null,null,a),cs._currentValue=s),ri(e,t),ft(e,t,l,a),t.child;case 6:return e===null&&Ae&&((e=a=Xe)&&(a=$g(a,t.pendingProps,Yt),a!==null?(t.stateNode=a,ut=t,Xe=null,e=!0):e=!1),e||ka(t)),null;case 13:return tf(e,t,a);case 4:return He(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=yn(t,null,l,a):ft(e,t,l,a),t.child;case 11:return Zd(e,t,t.type,t.pendingProps,a);case 7:return ft(e,t,t.pendingProps,a),t.child;case 8:return ft(e,t,t.pendingProps.children,a),t.child;case 12:return ft(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,Ba(t,t.type,l.value),ft(e,t,l.children,a),t.child;case 9:return s=t.type._context,l=t.pendingProps.children,mn(t),s=dt(s),l=l(s),t.flags|=1,ft(e,t,l,a),t.child;case 14:return Fd(e,t,t.type,t.pendingProps,a);case 15:return $d(e,t,t.type,t.pendingProps,a);case 19:return nf(e,t,a);case 31:return gg(e,t,a);case 22:return Jd(e,t,a,t.pendingProps);case 24:return mn(t),l=dt(Ie),e===null?(s=Uc(),s===null&&(s=Ye,c=Oc(),s.pooledCache=c,c.refCount++,c!==null&&(s.pooledCacheLanes|=a),s=c),t.memoizedState={parent:l,cache:s},kc(t),Ba(t,Ie,s)):((e.lanes&a)!==0&&(Bc(e,t),Yl(t,null,null,a),Hl()),s=e.memoizedState,c=t.memoizedState,s.parent!==l?(s={parent:l,cache:l},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Ba(t,Ie,l)):(l=c.cache,Ba(t,Ie,l),l!==s.cache&&zc(t,[Ie],a,!0))),ft(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function ya(e){e.flags|=4}function xr(e,t,a,l,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(zf())e.flags|=8192;else throw vn=Fs,Lc}else e.flags&=-16777217}function sf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!jh(t))if(zf())e.flags|=8192;else throw vn=Fs,Lc}function ui(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Bo():536870912,e.lanes|=t,ll|=t)}function Fl(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var s=e.child;s!==null;)a|=s.lanes|s.childLanes,l|=s.subtreeFlags&65011712,l|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)a|=s.lanes|s.childLanes,l|=s.subtreeFlags,l|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function yg(e,t,a){var l=t.pendingProps;switch(Tc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return Ve(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ma(Ie),X(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Qn(t)?ya(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ac())),Ve(t),null;case 26:var s=t.type,c=t.memoizedState;return e===null?(ya(t),c!==null?(Ve(t),sf(t,c)):(Ve(t),xr(t,s,null,l,a))):c?c!==e.memoizedState?(ya(t),Ve(t),sf(t,c)):(Ve(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&ya(t),Ve(t),xr(t,s,e,l,a)),null;case 27:if(vt(t),a=ge.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ya(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return Ve(t),null}e=te.current,Qn(t)?Bu(t):(e=hh(s,l,a),t.stateNode=e,ya(t))}return Ve(t),null;case 5:if(vt(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ya(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return Ve(t),null}if(c=te.current,Qn(t))Bu(t);else{var d=_i(ge.current);switch(c){case 1:c=d.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:c=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":c=d.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":c=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":c=d.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?c.multiple=!0:l.size&&(c.size=l.size);break;default:c=typeof l.is=="string"?d.createElement(s,{is:l.is}):d.createElement(s)}}c[ot]=t,c[yt]=l;e:for(d=t.child;d!==null;){if(d.tag===5||d.tag===6)c.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}t.stateNode=c;e:switch(ht(c,s,l),s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ya(t)}}return Ve(t),xr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&ya(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(o(166));if(e=ge.current,Qn(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,s=ut,s!==null)switch(s.tag){case 27:case 5:l=s.memoizedProps}e[ot]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ah(e.nodeValue,a)),e||ka(t,!0)}else e=_i(e).createTextNode(l),e[ot]=t,t.stateNode=e}return Ve(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=Qn(t),a!==null){if(e===null){if(!l)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[ot]=t}else fn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),e=!1}else a=Ac(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Dt(t),t):(Dt(t),null);if((t.flags&128)!==0)throw Error(o(558))}return Ve(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Qn(t),l!==null&&l.dehydrated!==null){if(e===null){if(!s)throw Error(o(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(o(317));s[ot]=t}else fn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),s=!1}else s=Ac(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Dt(t),t):(Dt(t),null)}return Dt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,s=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(s=l.alternate.memoizedState.cachePool.pool),c=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(c=l.memoizedState.cachePool.pool),c!==s&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),ui(t,t.updateQueue),Ve(t),null);case 4:return X(),e===null&&Yr(t.stateNode.containerInfo),Ve(t),null;case 10:return ma(t.type),Ve(t),null;case 19:if(q(Pe),l=t.memoizedState,l===null)return Ve(t),null;if(s=(t.flags&128)!==0,c=l.rendering,c===null)if(s)Fl(l,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=Ps(e),c!==null){for(t.flags|=128,Fl(l,!1),e=c.updateQueue,t.updateQueue=e,ui(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Ou(a,e),a=a.sibling;return I(Pe,Pe.current&1|2),Ae&&fa(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&ze()>pi&&(t.flags|=128,s=!0,Fl(l,!1),t.lanes=4194304)}else{if(!s)if(e=Ps(c),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,ui(t,e),Fl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!c.alternate&&!Ae)return Ve(t),null}else 2*ze()-l.renderingStartTime>pi&&a!==536870912&&(t.flags|=128,s=!0,Fl(l,!1),t.lanes=4194304);l.isBackwards?(c.sibling=t.child,t.child=c):(e=l.last,e!==null?e.sibling=c:t.child=c,l.last=c)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=ze(),e.sibling=null,a=Pe.current,I(Pe,s?a&1|2:a&1),Ae&&fa(t,l.treeForkCount),e):(Ve(t),null);case 22:case 23:return Dt(t),Gc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),a=t.updateQueue,a!==null&&ui(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&q(pn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ma(Ie),Ve(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function xg(e,t){switch(Tc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ma(Ie),X(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return vt(t),null;case 31:if(t.memoizedState!==null){if(Dt(t),t.alternate===null)throw Error(o(340));fn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Dt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));fn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(Pe),null;case 4:return X(),null;case 10:return ma(t.type),null;case 22:case 23:return Dt(t),Gc(),e!==null&&q(pn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ma(Ie),null;case 25:return null;default:return null}}function cf(e,t){switch(Tc(t),t.tag){case 3:ma(Ie),X();break;case 26:case 27:case 5:vt(t);break;case 4:X();break;case 31:t.memoizedState!==null&&Dt(t);break;case 13:Dt(t);break;case 19:q(Pe);break;case 10:ma(t.type);break;case 22:case 23:Dt(t),Gc(),e!==null&&q(pn);break;case 24:ma(Ie)}}function $l(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var s=l.next;a=s;do{if((a.tag&e)===e){l=void 0;var c=a.create,d=a.inst;l=c(),d.destroy=l}a=a.next}while(a!==s)}}catch(p){Ue(t,t.return,p)}}function Va(e,t,a){try{var l=t.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var c=s.next;l=c;do{if((l.tag&e)===e){var d=l.inst,p=d.destroy;if(p!==void 0){d.destroy=void 0,s=t;var w=a,D=p;try{D()}catch(G){Ue(s,w,G)}}}l=l.next}while(l!==c)}}catch(G){Ue(t,t.return,G)}}function rf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Pu(t,a)}catch(l){Ue(e,e.return,l)}}}function of(e,t,a){a.props=bn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Ue(e,t,l)}}function Jl(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(s){Ue(e,t,s)}}function ia(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(s){Ue(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(s){Ue(e,t,s)}else a.current=null}function uf(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(s){Ue(e,e.return,s)}}function br(e,t,a){try{var l=e.stateNode;Yg(l,e.type,a,t),l[yt]=t}catch(s){Ue(e,e.return,s)}}function df(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pa(e.type)||e.tag===4}function jr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||df(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nr(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=oa));else if(l!==4&&(l===27&&Pa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Nr(e,t,a),e=e.sibling;e!==null;)Nr(e,t,a),e=e.sibling}function di(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&Pa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(di(e,t,a),e=e.sibling;e!==null;)di(e,t,a),e=e.sibling}function ff(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ht(t,l,a),t[ot]=e,t[yt]=a}catch(c){Ue(e,e.return,c)}}var xa=!1,at=!1,Sr=!1,hf=typeof WeakSet=="function"?WeakSet:Set,ct=null;function bg(e,t){if(e=e.containerInfo,Vr=zi,e=wu(e),gc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var s=l.anchorOffset,c=l.focusNode;l=l.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break e}var d=0,p=-1,w=-1,D=0,G=0,J=e,R=null;t:for(;;){for(var k;J!==a||s!==0&&J.nodeType!==3||(p=d+s),J!==c||l!==0&&J.nodeType!==3||(w=d+l),J.nodeType===3&&(d+=J.nodeValue.length),(k=J.firstChild)!==null;)R=J,J=k;for(;;){if(J===e)break t;if(R===a&&++D===s&&(p=d),R===c&&++G===l&&(w=d),(k=J.nextSibling)!==null)break;J=R,R=J.parentNode}J=k}a=p===-1||w===-1?null:{start:p,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qr={focusedElem:e,selectionRange:a},zi=!1,ct=t;ct!==null;)if(t=ct,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ct=e;else for(;ct!==null;){switch(t=ct,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)s=e[a],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,a=t,s=c.memoizedProps,c=c.memoizedState,l=a.stateNode;try{var oe=bn(a.type,s);e=l.getSnapshotBeforeUpdate(oe,c),l.__reactInternalSnapshotBeforeUpdate=e}catch(me){Ue(a,a.return,me)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)$r(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":$r(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,ct=e;break}ct=t.return}}function mf(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ja(e,a),l&4&&$l(5,a);break;case 1:if(ja(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(d){Ue(a,a.return,d)}else{var s=bn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){Ue(a,a.return,d)}}l&64&&rf(a),l&512&&Jl(a,a.return);break;case 3:if(ja(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Pu(e,t)}catch(d){Ue(a,a.return,d)}}break;case 27:t===null&&l&4&&ff(a);case 26:case 5:ja(e,a),t===null&&l&4&&uf(a),l&512&&Jl(a,a.return);break;case 12:ja(e,a);break;case 31:ja(e,a),l&4&&vf(e,a);break;case 13:ja(e,a),l&4&&yf(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Ag.bind(null,a),Jg(e,a))));break;case 22:if(l=a.memoizedState!==null||xa,!l){t=t!==null&&t.memoizedState!==null||at,s=xa;var c=at;xa=l,(at=t)&&!c?Na(e,a,(a.subtreeFlags&8772)!==0):ja(e,a),xa=s,at=c}break;case 30:break;default:ja(e,a)}}function pf(e){var t=e.alternate;t!==null&&(e.alternate=null,pf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ii(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ze=null,bt=!1;function ba(e,t,a){for(a=a.child;a!==null;)gf(e,t,a),a=a.sibling}function gf(e,t,a){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(xl,a)}catch{}switch(a.tag){case 26:at||ia(a,t),ba(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:at||ia(a,t);var l=Ze,s=bt;Pa(a.type)&&(Ze=a.stateNode,bt=!1),ba(e,t,a),ls(a.stateNode),Ze=l,bt=s;break;case 5:at||ia(a,t);case 6:if(l=Ze,s=bt,Ze=null,ba(e,t,a),Ze=l,bt=s,Ze!==null)if(bt)try{(Ze.nodeType===9?Ze.body:Ze.nodeName==="HTML"?Ze.ownerDocument.body:Ze).removeChild(a.stateNode)}catch(c){Ue(a,t,c)}else try{Ze.removeChild(a.stateNode)}catch(c){Ue(a,t,c)}break;case 18:Ze!==null&&(bt?(e=Ze,rh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),fl(e)):rh(Ze,a.stateNode));break;case 4:l=Ze,s=bt,Ze=a.stateNode.containerInfo,bt=!0,ba(e,t,a),Ze=l,bt=s;break;case 0:case 11:case 14:case 15:Va(2,a,t),at||Va(4,a,t),ba(e,t,a);break;case 1:at||(ia(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&of(a,t,l)),ba(e,t,a);break;case 21:ba(e,t,a);break;case 22:at=(l=at)||a.memoizedState!==null,ba(e,t,a),at=l;break;default:ba(e,t,a)}}function vf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{fl(e)}catch(a){Ue(t,t.return,a)}}}function yf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{fl(e)}catch(a){Ue(t,t.return,a)}}function jg(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new hf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new hf),t;default:throw Error(o(435,e.tag))}}function fi(e,t){var a=jg(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var s=Dg.bind(null,e,l);l.then(s,s)}})}function jt(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var s=a[l],c=e,d=t,p=d;e:for(;p!==null;){switch(p.tag){case 27:if(Pa(p.type)){Ze=p.stateNode,bt=!1;break e}break;case 5:Ze=p.stateNode,bt=!1;break e;case 3:case 4:Ze=p.stateNode.containerInfo,bt=!0;break e}p=p.return}if(Ze===null)throw Error(o(160));gf(c,d,s),Ze=null,bt=!1,c=s.alternate,c!==null&&(c.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)xf(t,e),t=t.sibling}var ea=null;function xf(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:jt(t,e),Nt(e),l&4&&(Va(3,e,e.return),$l(3,e),Va(5,e,e.return));break;case 1:jt(t,e),Nt(e),l&512&&(at||a===null||ia(a,a.return)),l&64&&xa&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var s=ea;if(jt(t,e),Nt(e),l&512&&(at||a===null||ia(a,a.return)),l&4){var c=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,s=s.ownerDocument||s;t:switch(l){case"title":c=s.getElementsByTagName("title")[0],(!c||c[Nl]||c[ot]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=s.createElement(l),s.head.insertBefore(c,s.querySelector("head > title"))),ht(c,l,a),c[ot]=e,it(c),l=c;break e;case"link":var d=xh("link","href",s).get(l+(a.href||""));if(d){for(var p=0;p<d.length;p++)if(c=d[p],c.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&c.getAttribute("rel")===(a.rel==null?null:a.rel)&&c.getAttribute("title")===(a.title==null?null:a.title)&&c.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){d.splice(p,1);break t}}c=s.createElement(l),ht(c,l,a),s.head.appendChild(c);break;case"meta":if(d=xh("meta","content",s).get(l+(a.content||""))){for(p=0;p<d.length;p++)if(c=d[p],c.getAttribute("content")===(a.content==null?null:""+a.content)&&c.getAttribute("name")===(a.name==null?null:a.name)&&c.getAttribute("property")===(a.property==null?null:a.property)&&c.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&c.getAttribute("charset")===(a.charSet==null?null:a.charSet)){d.splice(p,1);break t}}c=s.createElement(l),ht(c,l,a),s.head.appendChild(c);break;default:throw Error(o(468,l))}c[ot]=e,it(c),l=c}e.stateNode=l}else bh(s,e.type,e.stateNode);else e.stateNode=yh(s,l,e.memoizedProps);else c!==l?(c===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):c.count--,l===null?bh(s,e.type,e.stateNode):yh(s,l,e.memoizedProps)):l===null&&e.stateNode!==null&&br(e,e.memoizedProps,a.memoizedProps)}break;case 27:jt(t,e),Nt(e),l&512&&(at||a===null||ia(a,a.return)),a!==null&&l&4&&br(e,e.memoizedProps,a.memoizedProps);break;case 5:if(jt(t,e),Nt(e),l&512&&(at||a===null||ia(a,a.return)),e.flags&32){s=e.stateNode;try{Un(s,"")}catch(oe){Ue(e,e.return,oe)}}l&4&&e.stateNode!=null&&(s=e.memoizedProps,br(e,s,a!==null?a.memoizedProps:s)),l&1024&&(Sr=!0);break;case 6:if(jt(t,e),Nt(e),l&4){if(e.stateNode===null)throw Error(o(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(oe){Ue(e,e.return,oe)}}break;case 3:if(Ei=null,s=ea,ea=Ci(t.containerInfo),jt(t,e),ea=s,Nt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{fl(t.containerInfo)}catch(oe){Ue(e,e.return,oe)}Sr&&(Sr=!1,bf(e));break;case 4:l=ea,ea=Ci(e.stateNode.containerInfo),jt(t,e),Nt(e),ea=l;break;case 12:jt(t,e),Nt(e);break;case 31:jt(t,e),Nt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,fi(e,l)));break;case 13:jt(t,e),Nt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mi=ze()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,fi(e,l)));break;case 22:s=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,D=xa,G=at;if(xa=D||s,at=G||w,jt(t,e),at=G,xa=D,Nt(e),l&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(a===null||w||xa||at||jn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){w=a=t;try{if(c=w.stateNode,s)d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{p=w.stateNode;var J=w.memoizedProps.style,R=J!=null&&J.hasOwnProperty("display")?J.display:null;p.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(oe){Ue(w,w.return,oe)}}}else if(t.tag===6){if(a===null){w=t;try{w.stateNode.nodeValue=s?"":w.memoizedProps}catch(oe){Ue(w,w.return,oe)}}}else if(t.tag===18){if(a===null){w=t;try{var k=w.stateNode;s?oh(k,!0):oh(w.stateNode,!1)}catch(oe){Ue(w,w.return,oe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,fi(e,a))));break;case 19:jt(t,e),Nt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,fi(e,l)));break;case 30:break;case 21:break;default:jt(t,e),Nt(e)}}function Nt(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(df(l)){a=l;break}l=l.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var s=a.stateNode,c=jr(e);di(e,c,s);break;case 5:var d=a.stateNode;a.flags&32&&(Un(d,""),a.flags&=-33);var p=jr(e);di(e,p,d);break;case 3:case 4:var w=a.stateNode.containerInfo,D=jr(e);Nr(e,D,w);break;default:throw Error(o(161))}}catch(G){Ue(e,e.return,G)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;bf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ja(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)mf(e,t.alternate,t),t=t.sibling}function jn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Va(4,t,t.return),jn(t);break;case 1:ia(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&of(t,t.return,a),jn(t);break;case 27:ls(t.stateNode);case 26:case 5:ia(t,t.return),jn(t);break;case 22:t.memoizedState===null&&jn(t);break;case 30:jn(t);break;default:jn(t)}e=e.sibling}}function Na(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,s=e,c=t,d=c.flags;switch(c.tag){case 0:case 11:case 15:Na(s,c,a),$l(4,c);break;case 1:if(Na(s,c,a),l=c,s=l.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(D){Ue(l,l.return,D)}if(l=c,s=l.updateQueue,s!==null){var p=l.stateNode;try{var w=s.shared.hiddenCallbacks;if(w!==null)for(s.shared.hiddenCallbacks=null,s=0;s<w.length;s++)Ku(w[s],p)}catch(D){Ue(l,l.return,D)}}a&&d&64&&rf(c),Jl(c,c.return);break;case 27:ff(c);case 26:case 5:Na(s,c,a),a&&l===null&&d&4&&uf(c),Jl(c,c.return);break;case 12:Na(s,c,a);break;case 31:Na(s,c,a),a&&d&4&&vf(s,c);break;case 13:Na(s,c,a),a&&d&4&&yf(s,c);break;case 22:c.memoizedState===null&&Na(s,c,a),Jl(c,c.return);break;case 30:break;default:Na(s,c,a)}t=t.sibling}}function wr(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ul(a))}function _r(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ul(e))}function ta(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jf(e,t,a,l),t=t.sibling}function jf(e,t,a,l){var s=t.flags;switch(t.tag){case 0:case 11:case 15:ta(e,t,a,l),s&2048&&$l(9,t);break;case 1:ta(e,t,a,l);break;case 3:ta(e,t,a,l),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ul(e)));break;case 12:if(s&2048){ta(e,t,a,l),e=t.stateNode;try{var c=t.memoizedProps,d=c.id,p=c.onPostCommit;typeof p=="function"&&p(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Ue(t,t.return,w)}}else ta(e,t,a,l);break;case 31:ta(e,t,a,l);break;case 13:ta(e,t,a,l);break;case 23:break;case 22:c=t.stateNode,d=t.alternate,t.memoizedState!==null?c._visibility&2?ta(e,t,a,l):Kl(e,t):c._visibility&2?ta(e,t,a,l):(c._visibility|=2,tl(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),s&2048&&wr(d,t);break;case 24:ta(e,t,a,l),s&2048&&_r(t.alternate,t);break;default:ta(e,t,a,l)}}function tl(e,t,a,l,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,d=t,p=a,w=l,D=d.flags;switch(d.tag){case 0:case 11:case 15:tl(c,d,p,w,s),$l(8,d);break;case 23:break;case 22:var G=d.stateNode;d.memoizedState!==null?G._visibility&2?tl(c,d,p,w,s):Kl(c,d):(G._visibility|=2,tl(c,d,p,w,s)),s&&D&2048&&wr(d.alternate,d);break;case 24:tl(c,d,p,w,s),s&&D&2048&&_r(d.alternate,d);break;default:tl(c,d,p,w,s)}t=t.sibling}}function Kl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,s=l.flags;switch(l.tag){case 22:Kl(a,l),s&2048&&wr(l.alternate,l);break;case 24:Kl(a,l),s&2048&&_r(l.alternate,l);break;default:Kl(a,l)}t=t.sibling}}var Pl=8192;function al(e,t,a){if(e.subtreeFlags&Pl)for(e=e.child;e!==null;)Nf(e,t,a),e=e.sibling}function Nf(e,t,a){switch(e.tag){case 26:al(e,t,a),e.flags&Pl&&e.memoizedState!==null&&cv(a,ea,e.memoizedState,e.memoizedProps);break;case 5:al(e,t,a);break;case 3:case 4:var l=ea;ea=Ci(e.stateNode.containerInfo),al(e,t,a),ea=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Pl,Pl=16777216,al(e,t,a),Pl=l):al(e,t,a));break;default:al(e,t,a)}}function Sf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Wl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];ct=l,_f(l,e)}Sf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)wf(e),e=e.sibling}function wf(e){switch(e.tag){case 0:case 11:case 15:Wl(e),e.flags&2048&&Va(9,e,e.return);break;case 3:Wl(e);break;case 12:Wl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,hi(e)):Wl(e);break;default:Wl(e)}}function hi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];ct=l,_f(l,e)}Sf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Va(8,t,t.return),hi(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,hi(t));break;default:hi(t)}e=e.sibling}}function _f(e,t){for(;ct!==null;){var a=ct;switch(a.tag){case 0:case 11:case 15:Va(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ct=l;else e:for(a=e;ct!==null;){l=ct;var s=l.sibling,c=l.return;if(pf(l),l===a){ct=null;break e}if(s!==null){s.return=c,ct=s;break e}ct=c}}}var Ng={getCacheForType:function(e){var t=dt(Ie),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return dt(Ie).controller.signal}},Sg=typeof WeakMap=="function"?WeakMap:Map,Oe=0,Ye=null,_e=null,Te=0,Re=0,Mt=null,Qa=!1,nl=!1,Cr=!1,Sa=0,Ke=0,Za=0,Nn=0,Tr=0,zt=0,ll=0,Il=null,St=null,Er=!1,mi=0,Cf=0,pi=1/0,gi=null,Fa=null,lt=0,$a=null,sl=null,wa=0,Ar=0,Dr=null,Tf=null,es=0,Mr=null;function Ot(){return(Oe&2)!==0&&Te!==0?Te&-Te:C.T!==null?kr():Go()}function Ef(){if(zt===0)if((Te&536870912)===0||Ae){var e=ws;ws<<=1,(ws&3932160)===0&&(ws=262144),zt=e}else zt=536870912;return e=At.current,e!==null&&(e.flags|=32),zt}function wt(e,t,a){(e===Ye&&(Re===2||Re===9)||e.cancelPendingCommit!==null)&&(il(e,0),Ja(e,Te,zt,!1)),jl(e,a),((Oe&2)===0||e!==Ye)&&(e===Ye&&((Oe&2)===0&&(Nn|=a),Ke===4&&Ja(e,Te,zt,!1)),ca(e))}function Af(e,t,a){if((Oe&6)!==0)throw Error(o(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||bl(e,t),s=l?Cg(e,t):Or(e,t,!0),c=l;do{if(s===0){nl&&!l&&Ja(e,t,0,!1);break}else{if(a=e.current.alternate,c&&!wg(a)){s=Or(e,t,!1),c=!1;continue}if(s===2){if(c=t,e.errorRecoveryDisabledLanes&c)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var p=e;s=Il;var w=p.current.memoizedState.isDehydrated;if(w&&(il(p,d).flags|=256),d=Or(p,d,!1),d!==2){if(Cr&&!w){p.errorRecoveryDisabledLanes|=c,Nn|=c,s=4;break e}c=St,St=s,c!==null&&(St===null?St=c:St.push.apply(St,c))}s=d}if(c=!1,s!==2)continue}}if(s===1){il(e,0),Ja(e,t,0,!0);break}e:{switch(l=e,c=s,c){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:Ja(l,t,zt,!Qa);break e;case 2:St=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(s=mi+300-ze(),10<s)){if(Ja(l,t,zt,!Qa),Cs(l,0,!0)!==0)break e;wa=t,l.timeoutHandle=ih(Df.bind(null,l,a,St,gi,Er,t,zt,Nn,ll,Qa,c,"Throttled",-0,0),s);break e}Df(l,a,St,gi,Er,t,zt,Nn,ll,Qa,c,null,-0,0)}}break}while(!0);ca(e)}function Df(e,t,a,l,s,c,d,p,w,D,G,J,R,k){if(e.timeoutHandle=-1,J=t.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oa},Nf(t,c,J);var oe=(c&62914560)===c?mi-ze():(c&4194048)===c?Cf-ze():0;if(oe=rv(J,oe),oe!==null){wa=c,e.cancelPendingCommit=oe(Bf.bind(null,e,t,c,a,l,s,d,p,w,G,J,null,R,k)),Ja(e,c,d,!D);return}}Bf(e,t,c,a,l,s,d,p,w)}function wg(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var s=a[l],c=s.getSnapshot;s=s.value;try{if(!Tt(c(),s))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ja(e,t,a,l){t&=~Tr,t&=~Nn,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var s=t;0<s;){var c=31-Ct(s),d=1<<c;l[c]=-1,s&=~d}a!==0&&qo(e,a,t)}function vi(){return(Oe&6)===0?(ts(0),!1):!0}function zr(){if(_e!==null){if(Re===0)var e=_e.return;else e=_e,ha=hn=null,$c(e),Kn=null,kl=0,e=_e;for(;e!==null;)cf(e.alternate,e),e=e.return;_e=null}}function il(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Vg(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),wa=0,zr(),Ye=e,_e=a=da(e.current,null),Te=t,Re=0,Mt=null,Qa=!1,nl=bl(e,t),Cr=!1,ll=zt=Tr=Nn=Za=Ke=0,St=Il=null,Er=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var s=31-Ct(l),c=1<<s;t|=e[s],l&=~c}return Sa=t,Bs(),a}function Mf(e,t){je=null,C.H=Ql,t===Jn||t===Zs?(t=Zu(),Re=3):t===Lc?(t=Zu(),Re=4):Re=t===ur?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Mt=t,_e===null&&(Ke=1,ii(e,Bt(t,e.current)))}function zf(){var e=At.current;return e===null?!0:(Te&4194048)===Te?Gt===null:(Te&62914560)===Te||(Te&536870912)!==0?e===Gt:!1}function Of(){var e=C.H;return C.H=Ql,e===null?Ql:e}function Rf(){var e=C.A;return C.A=Ng,e}function yi(){Ke=4,Qa||(Te&4194048)!==Te&&At.current!==null||(nl=!0),(Za&134217727)===0&&(Nn&134217727)===0||Ye===null||Ja(Ye,Te,zt,!1)}function Or(e,t,a){var l=Oe;Oe|=2;var s=Of(),c=Rf();(Ye!==e||Te!==t)&&(gi=null,il(e,t)),t=!1;var d=Ke;e:do try{if(Re!==0&&_e!==null){var p=_e,w=Mt;switch(Re){case 8:zr(),d=6;break e;case 3:case 2:case 9:case 6:At.current===null&&(t=!0);var D=Re;if(Re=0,Mt=null,cl(e,p,w,D),a&&nl){d=0;break e}break;default:D=Re,Re=0,Mt=null,cl(e,p,w,D)}}_g(),d=Ke;break}catch(G){Mf(e,G)}while(!0);return t&&e.shellSuspendCounter++,ha=hn=null,Oe=l,C.H=s,C.A=c,_e===null&&(Ye=null,Te=0,Bs()),d}function _g(){for(;_e!==null;)Uf(_e)}function Cg(e,t){var a=Oe;Oe|=2;var l=Of(),s=Rf();Ye!==e||Te!==t?(gi=null,pi=ze()+500,il(e,t)):nl=bl(e,t);e:do try{if(Re!==0&&_e!==null){t=_e;var c=Mt;t:switch(Re){case 1:Re=0,Mt=null,cl(e,t,c,1);break;case 2:case 9:if(Vu(c)){Re=0,Mt=null,Lf(t);break}t=function(){Re!==2&&Re!==9||Ye!==e||(Re=7),ca(e)},c.then(t,t);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:Vu(c)?(Re=0,Mt=null,Lf(t)):(Re=0,Mt=null,cl(e,t,c,7));break;case 5:var d=null;switch(_e.tag){case 26:d=_e.memoizedState;case 5:case 27:var p=_e;if(d?jh(d):p.stateNode.complete){Re=0,Mt=null;var w=p.sibling;if(w!==null)_e=w;else{var D=p.return;D!==null?(_e=D,xi(D)):_e=null}break t}}Re=0,Mt=null,cl(e,t,c,5);break;case 6:Re=0,Mt=null,cl(e,t,c,6);break;case 8:zr(),Ke=6;break e;default:throw Error(o(462))}}Tg();break}catch(G){Mf(e,G)}while(!0);return ha=hn=null,C.H=l,C.A=s,Oe=a,_e!==null?0:(Ye=null,Te=0,Bs(),Ke)}function Tg(){for(;_e!==null&&!Ne();)Uf(_e)}function Uf(e){var t=lf(e.alternate,e,Sa);e.memoizedProps=e.pendingProps,t===null?xi(e):_e=t}function Lf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Wd(a,t,t.pendingProps,t.type,void 0,Te);break;case 11:t=Wd(a,t,t.pendingProps,t.type.render,t.ref,Te);break;case 5:$c(t);default:cf(a,t),t=_e=Ou(t,Sa),t=lf(a,t,Sa)}e.memoizedProps=e.pendingProps,t===null?xi(e):_e=t}function cl(e,t,a,l){ha=hn=null,$c(t),Kn=null,kl=0;var s=t.return;try{if(pg(e,s,t,a,Te)){Ke=1,ii(e,Bt(a,e.current)),_e=null;return}}catch(c){if(s!==null)throw _e=s,c;Ke=1,ii(e,Bt(a,e.current)),_e=null;return}t.flags&32768?(Ae||l===1?e=!0:nl||(Te&536870912)!==0?e=!1:(Qa=e=!0,(l===2||l===9||l===3||l===6)&&(l=At.current,l!==null&&l.tag===13&&(l.flags|=16384))),kf(t,e)):xi(t)}function xi(e){var t=e;do{if((t.flags&32768)!==0){kf(t,Qa);return}e=t.return;var a=yg(t.alternate,t,Sa);if(a!==null){_e=a;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);Ke===0&&(Ke=5)}function kf(e,t){do{var a=xg(e.alternate,e);if(a!==null){a.flags&=32767,_e=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){_e=e;return}_e=e=a}while(e!==null);Ke=6,_e=null}function Bf(e,t,a,l,s,c,d,p,w){e.cancelPendingCommit=null;do bi();while(lt!==0);if((Oe&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(c=t.lanes|t.childLanes,c|=jc,ip(e,a,c,d,p,w),e===Ye&&(_e=Ye=null,Te=0),sl=t,$a=e,wa=a,Ar=c,Dr=s,Tf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Mg(Ns,function(){return Xf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=C.T,C.T=null,s=E.p,E.p=2,d=Oe,Oe|=4;try{bg(e,t,a)}finally{Oe=d,E.p=s,C.T=l}}lt=1,qf(),Hf(),Yf()}}function qf(){if(lt===1){lt=0;var e=$a,t=sl,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=C.T,C.T=null;var l=E.p;E.p=2;var s=Oe;Oe|=4;try{xf(t,e);var c=Qr,d=wu(e.containerInfo),p=c.focusedElem,w=c.selectionRange;if(d!==p&&p&&p.ownerDocument&&Su(p.ownerDocument.documentElement,p)){if(w!==null&&gc(p)){var D=w.start,G=w.end;if(G===void 0&&(G=D),"selectionStart"in p)p.selectionStart=D,p.selectionEnd=Math.min(G,p.value.length);else{var J=p.ownerDocument||document,R=J&&J.defaultView||window;if(R.getSelection){var k=R.getSelection(),oe=p.textContent.length,me=Math.min(w.start,oe),qe=w.end===void 0?me:Math.min(w.end,oe);!k.extend&&me>qe&&(d=qe,qe=me,me=d);var T=Nu(p,me),_=Nu(p,qe);if(T&&_&&(k.rangeCount!==1||k.anchorNode!==T.node||k.anchorOffset!==T.offset||k.focusNode!==_.node||k.focusOffset!==_.offset)){var A=J.createRange();A.setStart(T.node,T.offset),k.removeAllRanges(),me>qe?(k.addRange(A),k.extend(_.node,_.offset)):(A.setEnd(_.node,_.offset),k.addRange(A))}}}}for(J=[],k=p;k=k.parentNode;)k.nodeType===1&&J.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<J.length;p++){var Z=J[p];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}zi=!!Vr,Qr=Vr=null}finally{Oe=s,E.p=l,C.T=a}}e.current=t,lt=2}}function Hf(){if(lt===2){lt=0;var e=$a,t=sl,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=C.T,C.T=null;var l=E.p;E.p=2;var s=Oe;Oe|=4;try{mf(e,t.alternate,t)}finally{Oe=s,E.p=l,C.T=a}}lt=3}}function Yf(){if(lt===4||lt===3){lt=0,be();var e=$a,t=sl,a=wa,l=Tf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?lt=5:(lt=0,sl=$a=null,Gf(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(Fa=null),Pi(a),t=t.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(xl,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=C.T,s=E.p,E.p=2,C.T=null;try{for(var c=e.onRecoverableError,d=0;d<l.length;d++){var p=l[d];c(p.value,{componentStack:p.stack})}}finally{C.T=t,E.p=s}}(wa&3)!==0&&bi(),ca(e),s=e.pendingLanes,(a&261930)!==0&&(s&42)!==0?e===Mr?es++:(es=0,Mr=e):es=0,ts(0)}}function Gf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ul(t)))}function bi(){return qf(),Hf(),Yf(),Xf()}function Xf(){if(lt!==5)return!1;var e=$a,t=Ar;Ar=0;var a=Pi(wa),l=C.T,s=E.p;try{E.p=32>a?32:a,C.T=null,a=Dr,Dr=null;var c=$a,d=wa;if(lt=0,sl=$a=null,wa=0,(Oe&6)!==0)throw Error(o(331));var p=Oe;if(Oe|=4,wf(c.current),jf(c,c.current,d,a),Oe=p,ts(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(xl,c)}catch{}return!0}finally{E.p=s,C.T=l,Gf(e,t)}}function Vf(e,t,a){t=Bt(a,t),t=or(e.stateNode,t,2),e=Ya(e,t,2),e!==null&&(jl(e,2),ca(e))}function Ue(e,t,a){if(e.tag===3)Vf(e,e,a);else for(;t!==null;){if(t.tag===3){Vf(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fa===null||!Fa.has(l))){e=Bt(a,e),a=Vd(2),l=Ya(t,a,2),l!==null&&(Qd(a,l,t,e),jl(l,2),ca(l));break}}t=t.return}}function Rr(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Sg;var s=new Set;l.set(t,s)}else s=l.get(t),s===void 0&&(s=new Set,l.set(t,s));s.has(a)||(Cr=!0,s.add(a),e=Eg.bind(null,e,t,a),t.then(e,e))}function Eg(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ye===e&&(Te&a)===a&&(Ke===4||Ke===3&&(Te&62914560)===Te&&300>ze()-mi?(Oe&2)===0&&il(e,0):Tr|=a,ll===Te&&(ll=0)),ca(e)}function Qf(e,t){t===0&&(t=Bo()),e=un(e,t),e!==null&&(jl(e,t),ca(e))}function Ag(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Qf(e,a)}function Dg(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,s=e.memoizedState;s!==null&&(a=s.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(t),Qf(e,a)}function Mg(e,t){return b(e,t)}var ji=null,rl=null,Ur=!1,Ni=!1,Lr=!1,Ka=0;function ca(e){e!==rl&&e.next===null&&(rl===null?ji=rl=e:rl=rl.next=e),Ni=!0,Ur||(Ur=!0,Og())}function ts(e,t){if(!Lr&&Ni){Lr=!0;do for(var a=!1,l=ji;l!==null;){if(e!==0){var s=l.pendingLanes;if(s===0)var c=0;else{var d=l.suspendedLanes,p=l.pingedLanes;c=(1<<31-Ct(42|e)+1)-1,c&=s&~(d&~p),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(a=!0,Jf(l,c))}else c=Te,c=Cs(l,l===Ye?c:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(c&3)===0||bl(l,c)||(a=!0,Jf(l,c));l=l.next}while(a);Lr=!1}}function zg(){Zf()}function Zf(){Ni=Ur=!1;var e=0;Ka!==0&&Xg()&&(e=Ka);for(var t=ze(),a=null,l=ji;l!==null;){var s=l.next,c=Ff(l,t);c===0?(l.next=null,a===null?ji=s:a.next=s,s===null&&(rl=a)):(a=l,(e!==0||(c&3)!==0)&&(Ni=!0)),l=s}lt!==0&&lt!==5||ts(e),Ka!==0&&(Ka=0)}function Ff(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,s=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var d=31-Ct(c),p=1<<d,w=s[d];w===-1?((p&a)===0||(p&l)!==0)&&(s[d]=sp(p,t)):w<=t&&(e.expiredLanes|=p),c&=~p}if(t=Ye,a=Te,a=Cs(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(Re===2||Re===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ee(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||bl(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&ee(l),Pi(a)){case 2:case 8:a=js;break;case 32:a=Ns;break;case 268435456:a=ko;break;default:a=Ns}return l=$f.bind(null,e),a=b(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&ee(l),e.callbackPriority=2,e.callbackNode=null,2}function $f(e,t){if(lt!==0&&lt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(bi()&&e.callbackNode!==a)return null;var l=Te;return l=Cs(e,e===Ye?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Af(e,l,t),Ff(e,ze()),e.callbackNode!=null&&e.callbackNode===a?$f.bind(null,e):null)}function Jf(e,t){if(bi())return null;Af(e,t,!0)}function Og(){Qg(function(){(Oe&6)!==0?b(yl,zg):Zf()})}function kr(){if(Ka===0){var e=Fn;e===0&&(e=Ss,Ss<<=1,(Ss&261888)===0&&(Ss=256)),Ka=e}return Ka}function Kf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ds(""+e)}function Pf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Rg(e,t,a,l,s){if(t==="submit"&&a&&a.stateNode===s){var c=Kf((s[yt]||null).action),d=l.submitter;d&&(t=(t=d[yt]||null)?Kf(t.formAction):d.getAttribute("formAction"),t!==null&&(c=t,d=null));var p=new Rs("action","action",null,l,s);e.push({event:p,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ka!==0){var w=d?Pf(s,d):new FormData(s);nr(a,{pending:!0,data:w,method:s.method,action:c},null,w)}}else typeof c=="function"&&(p.preventDefault(),w=d?Pf(s,d):new FormData(s),nr(a,{pending:!0,data:w,method:s.method,action:c},c,w))},currentTarget:s}]})}}for(var Br=0;Br<bc.length;Br++){var qr=bc[Br],Ug=qr.toLowerCase(),Lg=qr[0].toUpperCase()+qr.slice(1);It(Ug,"on"+Lg)}It(Tu,"onAnimationEnd"),It(Eu,"onAnimationIteration"),It(Au,"onAnimationStart"),It("dblclick","onDoubleClick"),It("focusin","onFocus"),It("focusout","onBlur"),It(Wp,"onTransitionRun"),It(Ip,"onTransitionStart"),It(eg,"onTransitionCancel"),It(Du,"onTransitionEnd"),On("onMouseEnter",["mouseout","mouseover"]),On("onMouseLeave",["mouseout","mouseover"]),On("onPointerEnter",["pointerout","pointerover"]),On("onPointerLeave",["pointerout","pointerover"]),sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var as="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(as));function Wf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],s=l.event;l=l.listeners;e:{var c=void 0;if(t)for(var d=l.length-1;0<=d;d--){var p=l[d],w=p.instance,D=p.currentTarget;if(p=p.listener,w!==c&&s.isPropagationStopped())break e;c=p,s.currentTarget=D;try{c(s)}catch(G){ks(G)}s.currentTarget=null,c=w}else for(d=0;d<l.length;d++){if(p=l[d],w=p.instance,D=p.currentTarget,p=p.listener,w!==c&&s.isPropagationStopped())break e;c=p,s.currentTarget=D;try{c(s)}catch(G){ks(G)}s.currentTarget=null,c=w}}}}function Ce(e,t){var a=t[Wi];a===void 0&&(a=t[Wi]=new Set);var l=e+"__bubble";a.has(l)||(If(t,e,2,!1),a.add(l))}function Hr(e,t,a){var l=0;t&&(l|=4),If(a,e,l,t)}var Si="_reactListening"+Math.random().toString(36).slice(2);function Yr(e){if(!e[Si]){e[Si]=!0,Qo.forEach(function(a){a!=="selectionchange"&&(kg.has(a)||Hr(a,!1,e),Hr(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Si]||(t[Si]=!0,Hr("selectionchange",!1,t))}}function If(e,t,a,l){switch(Eh(t)){case 2:var s=dv;break;case 8:s=fv;break;default:s=ao}a=s.bind(null,t,a,e),s=void 0,!cc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),l?s!==void 0?e.addEventListener(t,a,{capture:!0,passive:s}):e.addEventListener(t,a,!0):s!==void 0?e.addEventListener(t,a,{passive:s}):e.addEventListener(t,a,!1)}function Gr(e,t,a,l,s){var c=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var d=l.tag;if(d===3||d===4){var p=l.stateNode.containerInfo;if(p===s)break;if(d===4)for(d=l.return;d!==null;){var w=d.tag;if((w===3||w===4)&&d.stateNode.containerInfo===s)return;d=d.return}for(;p!==null;){if(d=Dn(p),d===null)return;if(w=d.tag,w===5||w===6||w===26||w===27){l=c=d;continue e}p=p.parentNode}}l=l.return}nu(function(){var D=c,G=sc(a),J=[];e:{var R=Mu.get(e);if(R!==void 0){var k=Rs,oe=e;switch(e){case"keypress":if(zs(a)===0)break e;case"keydown":case"keyup":k=Dp;break;case"focusin":oe="focus",k=dc;break;case"focusout":oe="blur",k=dc;break;case"beforeblur":case"afterblur":k=dc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=iu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=yp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Op;break;case Tu:case Eu:case Au:k=jp;break;case Du:k=Up;break;case"scroll":case"scrollend":k=gp;break;case"wheel":k=kp;break;case"copy":case"cut":case"paste":k=Sp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=ru;break;case"toggle":case"beforetoggle":k=qp}var me=(t&4)!==0,qe=!me&&(e==="scroll"||e==="scrollend"),T=me?R!==null?R+"Capture":null:R;me=[];for(var _=D,A;_!==null;){var Z=_;if(A=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||A===null||T===null||(Z=wl(_,T),Z!=null&&me.push(ns(_,Z,A))),qe)break;_=_.return}0<me.length&&(R=new k(R,oe,null,a,G),J.push({event:R,listeners:me}))}}if((t&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",R&&a!==lc&&(oe=a.relatedTarget||a.fromElement)&&(Dn(oe)||oe[An]))break e;if((k||R)&&(R=G.window===G?G:(R=G.ownerDocument)?R.defaultView||R.parentWindow:window,k?(oe=a.relatedTarget||a.toElement,k=D,oe=oe?Dn(oe):null,oe!==null&&(qe=h(oe),me=oe.tag,oe!==qe||me!==5&&me!==27&&me!==6)&&(oe=null)):(k=null,oe=D),k!==oe)){if(me=iu,Z="onMouseLeave",T="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(me=ru,Z="onPointerLeave",T="onPointerEnter",_="pointer"),qe=k==null?R:Sl(k),A=oe==null?R:Sl(oe),R=new me(Z,_+"leave",k,a,G),R.target=qe,R.relatedTarget=A,Z=null,Dn(G)===D&&(me=new me(T,_+"enter",oe,a,G),me.target=A,me.relatedTarget=qe,Z=me),qe=Z,k&&oe)t:{for(me=Bg,T=k,_=oe,A=0,Z=T;Z;Z=me(Z))A++;Z=0;for(var he=_;he;he=me(he))Z++;for(;0<A-Z;)T=me(T),A--;for(;0<Z-A;)_=me(_),Z--;for(;A--;){if(T===_||_!==null&&T===_.alternate){me=T;break t}T=me(T),_=me(_)}me=null}else me=null;k!==null&&eh(J,R,k,me,!1),oe!==null&&qe!==null&&eh(J,qe,oe,me,!0)}}e:{if(R=D?Sl(D):window,k=R.nodeName&&R.nodeName.toLowerCase(),k==="select"||k==="input"&&R.type==="file")var De=gu;else if(mu(R))if(vu)De=Jp;else{De=Fp;var ue=Zp}else k=R.nodeName,!k||k.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?D&&nc(D.elementType)&&(De=gu):De=$p;if(De&&(De=De(e,D))){pu(J,De,a,G);break e}ue&&ue(e,R,D),e==="focusout"&&D&&R.type==="number"&&D.memoizedProps.value!=null&&ac(R,"number",R.value)}switch(ue=D?Sl(D):window,e){case"focusin":(mu(ue)||ue.contentEditable==="true")&&(qn=ue,vc=D,zl=null);break;case"focusout":zl=vc=qn=null;break;case"mousedown":yc=!0;break;case"contextmenu":case"mouseup":case"dragend":yc=!1,_u(J,a,G);break;case"selectionchange":if(Pp)break;case"keydown":case"keyup":_u(J,a,G)}var Se;if(hc)e:{switch(e){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Bn?fu(e,a)&&(Ee="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(ou&&a.locale!=="ko"&&(Bn||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Bn&&(Se=lu()):(Ra=G,rc="value"in Ra?Ra.value:Ra.textContent,Bn=!0)),ue=wi(D,Ee),0<ue.length&&(Ee=new cu(Ee,e,null,a,G),J.push({event:Ee,listeners:ue}),Se?Ee.data=Se:(Se=hu(a),Se!==null&&(Ee.data=Se)))),(Se=Yp?Gp(e,a):Xp(e,a))&&(Ee=wi(D,"onBeforeInput"),0<Ee.length&&(ue=new cu("onBeforeInput","beforeinput",null,a,G),J.push({event:ue,listeners:Ee}),ue.data=Se)),Rg(J,e,D,a,G)}Wf(J,t)})}function ns(e,t,a){return{instance:e,listener:t,currentTarget:a}}function wi(e,t){for(var a=t+"Capture",l=[];e!==null;){var s=e,c=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||c===null||(s=wl(e,a),s!=null&&l.unshift(ns(e,s,c)),s=wl(e,t),s!=null&&l.push(ns(e,s,c))),e.tag===3)return l;e=e.return}return[]}function Bg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function eh(e,t,a,l,s){for(var c=t._reactName,d=[];a!==null&&a!==l;){var p=a,w=p.alternate,D=p.stateNode;if(p=p.tag,w!==null&&w===l)break;p!==5&&p!==26&&p!==27||D===null||(w=D,s?(D=wl(a,c),D!=null&&d.unshift(ns(a,D,w))):s||(D=wl(a,c),D!=null&&d.push(ns(a,D,w)))),a=a.return}d.length!==0&&e.push({event:t,listeners:d})}var qg=/\r\n?/g,Hg=/\u0000|\uFFFD/g;function th(e){return(typeof e=="string"?e:""+e).replace(qg,`
`).replace(Hg,"")}function ah(e,t){return t=th(t),th(e)===t}function Be(e,t,a,l,s,c){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Un(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Un(e,""+l);break;case"className":Es(e,"class",l);break;case"tabIndex":Es(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Es(e,a,l);break;case"style":tu(e,l,c);break;case"data":if(t!=="object"){Es(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ds(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(a==="formAction"?(t!=="input"&&Be(e,t,"name",s.name,s,null),Be(e,t,"formEncType",s.formEncType,s,null),Be(e,t,"formMethod",s.formMethod,s,null),Be(e,t,"formTarget",s.formTarget,s,null)):(Be(e,t,"encType",s.encType,s,null),Be(e,t,"method",s.method,s,null),Be(e,t,"target",s.target,s,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ds(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=oa);break;case"onScroll":l!=null&&Ce("scroll",e);break;case"onScrollEnd":l!=null&&Ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(a=l.__html,a!=null){if(s.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ds(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ce("beforetoggle",e),Ce("toggle",e),Ts(e,"popover",l);break;case"xlinkActuate":ra(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ra(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ra(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ra(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ra(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ra(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ra(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ra(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ra(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ts(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mp.get(a)||a,Ts(e,a,l))}}function Xr(e,t,a,l,s,c){switch(a){case"style":tu(e,l,c);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(a=l.__html,a!=null){if(s.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Un(e,l):(typeof l=="number"||typeof l=="bigint")&&Un(e,""+l);break;case"onScroll":l!=null&&Ce("scroll",e);break;case"onScrollEnd":l!=null&&Ce("scrollend",e);break;case"onClick":l!=null&&(e.onclick=oa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(s=a.endsWith("Capture"),t=a.slice(2,s?a.length-7:void 0),c=e[yt]||null,c=c!=null?c[a]:null,typeof c=="function"&&e.removeEventListener(t,c,s),typeof l=="function")){typeof c!="function"&&c!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,s);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Ts(e,a,l)}}}function ht(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",e),Ce("load",e);var l=!1,s=!1,c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];if(d!=null)switch(c){case"src":l=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Be(e,t,c,d,a,null)}}s&&Be(e,t,"srcSet",a.srcSet,a,null),l&&Be(e,t,"src",a.src,a,null);return;case"input":Ce("invalid",e);var p=c=d=s=null,w=null,D=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":s=G;break;case"type":d=G;break;case"checked":w=G;break;case"defaultChecked":D=G;break;case"value":c=G;break;case"defaultValue":p=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(o(137,t));break;default:Be(e,t,l,G,a,null)}}Po(e,c,p,w,D,d,s,!1);return;case"select":Ce("invalid",e),l=d=c=null;for(s in a)if(a.hasOwnProperty(s)&&(p=a[s],p!=null))switch(s){case"value":c=p;break;case"defaultValue":d=p;break;case"multiple":l=p;default:Be(e,t,s,p,a,null)}t=c,a=d,e.multiple=!!l,t!=null?Rn(e,!!l,t,!1):a!=null&&Rn(e,!!l,a,!0);return;case"textarea":Ce("invalid",e),c=s=l=null;for(d in a)if(a.hasOwnProperty(d)&&(p=a[d],p!=null))switch(d){case"value":l=p;break;case"defaultValue":s=p;break;case"children":c=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(o(91));break;default:Be(e,t,d,p,a,null)}Io(e,l,s,c);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Be(e,t,w,l,a,null)}return;case"dialog":Ce("beforetoggle",e),Ce("toggle",e),Ce("cancel",e),Ce("close",e);break;case"iframe":case"object":Ce("load",e);break;case"video":case"audio":for(l=0;l<as.length;l++)Ce(as[l],e);break;case"image":Ce("error",e),Ce("load",e);break;case"details":Ce("toggle",e);break;case"embed":case"source":case"link":Ce("error",e),Ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Be(e,t,D,l,a,null)}return;default:if(nc(t)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&Xr(e,t,G,l,a,void 0));return}}for(p in a)a.hasOwnProperty(p)&&(l=a[p],l!=null&&Be(e,t,p,l,a,null))}function Yg(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,c=null,d=null,p=null,w=null,D=null,G=null;for(k in a){var J=a[k];if(a.hasOwnProperty(k)&&J!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":w=J;default:l.hasOwnProperty(k)||Be(e,t,k,null,l,J)}}for(var R in l){var k=l[R];if(J=a[R],l.hasOwnProperty(R)&&(k!=null||J!=null))switch(R){case"type":c=k;break;case"name":s=k;break;case"checked":D=k;break;case"defaultChecked":G=k;break;case"value":d=k;break;case"defaultValue":p=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(o(137,t));break;default:k!==J&&Be(e,t,R,k,l,J)}}tc(e,d,p,w,D,G,c,s);return;case"select":k=d=p=R=null;for(c in a)if(w=a[c],a.hasOwnProperty(c)&&w!=null)switch(c){case"value":break;case"multiple":k=w;default:l.hasOwnProperty(c)||Be(e,t,c,null,l,w)}for(s in l)if(c=l[s],w=a[s],l.hasOwnProperty(s)&&(c!=null||w!=null))switch(s){case"value":R=c;break;case"defaultValue":p=c;break;case"multiple":d=c;default:c!==w&&Be(e,t,s,c,l,w)}t=p,a=d,l=k,R!=null?Rn(e,!!a,R,!1):!!l!=!!a&&(t!=null?Rn(e,!!a,t,!0):Rn(e,!!a,a?[]:"",!1));return;case"textarea":k=R=null;for(p in a)if(s=a[p],a.hasOwnProperty(p)&&s!=null&&!l.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:Be(e,t,p,null,l,s)}for(d in l)if(s=l[d],c=a[d],l.hasOwnProperty(d)&&(s!=null||c!=null))switch(d){case"value":R=s;break;case"defaultValue":k=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(o(91));break;default:s!==c&&Be(e,t,d,s,l,c)}Wo(e,R,k);return;case"option":for(var oe in a)if(R=a[oe],a.hasOwnProperty(oe)&&R!=null&&!l.hasOwnProperty(oe))switch(oe){case"selected":e.selected=!1;break;default:Be(e,t,oe,null,l,R)}for(w in l)if(R=l[w],k=a[w],l.hasOwnProperty(w)&&R!==k&&(R!=null||k!=null))switch(w){case"selected":e.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:Be(e,t,w,R,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in a)R=a[me],a.hasOwnProperty(me)&&R!=null&&!l.hasOwnProperty(me)&&Be(e,t,me,null,l,R);for(D in l)if(R=l[D],k=a[D],l.hasOwnProperty(D)&&R!==k&&(R!=null||k!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(o(137,t));break;default:Be(e,t,D,R,l,k)}return;default:if(nc(t)){for(var qe in a)R=a[qe],a.hasOwnProperty(qe)&&R!==void 0&&!l.hasOwnProperty(qe)&&Xr(e,t,qe,void 0,l,R);for(G in l)R=l[G],k=a[G],!l.hasOwnProperty(G)||R===k||R===void 0&&k===void 0||Xr(e,t,G,R,l,k);return}}for(var T in a)R=a[T],a.hasOwnProperty(T)&&R!=null&&!l.hasOwnProperty(T)&&Be(e,t,T,null,l,R);for(J in l)R=l[J],k=a[J],!l.hasOwnProperty(J)||R===k||R==null&&k==null||Be(e,t,J,R,l,k)}function nh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gg(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var s=a[l],c=s.transferSize,d=s.initiatorType,p=s.duration;if(c&&p&&nh(d)){for(d=0,p=s.responseEnd,l+=1;l<a.length;l++){var w=a[l],D=w.startTime;if(D>p)break;var G=w.transferSize,J=w.initiatorType;G&&nh(J)&&(w=w.responseEnd,d+=G*(w<p?1:(p-D)/(w-D)))}if(--l,t+=8*(c+d)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Vr=null,Qr=null;function _i(e){return e.nodeType===9?e:e.ownerDocument}function lh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Zr(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fr=null;function Xg(){var e=window.event;return e&&e.type==="popstate"?e===Fr?!1:(Fr=e,!0):(Fr=null,!1)}var ih=typeof setTimeout=="function"?setTimeout:void 0,Vg=typeof clearTimeout=="function"?clearTimeout:void 0,ch=typeof Promise=="function"?Promise:void 0,Qg=typeof queueMicrotask=="function"?queueMicrotask:typeof ch<"u"?function(e){return ch.resolve(null).then(e).catch(Zg)}:ih;function Zg(e){setTimeout(function(){throw e})}function Pa(e){return e==="head"}function rh(e,t){var a=t,l=0;do{var s=a.nextSibling;if(e.removeChild(a),s&&s.nodeType===8)if(a=s.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(s),fl(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")ls(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ls(a);for(var c=a.firstChild;c;){var d=c.nextSibling,p=c.nodeName;c[Nl]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&c.rel.toLowerCase()==="stylesheet"||a.removeChild(c),c=d}}else a==="body"&&ls(e.ownerDocument.body);a=s}while(a);fl(t)}function oh(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function $r(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":$r(a),Ii(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Fg(e,t,a,l){for(;e.nodeType===1;){var s=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Nl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Xt(e.nextSibling),e===null)break}return null}function $g(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Xt(e.nextSibling),e===null))return null;return e}function uh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Xt(e.nextSibling),e===null))return null;return e}function Jr(e){return e.data==="$?"||e.data==="$~"}function Kr(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Jg(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Xt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Pr=null;function dh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Xt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function fh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function hh(e,t,a){switch(t=_i(a),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function ls(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ii(e)}var Vt=new Map,mh=new Set;function Ci(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var _a=E.d;E.d={f:Kg,r:Pg,D:Wg,C:Ig,L:ev,m:tv,X:nv,S:av,M:lv};function Kg(){var e=_a.f(),t=vi();return e||t}function Pg(e){var t=Mn(e);t!==null&&t.tag===5&&t.type==="form"?Dd(t):_a.r(e)}var ol=typeof document>"u"?null:document;function ph(e,t,a){var l=ol;if(l&&typeof t=="string"&&t){var s=Lt(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof a=="string"&&(s+='[crossorigin="'+a+'"]'),mh.has(s)||(mh.add(s),e={rel:e,crossOrigin:a,href:t},l.querySelector(s)===null&&(t=l.createElement("link"),ht(t,"link",e),it(t),l.head.appendChild(t)))}}function Wg(e){_a.D(e),ph("dns-prefetch",e,null)}function Ig(e,t){_a.C(e,t),ph("preconnect",e,t)}function ev(e,t,a){_a.L(e,t,a);var l=ol;if(l&&e&&t){var s='link[rel="preload"][as="'+Lt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(s+='[imagesrcset="'+Lt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(s+='[imagesizes="'+Lt(a.imageSizes)+'"]')):s+='[href="'+Lt(e)+'"]';var c=s;switch(t){case"style":c=ul(e);break;case"script":c=dl(e)}Vt.has(c)||(e=S({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Vt.set(c,e),l.querySelector(s)!==null||t==="style"&&l.querySelector(ss(c))||t==="script"&&l.querySelector(is(c))||(t=l.createElement("link"),ht(t,"link",e),it(t),l.head.appendChild(t)))}}function tv(e,t){_a.m(e,t);var a=ol;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+Lt(l)+'"][href="'+Lt(e)+'"]',c=s;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=dl(e)}if(!Vt.has(c)&&(e=S({rel:"modulepreload",href:e},t),Vt.set(c,e),a.querySelector(s)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(is(c)))return}l=a.createElement("link"),ht(l,"link",e),it(l),a.head.appendChild(l)}}}function av(e,t,a){_a.S(e,t,a);var l=ol;if(l&&e){var s=zn(l).hoistableStyles,c=ul(e);t=t||"default";var d=s.get(c);if(!d){var p={loading:0,preload:null};if(d=l.querySelector(ss(c)))p.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Vt.get(c))&&Wr(e,a);var w=d=l.createElement("link");it(w),ht(w,"link",e),w._p=new Promise(function(D,G){w.onload=D,w.onerror=G}),w.addEventListener("load",function(){p.loading|=1}),w.addEventListener("error",function(){p.loading|=2}),p.loading|=4,Ti(d,t,l)}d={type:"stylesheet",instance:d,count:1,state:p},s.set(c,d)}}}function nv(e,t){_a.X(e,t);var a=ol;if(a&&e){var l=zn(a).hoistableScripts,s=dl(e),c=l.get(s);c||(c=a.querySelector(is(s)),c||(e=S({src:e,async:!0},t),(t=Vt.get(s))&&Ir(e,t),c=a.createElement("script"),it(c),ht(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},l.set(s,c))}}function lv(e,t){_a.M(e,t);var a=ol;if(a&&e){var l=zn(a).hoistableScripts,s=dl(e),c=l.get(s);c||(c=a.querySelector(is(s)),c||(e=S({src:e,async:!0,type:"module"},t),(t=Vt.get(s))&&Ir(e,t),c=a.createElement("script"),it(c),ht(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},l.set(s,c))}}function gh(e,t,a,l){var s=(s=ge.current)?Ci(s):null;if(!s)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ul(a.href),a=zn(s).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ul(a.href);var c=zn(s).hoistableStyles,d=c.get(e);if(d||(s=s.ownerDocument||s,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=s.querySelector(ss(e)))&&!c._p&&(d.instance=c,d.state.loading=5),Vt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vt.set(e,a),c||sv(s,e,a,d.state))),t&&l===null)throw Error(o(528,""));return d}if(t&&l!==null)throw Error(o(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=dl(a),a=zn(s).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function ul(e){return'href="'+Lt(e)+'"'}function ss(e){return'link[rel="stylesheet"]['+e+"]"}function vh(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function sv(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),ht(t,"link",a),it(t),e.head.appendChild(t))}function dl(e){return'[src="'+Lt(e)+'"]'}function is(e){return"script[async]"+e}function yh(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Lt(a.href)+'"]');if(l)return t.instance=l,it(l),l;var s=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),it(l),ht(l,"style",s),Ti(l,a.precedence,e),t.instance=l;case"stylesheet":s=ul(a.href);var c=e.querySelector(ss(s));if(c)return t.state.loading|=4,t.instance=c,it(c),c;l=vh(a),(s=Vt.get(s))&&Wr(l,s),c=(e.ownerDocument||e).createElement("link"),it(c);var d=c;return d._p=new Promise(function(p,w){d.onload=p,d.onerror=w}),ht(c,"link",l),t.state.loading|=4,Ti(c,a.precedence,e),t.instance=c;case"script":return c=dl(a.src),(s=e.querySelector(is(c)))?(t.instance=s,it(s),s):(l=a,(s=Vt.get(c))&&(l=S({},a),Ir(l,s)),e=e.ownerDocument||e,s=e.createElement("script"),it(s),ht(s,"link",l),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Ti(l,a.precedence,e));return t.instance}function Ti(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=l.length?l[l.length-1]:null,c=s,d=0;d<l.length;d++){var p=l[d];if(p.dataset.precedence===t)c=p;else if(c!==s)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Wr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ir(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ei=null;function xh(e,t,a){if(Ei===null){var l=new Map,s=Ei=new Map;s.set(a,l)}else s=Ei,l=s.get(a),l||(l=new Map,s.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),s=0;s<a.length;s++){var c=a[s];if(!(c[Nl]||c[ot]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var d=c.getAttribute(t)||"";d=e+d;var p=l.get(d);p?p.push(c):l.set(d,[c])}}return l}function bh(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function iv(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function jh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function cv(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var s=ul(l.href),c=t.querySelector(ss(s));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ai.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=c,it(c);return}c=t.ownerDocument||t,l=vh(l),(s=Vt.get(s))&&Wr(l,s),c=c.createElement("link"),it(c);var d=c;d._p=new Promise(function(p,w){d.onload=p,d.onerror=w}),ht(c,"link",l),a.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ai.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var eo=0;function rv(e,t){return e.stylesheets&&e.count===0&&Mi(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Mi(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&eo===0&&(eo=62500*Gg());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Mi(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>eo?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(s)}}:null}function Ai(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mi(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Di=null;function Mi(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Di=new Map,t.forEach(ov,e),Di=null,Ai.call(e))}function ov(e,t){if(!(t.state.loading&4)){var a=Di.get(e);if(a)var l=a.get(null);else{a=new Map,Di.set(e,a);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<s.length;c++){var d=s[c];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(a.set(d.dataset.precedence,d),l=d)}l&&a.set(null,l)}s=t.instance,d=s.getAttribute("data-precedence"),c=a.get(d)||l,c===l&&a.set(null,s),a.set(d,s),this.count++,l=Ai.bind(this),s.addEventListener("load",l),s.addEventListener("error",l),c?c.parentNode.insertBefore(s,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var cs={$$typeof:U,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function uv(e,t,a,l,s,c,d,p,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ji(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ji(0),this.hiddenUpdates=Ji(null),this.identifierPrefix=l,this.onUncaughtError=s,this.onCaughtError=c,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Nh(e,t,a,l,s,c,d,p,w,D,G,J){return e=new uv(e,t,a,d,w,D,G,J,p),t=1,c===!0&&(t|=24),c=Et(3,null,null,t),e.current=c,c.stateNode=e,t=Oc(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:l,isDehydrated:a,cache:t},kc(c),e}function Sh(e){return e?(e=Gn,e):Gn}function wh(e,t,a,l,s,c){s=Sh(s),l.context===null?l.context=s:l.pendingContext=s,l=Ha(t),l.payload={element:a},c=c===void 0?null:c,c!==null&&(l.callback=c),a=Ya(e,l,t),a!==null&&(wt(a,e,t),ql(a,e,t))}function _h(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function to(e,t){_h(e,t),(e=e.alternate)&&_h(e,t)}function Ch(e){if(e.tag===13||e.tag===31){var t=un(e,67108864);t!==null&&wt(t,e,67108864),to(e,67108864)}}function Th(e){if(e.tag===13||e.tag===31){var t=Ot();t=Ki(t);var a=un(e,t);a!==null&&wt(a,e,t),to(e,t)}}var zi=!0;function dv(e,t,a,l){var s=C.T;C.T=null;var c=E.p;try{E.p=2,ao(e,t,a,l)}finally{E.p=c,C.T=s}}function fv(e,t,a,l){var s=C.T;C.T=null;var c=E.p;try{E.p=8,ao(e,t,a,l)}finally{E.p=c,C.T=s}}function ao(e,t,a,l){if(zi){var s=no(l);if(s===null)Gr(e,t,l,Oi,a),Ah(e,l);else if(mv(s,e,t,a,l))l.stopPropagation();else if(Ah(e,l),t&4&&-1<hv.indexOf(e)){for(;s!==null;){var c=Mn(s);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var d=ln(c.pendingLanes);if(d!==0){var p=c;for(p.pendingLanes|=2,p.entangledLanes|=2;d;){var w=1<<31-Ct(d);p.entanglements[1]|=w,d&=~w}ca(c),(Oe&6)===0&&(pi=ze()+500,ts(0))}}break;case 31:case 13:p=un(c,2),p!==null&&wt(p,c,2),vi(),to(c,2)}if(c=no(l),c===null&&Gr(e,t,l,Oi,a),c===s)break;s=c}s!==null&&l.stopPropagation()}else Gr(e,t,l,null,a)}}function no(e){return e=sc(e),lo(e)}var Oi=null;function lo(e){if(Oi=null,e=Dn(e),e!==null){var t=h(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=g(t),e!==null)return e;e=null}else if(a===31){if(e=N(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Oi=e,null}function Eh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(na()){case yl:return 2;case js:return 8;case Ns:case Im:return 32;case ko:return 268435456;default:return 32}default:return 32}}var so=!1,Wa=null,Ia=null,en=null,rs=new Map,os=new Map,tn=[],hv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ah(e,t){switch(e){case"focusin":case"focusout":Wa=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":en=null;break;case"pointerover":case"pointerout":rs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":os.delete(t.pointerId)}}function us(e,t,a,l,s,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:c,targetContainers:[s]},t!==null&&(t=Mn(t),t!==null&&Ch(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function mv(e,t,a,l,s){switch(t){case"focusin":return Wa=us(Wa,e,t,a,l,s),!0;case"dragenter":return Ia=us(Ia,e,t,a,l,s),!0;case"mouseover":return en=us(en,e,t,a,l,s),!0;case"pointerover":var c=s.pointerId;return rs.set(c,us(rs.get(c)||null,e,t,a,l,s)),!0;case"gotpointercapture":return c=s.pointerId,os.set(c,us(os.get(c)||null,e,t,a,l,s)),!0}return!1}function Dh(e){var t=Dn(e.target);if(t!==null){var a=h(t);if(a!==null){if(t=a.tag,t===13){if(t=g(a),t!==null){e.blockedOn=t,Xo(e.priority,function(){Th(a)});return}}else if(t===31){if(t=N(a),t!==null){e.blockedOn=t,Xo(e.priority,function(){Th(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ri(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=no(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);lc=l,a.target.dispatchEvent(l),lc=null}else return t=Mn(a),t!==null&&Ch(t),e.blockedOn=a,!1;t.shift()}return!0}function Mh(e,t,a){Ri(e)&&a.delete(t)}function pv(){so=!1,Wa!==null&&Ri(Wa)&&(Wa=null),Ia!==null&&Ri(Ia)&&(Ia=null),en!==null&&Ri(en)&&(en=null),rs.forEach(Mh),os.forEach(Mh)}function Ui(e,t){e.blockedOn===t&&(e.blockedOn=null,so||(so=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,pv)))}var Li=null;function zh(e){Li!==e&&(Li=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Li===e&&(Li=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],s=e[t+2];if(typeof l!="function"){if(lo(l||a)===null)continue;break}var c=Mn(a);c!==null&&(e.splice(t,3),t-=3,nr(c,{pending:!0,data:s,method:a.method,action:l},l,s))}}))}function fl(e){function t(w){return Ui(w,e)}Wa!==null&&Ui(Wa,e),Ia!==null&&Ui(Ia,e),en!==null&&Ui(en,e),rs.forEach(t),os.forEach(t);for(var a=0;a<tn.length;a++){var l=tn[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<tn.length&&(a=tn[0],a.blockedOn===null);)Dh(a),a.blockedOn===null&&tn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var s=a[l],c=a[l+1],d=s[yt]||null;if(typeof c=="function")d||zh(a);else if(d){var p=null;if(c&&c.hasAttribute("formAction")){if(s=c,d=c[yt]||null)p=d.formAction;else if(lo(s)!==null)continue}else p=d.action;typeof p=="function"?a[l+1]=p:(a.splice(l,3),l-=3),zh(a)}}}function Oh(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(d){return s=d})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function io(e){this._internalRoot=e}ki.prototype.render=io.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var a=t.current,l=Ot();wh(a,l,e,t,null,null)},ki.prototype.unmount=io.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wh(e.current,2,null,e,null,null),vi(),t[An]=null}};function ki(e){this._internalRoot=e}ki.prototype.unstable_scheduleHydration=function(e){if(e){var t=Go();e={blockedOn:null,target:e,priority:t};for(var a=0;a<tn.length&&t!==0&&t<tn[a].priority;a++);tn.splice(a,0,e),a===0&&Dh(e)}};var Rh=r.version;if(Rh!=="19.2.3")throw Error(o(527,Rh,"19.2.3"));E.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=x(t),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var gv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bi.isDisabled&&Bi.supportsFiber)try{xl=Bi.inject(gv),_t=Bi}catch{}}return fs.createRoot=function(e,t){if(!f(e))throw Error(o(299));var a=!1,l="",s=Hd,c=Yd,d=Gd;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=Nh(e,1,!1,null,null,a,l,null,s,c,d,Oh),e[An]=t.current,Yr(e),new io(t)},fs.hydrateRoot=function(e,t,a){if(!f(e))throw Error(o(299));var l=!1,s="",c=Hd,d=Yd,p=Gd,w=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(s=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(d=a.onCaughtError),a.onRecoverableError!==void 0&&(p=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),t=Nh(e,1,!0,t,a??null,l,s,w,c,d,p,Oh),t.context=Sh(null),a=t.current,l=Ot(),l=Ki(l),s=Ha(l),s.callback=null,Ya(a,s,l),a=l,t.current.lanes=a,jl(t,a),ca(t),e[An]=t.current,Yr(e),new ki(t)},fs.version="19.2.3",fs}var Vh;function Cv(){if(Vh)return oo.exports;Vh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(r){console.error(r)}}return i(),oo.exports=_v(),oo.exports}var Tv=Cv();var Qh="popstate";function Ev(i={}){function r(o,f){let{pathname:h,search:g,hash:N}=o.location;return wo("",{pathname:h,search:g,hash:N},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function u(o,f){return typeof f=="string"?f:gs(f)}return Dv(r,u,null,i)}function Fe(i,r){if(i===!1||i===null||typeof i>"u")throw new Error(r)}function Rt(i,r){if(!i){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Av(){return Math.random().toString(36).substring(2,10)}function Zh(i,r){return{usr:i.state,key:i.key,idx:r}}function wo(i,r,u=null,o){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof r=="string"?pl(r):r,state:u,key:r&&r.key||o||Av()}}function gs({pathname:i="/",search:r="",hash:u=""}){return r&&r!=="?"&&(i+=r.charAt(0)==="?"?r:"?"+r),u&&u!=="#"&&(i+=u.charAt(0)==="#"?u:"#"+u),i}function pl(i){let r={};if(i){let u=i.indexOf("#");u>=0&&(r.hash=i.substring(u),i=i.substring(0,u));let o=i.indexOf("?");o>=0&&(r.search=i.substring(o),i=i.substring(0,o)),i&&(r.pathname=i)}return r}function Dv(i,r,u,o={}){let{window:f=document.defaultView,v5Compat:h=!1}=o,g=f.history,N="POP",y=null,x=m();x==null&&(x=0,g.replaceState({...g.state,idx:x},""));function m(){return(g.state||{idx:null}).idx}function S(){N="POP";let $=m(),K=$==null?null:$-x;x=$,y&&y({action:N,location:B.location,delta:K})}function z($,K){N="PUSH";let V=wo(B.location,$,K);x=m()+1;let U=Zh(V,x),M=B.createHref(V);try{g.pushState(U,"",M)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;f.location.assign(M)}h&&y&&y({action:N,location:B.location,delta:1})}function H($,K){N="REPLACE";let V=wo(B.location,$,K);x=m();let U=Zh(V,x),M=B.createHref(V);g.replaceState(U,"",M),h&&y&&y({action:N,location:B.location,delta:0})}function F($){return Mv($)}let B={get action(){return N},get location(){return i(f,g)},listen($){if(y)throw new Error("A history only accepts one active listener");return f.addEventListener(Qh,S),y=$,()=>{f.removeEventListener(Qh,S),y=null}},createHref($){return r(f,$)},createURL:F,encodeLocation($){let K=F($);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:z,replace:H,go($){return g.go($)}};return B}function Mv(i,r=!1){let u="http://localhost";typeof window<"u"&&(u=window.location.origin!=="null"?window.location.origin:window.location.href),Fe(u,"No window.location.(origin|href) available to create URL");let o=typeof i=="string"?i:gs(i);return o=o.replace(/ $/,"%20"),!r&&o.startsWith("//")&&(o=u+o),new URL(o,u)}function Sm(i,r,u="/"){return zv(i,r,u,!1)}function zv(i,r,u,o){let f=typeof r=="string"?pl(r):r,h=Ta(f.pathname||"/",u);if(h==null)return null;let g=wm(i);Ov(g);let N=null;for(let y=0;N==null&&y<g.length;++y){let x=Vv(h);N=Gv(g[y],x,o)}return N}function wm(i,r=[],u=[],o="",f=!1){let h=(g,N,y=f,x)=>{let m={relativePath:x===void 0?g.path||"":x,caseSensitive:g.caseSensitive===!0,childrenIndex:N,route:g};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(o)&&y)return;Fe(m.relativePath.startsWith(o),`Absolute route path "${m.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(o.length)}let S=Ca([o,m.relativePath]),z=u.concat(m);g.children&&g.children.length>0&&(Fe(g.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),wm(g.children,r,z,S,y)),!(g.path==null&&!g.index)&&r.push({path:S,score:Hv(S,g.index),routesMeta:z})};return i.forEach((g,N)=>{if(g.path===""||!g.path?.includes("?"))h(g,N);else for(let y of _m(g.path))h(g,N,!0,y)}),r}function _m(i){let r=i.split("/");if(r.length===0)return[];let[u,...o]=r,f=u.endsWith("?"),h=u.replace(/\?$/,"");if(o.length===0)return f?[h,""]:[h];let g=_m(o.join("/")),N=[];return N.push(...g.map(y=>y===""?h:[h,y].join("/"))),f&&N.push(...g),N.map(y=>i.startsWith("/")&&y===""?"/":y)}function Ov(i){i.sort((r,u)=>r.score!==u.score?u.score-r.score:Yv(r.routesMeta.map(o=>o.childrenIndex),u.routesMeta.map(o=>o.childrenIndex)))}var Rv=/^:[\w-]+$/,Uv=3,Lv=2,kv=1,Bv=10,qv=-2,Fh=i=>i==="*";function Hv(i,r){let u=i.split("/"),o=u.length;return u.some(Fh)&&(o+=qv),r&&(o+=Lv),u.filter(f=>!Fh(f)).reduce((f,h)=>f+(Rv.test(h)?Uv:h===""?kv:Bv),o)}function Yv(i,r){return i.length===r.length&&i.slice(0,-1).every((o,f)=>o===r[f])?i[i.length-1]-r[r.length-1]:0}function Gv(i,r,u=!1){let{routesMeta:o}=i,f={},h="/",g=[];for(let N=0;N<o.length;++N){let y=o[N],x=N===o.length-1,m=h==="/"?r:r.slice(h.length)||"/",S=Xi({path:y.relativePath,caseSensitive:y.caseSensitive,end:x},m),z=y.route;if(!S&&x&&u&&!o[o.length-1].route.index&&(S=Xi({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},m)),!S)return null;Object.assign(f,S.params),g.push({params:f,pathname:Ca([h,S.pathname]),pathnameBase:Jv(Ca([h,S.pathnameBase])),route:z}),S.pathnameBase!=="/"&&(h=Ca([h,S.pathnameBase]))}return g}function Xi(i,r){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[u,o]=Xv(i.path,i.caseSensitive,i.end),f=r.match(u);if(!f)return null;let h=f[0],g=h.replace(/(.)\/+$/,"$1"),N=f.slice(1);return{params:o.reduce((x,{paramName:m,isOptional:S},z)=>{if(m==="*"){let F=N[z]||"";g=h.slice(0,h.length-F.length).replace(/(.)\/+$/,"$1")}const H=N[z];return S&&!H?x[m]=void 0:x[m]=(H||"").replace(/%2F/g,"/"),x},{}),pathname:h,pathnameBase:g,pattern:i}}function Xv(i,r=!1,u=!0){Rt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let o=[],f="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,N,y)=>(o.push({paramName:N,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(o.push({paramName:"*"}),f+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):u?f+="\\/*$":i!==""&&i!=="/"&&(f+="(?:(?=\\/|$))"),[new RegExp(f,r?void 0:"i"),o]}function Vv(i){try{return i.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Rt(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),i}}function Ta(i,r){if(r==="/")return i;if(!i.toLowerCase().startsWith(r.toLowerCase()))return null;let u=r.endsWith("/")?r.length-1:r.length,o=i.charAt(u);return o&&o!=="/"?null:i.slice(u)||"/"}var Qv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zv=i=>Qv.test(i);function Fv(i,r="/"){let{pathname:u,search:o="",hash:f=""}=typeof i=="string"?pl(i):i,h;if(u)if(Zv(u))h=u;else{if(u.includes("//")){let g=u;u=u.replace(/\/\/+/g,"/"),Rt(!1,`Pathnames cannot have embedded double slashes - normalizing ${g} -> ${u}`)}u.startsWith("/")?h=$h(u.substring(1),"/"):h=$h(u,r)}else h=r;return{pathname:h,search:Kv(o),hash:Pv(f)}}function $h(i,r){let u=r.replace(/\/+$/,"").split("/");return i.split("/").forEach(f=>{f===".."?u.length>1&&u.pop():f!=="."&&u.push(f)}),u.length>1?u.join("/"):"/"}function mo(i,r,u,o){return`Cannot include a '${i}' character in a manually specified \`to.${r}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${u}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $v(i){return i.filter((r,u)=>u===0||r.route.path&&r.route.path.length>0)}function Ao(i){let r=$v(i);return r.map((u,o)=>o===r.length-1?u.pathname:u.pathnameBase)}function Do(i,r,u,o=!1){let f;typeof i=="string"?f=pl(i):(f={...i},Fe(!f.pathname||!f.pathname.includes("?"),mo("?","pathname","search",f)),Fe(!f.pathname||!f.pathname.includes("#"),mo("#","pathname","hash",f)),Fe(!f.search||!f.search.includes("#"),mo("#","search","hash",f)));let h=i===""||f.pathname==="",g=h?"/":f.pathname,N;if(g==null)N=u;else{let S=r.length-1;if(!o&&g.startsWith("..")){let z=g.split("/");for(;z[0]==="..";)z.shift(),S-=1;f.pathname=z.join("/")}N=S>=0?r[S]:"/"}let y=Fv(f,N),x=g&&g!=="/"&&g.endsWith("/"),m=(h||g===".")&&u.endsWith("/");return!y.pathname.endsWith("/")&&(x||m)&&(y.pathname+="/"),y}var Ca=i=>i.join("/").replace(/\/\/+/g,"/"),Jv=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Kv=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Pv=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Wv(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function Iv(i){return i.map(r=>r.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Cm=["POST","PUT","PATCH","DELETE"];new Set(Cm);var ey=["GET",...Cm];new Set(ey);var gl=v.createContext(null);gl.displayName="DataRouter";var Fi=v.createContext(null);Fi.displayName="DataRouterState";v.createContext(!1);var Tm=v.createContext({isTransitioning:!1});Tm.displayName="ViewTransition";var ty=v.createContext(new Map);ty.displayName="Fetchers";var ay=v.createContext(null);ay.displayName="Await";var Ft=v.createContext(null);Ft.displayName="Navigation";var ys=v.createContext(null);ys.displayName="Location";var $t=v.createContext({outlet:null,matches:[],isDataRoute:!1});$t.displayName="Route";var Mo=v.createContext(null);Mo.displayName="RouteError";function ny(i,{relative:r}={}){Fe(vl(),"useHref() may be used only in the context of a <Router> component.");let{basename:u,navigator:o}=v.useContext(Ft),{hash:f,pathname:h,search:g}=xs(i,{relative:r}),N=h;return u!=="/"&&(N=h==="/"?u:Ca([u,h])),o.createHref({pathname:N,search:g,hash:f})}function vl(){return v.useContext(ys)!=null}function aa(){return Fe(vl(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(ys).location}var Em="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Am(i){v.useContext(Ft).static||v.useLayoutEffect(i)}function Jt(){let{isDataRoute:i}=v.useContext($t);return i?yy():ly()}function ly(){Fe(vl(),"useNavigate() may be used only in the context of a <Router> component.");let i=v.useContext(gl),{basename:r,navigator:u}=v.useContext(Ft),{matches:o}=v.useContext($t),{pathname:f}=aa(),h=JSON.stringify(Ao(o)),g=v.useRef(!1);return Am(()=>{g.current=!0}),v.useCallback((y,x={})=>{if(Rt(g.current,Em),!g.current)return;if(typeof y=="number"){u.go(y);return}let m=Do(y,JSON.parse(h),f,x.relative==="path");i==null&&r!=="/"&&(m.pathname=m.pathname==="/"?r:Ca([r,m.pathname])),(x.replace?u.replace:u.push)(m,x.state,x)},[r,u,h,f,i])}var sy=v.createContext(null);function iy(i){let r=v.useContext($t).outlet;return v.useMemo(()=>r&&v.createElement(sy.Provider,{value:i},r),[r,i])}function Dm(){let{matches:i}=v.useContext($t),r=i[i.length-1];return r?r.params:{}}function xs(i,{relative:r}={}){let{matches:u}=v.useContext($t),{pathname:o}=aa(),f=JSON.stringify(Ao(u));return v.useMemo(()=>Do(i,JSON.parse(f),o,r==="path"),[i,f,o,r])}function cy(i,r){return Mm(i,r)}function Mm(i,r,u,o,f){Fe(vl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=v.useContext(Ft),{matches:g}=v.useContext($t),N=g[g.length-1],y=N?N.params:{},x=N?N.pathname:"/",m=N?N.pathnameBase:"/",S=N&&N.route;{let V=S&&S.path||"";zm(x,!S||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let z=aa(),H;if(r){let V=typeof r=="string"?pl(r):r;Fe(m==="/"||V.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${V.pathname}" was given in the \`location\` prop.`),H=V}else H=z;let F=H.pathname||"/",B=F;if(m!=="/"){let V=m.replace(/^\//,"").split("/");B="/"+F.replace(/^\//,"").split("/").slice(V.length).join("/")}let $=Sm(i,{pathname:B});Rt(S||$!=null,`No routes matched location "${H.pathname}${H.search}${H.hash}" `),Rt($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${H.pathname}${H.search}${H.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=fy($&&$.map(V=>Object.assign({},V,{params:Object.assign({},y,V.params),pathname:Ca([m,h.encodeLocation?h.encodeLocation(V.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?m:Ca([m,h.encodeLocation?h.encodeLocation(V.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathnameBase])})),g,u,o,f);return r&&K?v.createElement(ys.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...H},navigationType:"POP"}},K):K}function ry(){let i=vy(),r=Wv(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),u=i instanceof Error?i.stack:null,o="rgba(200,200,200, 0.5)",f={padding:"0.5rem",backgroundColor:o},h={padding:"2px 4px",backgroundColor:o},g=null;return console.error("Error handled by React Router default ErrorBoundary:",i),g=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:h},"ErrorBoundary")," or"," ",v.createElement("code",{style:h},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},r),u?v.createElement("pre",{style:f},u):null,g)}var oy=v.createElement(ry,null),uy=class extends v.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,r){return r.location!==i.location||r.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:r.error,location:r.location,revalidation:i.revalidation||r.revalidation}}componentDidCatch(i,r){this.props.onError?this.props.onError(i,r):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?v.createElement($t.Provider,{value:this.props.routeContext},v.createElement(Mo.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dy({routeContext:i,match:r,children:u}){let o=v.useContext(gl);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement($t.Provider,{value:i},u)}function fy(i,r=[],u=null,o=null,f=null){if(i==null){if(!u)return null;if(u.errors)i=u.matches;else if(r.length===0&&!u.initialized&&u.matches.length>0)i=u.matches;else return null}let h=i,g=u?.errors;if(g!=null){let m=h.findIndex(S=>S.route.id&&g?.[S.route.id]!==void 0);Fe(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(g).join(",")}`),h=h.slice(0,Math.min(h.length,m+1))}let N=!1,y=-1;if(u)for(let m=0;m<h.length;m++){let S=h[m];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(y=m),S.route.id){let{loaderData:z,errors:H}=u,F=S.route.loader&&!z.hasOwnProperty(S.route.id)&&(!H||H[S.route.id]===void 0);if(S.route.lazy||F){N=!0,y>=0?h=h.slice(0,y+1):h=[h[0]];break}}}let x=u&&o?(m,S)=>{o(m,{location:u.location,params:u.matches?.[0]?.params??{},unstable_pattern:Iv(u.matches),errorInfo:S})}:void 0;return h.reduceRight((m,S,z)=>{let H,F=!1,B=null,$=null;u&&(H=g&&S.route.id?g[S.route.id]:void 0,B=S.route.errorElement||oy,N&&(y<0&&z===0?(zm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),F=!0,$=null):y===z&&(F=!0,$=S.route.hydrateFallbackElement||null)));let K=r.concat(h.slice(0,z+1)),V=()=>{let U;return H?U=B:F?U=$:S.route.Component?U=v.createElement(S.route.Component,null):S.route.element?U=S.route.element:U=m,v.createElement(dy,{match:S,routeContext:{outlet:m,matches:K,isDataRoute:u!=null},children:U})};return u&&(S.route.ErrorBoundary||S.route.errorElement||z===0)?v.createElement(uy,{location:u.location,revalidation:u.revalidation,component:B,error:H,children:V(),routeContext:{outlet:null,matches:K,isDataRoute:!0},onError:x}):V()},null)}function zo(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hy(i){let r=v.useContext(gl);return Fe(r,zo(i)),r}function my(i){let r=v.useContext(Fi);return Fe(r,zo(i)),r}function py(i){let r=v.useContext($t);return Fe(r,zo(i)),r}function Oo(i){let r=py(i),u=r.matches[r.matches.length-1];return Fe(u.route.id,`${i} can only be used on routes that contain a unique "id"`),u.route.id}function gy(){return Oo("useRouteId")}function vy(){let i=v.useContext(Mo),r=my("useRouteError"),u=Oo("useRouteError");return i!==void 0?i:r.errors?.[u]}function yy(){let{router:i}=hy("useNavigate"),r=Oo("useNavigate"),u=v.useRef(!1);return Am(()=>{u.current=!0}),v.useCallback(async(f,h={})=>{Rt(u.current,Em),u.current&&(typeof f=="number"?await i.navigate(f):await i.navigate(f,{fromRouteId:r,...h}))},[i,r])}var Jh={};function zm(i,r,u){!r&&!Jh[i]&&(Jh[i]=!0,Rt(!1,u))}v.memo(xy);function xy({routes:i,future:r,state:u,unstable_onError:o}){return Mm(i,void 0,u,o,r)}function Tn({to:i,replace:r,state:u,relative:o}){Fe(vl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:f}=v.useContext(Ft);Rt(!f,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=v.useContext($t),{pathname:g}=aa(),N=Jt(),y=Do(i,Ao(h),g,o==="path"),x=JSON.stringify(y);return v.useEffect(()=>{N(JSON.parse(x),{replace:r,state:u,relative:o})},[N,x,o,r,u]),null}function by(i){return iy(i.context)}function $e(i){Fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jy({basename:i="/",children:r=null,location:u,navigationType:o="POP",navigator:f,static:h=!1,unstable_useTransitions:g}){Fe(!vl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let N=i.replace(/^\/*/,"/"),y=v.useMemo(()=>({basename:N,navigator:f,static:h,unstable_useTransitions:g,future:{}}),[N,f,h,g]);typeof u=="string"&&(u=pl(u));let{pathname:x="/",search:m="",hash:S="",state:z=null,key:H="default"}=u,F=v.useMemo(()=>{let B=Ta(x,N);return B==null?null:{location:{pathname:B,search:m,hash:S,state:z,key:H},navigationType:o}},[N,x,m,S,z,H,o]);return Rt(F!=null,`<Router basename="${N}"> is not able to match the URL "${x}${m}${S}" because it does not start with the basename, so the <Router> won't render anything.`),F==null?null:v.createElement(Ft.Provider,{value:y},v.createElement(ys.Provider,{children:r,value:F}))}function Ny({children:i,location:r}){return cy(_o(i),r)}function _o(i,r=[]){let u=[];return v.Children.forEach(i,(o,f)=>{if(!v.isValidElement(o))return;let h=[...r,f];if(o.type===v.Fragment){u.push.apply(u,_o(o.props.children,h));return}Fe(o.type===$e,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Fe(!o.props.index||!o.props.children,"An index route cannot have child routes.");let g={id:o.props.id||h.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(g.children=_o(o.props.children,h)),u.push(g)}),u}var Hi="get",Yi="application/x-www-form-urlencoded";function $i(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function Sy(i){return $i(i)&&i.tagName.toLowerCase()==="button"}function wy(i){return $i(i)&&i.tagName.toLowerCase()==="form"}function _y(i){return $i(i)&&i.tagName.toLowerCase()==="input"}function Cy(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Ty(i,r){return i.button===0&&(!r||r==="_self")&&!Cy(i)}function Co(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((r,u)=>{let o=i[u];return r.concat(Array.isArray(o)?o.map(f=>[u,f]):[[u,o]])},[]))}function Ey(i,r){let u=Co(i);return r&&r.forEach((o,f)=>{u.has(f)||r.getAll(f).forEach(h=>{u.append(f,h)})}),u}var qi=null;function Ay(){if(qi===null)try{new FormData(document.createElement("form"),0),qi=!1}catch{qi=!0}return qi}var Dy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function po(i){return i!=null&&!Dy.has(i)?(Rt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yi}"`),null):i}function My(i,r){let u,o,f,h,g;if(wy(i)){let N=i.getAttribute("action");o=N?Ta(N,r):null,u=i.getAttribute("method")||Hi,f=po(i.getAttribute("enctype"))||Yi,h=new FormData(i)}else if(Sy(i)||_y(i)&&(i.type==="submit"||i.type==="image")){let N=i.form;if(N==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=i.getAttribute("formaction")||N.getAttribute("action");if(o=y?Ta(y,r):null,u=i.getAttribute("formmethod")||N.getAttribute("method")||Hi,f=po(i.getAttribute("formenctype"))||po(N.getAttribute("enctype"))||Yi,h=new FormData(N,i),!Ay()){let{name:x,type:m,value:S}=i;if(m==="image"){let z=x?`${x}.`:"";h.append(`${z}x`,"0"),h.append(`${z}y`,"0")}else x&&h.append(x,S)}}else{if($i(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');u=Hi,o=null,f=Yi,g=i}return h&&f==="text/plain"&&(g=h,h=void 0),{action:o,method:u.toLowerCase(),encType:f,formData:h,body:g}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ro(i,r){if(i===!1||i===null||typeof i>"u")throw new Error(r)}function zy(i,r,u){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return o.pathname==="/"?o.pathname=`_root.${u}`:r&&Ta(o.pathname,r)==="/"?o.pathname=`${r.replace(/\/$/,"")}/_root.${u}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${u}`,o}async function Oy(i,r){if(i.id in r)return r[i.id];try{let u=await import(i.module);return r[i.id]=u,u}catch(u){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(u),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ry(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Uy(i,r,u){let o=await Promise.all(i.map(async f=>{let h=r.routes[f.route.id];if(h){let g=await Oy(h,u);return g.links?g.links():[]}return[]}));return qy(o.flat(1).filter(Ry).filter(f=>f.rel==="stylesheet"||f.rel==="preload").map(f=>f.rel==="stylesheet"?{...f,rel:"prefetch",as:"style"}:{...f,rel:"prefetch"}))}function Kh(i,r,u,o,f,h){let g=(y,x)=>u[x]?y.route.id!==u[x].route.id:!0,N=(y,x)=>u[x].pathname!==y.pathname||u[x].route.path?.endsWith("*")&&u[x].params["*"]!==y.params["*"];return h==="assets"?r.filter((y,x)=>g(y,x)||N(y,x)):h==="data"?r.filter((y,x)=>{let m=o.routes[y.route.id];if(!m||!m.hasLoader)return!1;if(g(y,x)||N(y,x))return!0;if(y.route.shouldRevalidate){let S=y.route.shouldRevalidate({currentUrl:new URL(f.pathname+f.search+f.hash,window.origin),currentParams:u[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function Ly(i,r,{includeHydrateFallback:u}={}){return ky(i.map(o=>{let f=r.routes[o.route.id];if(!f)return[];let h=[f.module];return f.clientActionModule&&(h=h.concat(f.clientActionModule)),f.clientLoaderModule&&(h=h.concat(f.clientLoaderModule)),u&&f.hydrateFallbackModule&&(h=h.concat(f.hydrateFallbackModule)),f.imports&&(h=h.concat(f.imports)),h}).flat(1))}function ky(i){return[...new Set(i)]}function By(i){let r={},u=Object.keys(i).sort();for(let o of u)r[o]=i[o];return r}function qy(i,r){let u=new Set;return new Set(r),i.reduce((o,f)=>{let h=JSON.stringify(By(f));return u.has(h)||(u.add(h),o.push({key:h,link:f})),o},[])}function Om(){let i=v.useContext(gl);return Ro(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Hy(){let i=v.useContext(Fi);return Ro(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Uo=v.createContext(void 0);Uo.displayName="FrameworkContext";function Rm(){let i=v.useContext(Uo);return Ro(i,"You must render this element inside a <HydratedRouter> element"),i}function Yy(i,r){let u=v.useContext(Uo),[o,f]=v.useState(!1),[h,g]=v.useState(!1),{onFocus:N,onBlur:y,onMouseEnter:x,onMouseLeave:m,onTouchStart:S}=r,z=v.useRef(null);v.useEffect(()=>{if(i==="render"&&g(!0),i==="viewport"){let B=K=>{K.forEach(V=>{g(V.isIntersecting)})},$=new IntersectionObserver(B,{threshold:.5});return z.current&&$.observe(z.current),()=>{$.disconnect()}}},[i]),v.useEffect(()=>{if(o){let B=setTimeout(()=>{g(!0)},100);return()=>{clearTimeout(B)}}},[o]);let H=()=>{f(!0)},F=()=>{f(!1),g(!1)};return u?i!=="intent"?[h,z,{}]:[h,z,{onFocus:hs(N,H),onBlur:hs(y,F),onMouseEnter:hs(x,H),onMouseLeave:hs(m,F),onTouchStart:hs(S,H)}]:[!1,z,{}]}function hs(i,r){return u=>{i&&i(u),u.defaultPrevented||r(u)}}function Gy({page:i,...r}){let{router:u}=Om(),o=v.useMemo(()=>Sm(u.routes,i,u.basename),[u.routes,i,u.basename]);return o?v.createElement(Vy,{page:i,matches:o,...r}):null}function Xy(i){let{manifest:r,routeModules:u}=Rm(),[o,f]=v.useState([]);return v.useEffect(()=>{let h=!1;return Uy(i,r,u).then(g=>{h||f(g)}),()=>{h=!0}},[i,r,u]),o}function Vy({page:i,matches:r,...u}){let o=aa(),{manifest:f,routeModules:h}=Rm(),{basename:g}=Om(),{loaderData:N,matches:y}=Hy(),x=v.useMemo(()=>Kh(i,r,y,f,o,"data"),[i,r,y,f,o]),m=v.useMemo(()=>Kh(i,r,y,f,o,"assets"),[i,r,y,f,o]),S=v.useMemo(()=>{if(i===o.pathname+o.search+o.hash)return[];let F=new Set,B=!1;if(r.forEach(K=>{let V=f.routes[K.route.id];!V||!V.hasLoader||(!x.some(U=>U.route.id===K.route.id)&&K.route.id in N&&h[K.route.id]?.shouldRevalidate||V.hasClientLoader?B=!0:F.add(K.route.id))}),F.size===0)return[];let $=zy(i,g,"data");return B&&F.size>0&&$.searchParams.set("_routes",r.filter(K=>F.has(K.route.id)).map(K=>K.route.id).join(",")),[$.pathname+$.search]},[g,N,o,f,x,r,i,h]),z=v.useMemo(()=>Ly(m,f),[m,f]),H=Xy(m);return v.createElement(v.Fragment,null,S.map(F=>v.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...u})),z.map(F=>v.createElement("link",{key:F,rel:"modulepreload",href:F,...u})),H.map(({key:F,link:B})=>v.createElement("link",{key:F,nonce:u.nonce,...B})))}function Qy(...i){return r=>{i.forEach(u=>{typeof u=="function"?u(r):u!=null&&(u.current=r)})}}var Um=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Um&&(window.__reactRouterVersion="7.10.1")}catch{}function Zy({basename:i,children:r,unstable_useTransitions:u,window:o}){let f=v.useRef();f.current==null&&(f.current=Ev({window:o,v5Compat:!0}));let h=f.current,[g,N]=v.useState({action:h.action,location:h.location}),y=v.useCallback(x=>{u===!1?N(x):v.startTransition(()=>N(x))},[u]);return v.useLayoutEffect(()=>h.listen(y),[h,y]),v.createElement(jy,{basename:i,children:r,location:g.location,navigationType:g.action,navigator:h,unstable_useTransitions:u===!0})}var Lm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,km=v.forwardRef(function({onClick:r,discover:u="render",prefetch:o="none",relative:f,reloadDocument:h,replace:g,state:N,target:y,to:x,preventScrollReset:m,viewTransition:S,...z},H){let{basename:F,unstable_useTransitions:B}=v.useContext(Ft),$=typeof x=="string"&&Lm.test(x),K,V=!1;if(typeof x=="string"&&$&&(K=x,Um))try{let ne=new URL(window.location.href),re=x.startsWith("//")?new URL(ne.protocol+x):new URL(x),P=Ta(re.pathname,F);re.origin===ne.origin&&P!=null?x=P+re.search+re.hash:V=!0}catch{Rt(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=ny(x,{relative:f}),[M,se,ae]=Yy(o,z),Q=Jy(x,{replace:g,state:N,target:y,preventScrollReset:m,relative:f,viewTransition:S,unstable_useTransitions:B});function Y(ne){r&&r(ne),ne.defaultPrevented||Q(ne)}let O=v.createElement("a",{...z,...ae,href:K||U,onClick:V||h?r:Y,ref:Qy(H,se),target:y,"data-discover":!$&&u==="render"?"true":void 0});return M&&!$?v.createElement(v.Fragment,null,O,v.createElement(Gy,{page:U})):O});km.displayName="Link";var Qt=v.forwardRef(function({"aria-current":r="page",caseSensitive:u=!1,className:o="",end:f=!1,style:h,to:g,viewTransition:N,children:y,...x},m){let S=xs(g,{relative:x.relative}),z=aa(),H=v.useContext(Fi),{navigator:F,basename:B}=v.useContext(Ft),$=H!=null&&ex(S)&&N===!0,K=F.encodeLocation?F.encodeLocation(S).pathname:S.pathname,V=z.pathname,U=H&&H.navigation&&H.navigation.location?H.navigation.location.pathname:null;u||(V=V.toLowerCase(),U=U?U.toLowerCase():null,K=K.toLowerCase()),U&&B&&(U=Ta(U,B)||U);const M=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let se=V===K||!f&&V.startsWith(K)&&V.charAt(M)==="/",ae=U!=null&&(U===K||!f&&U.startsWith(K)&&U.charAt(K.length)==="/"),Q={isActive:se,isPending:ae,isTransitioning:$},Y=se?r:void 0,O;typeof o=="function"?O=o(Q):O=[o,se?"active":null,ae?"pending":null,$?"transitioning":null].filter(Boolean).join(" ");let ne=typeof h=="function"?h(Q):h;return v.createElement(km,{...x,"aria-current":Y,className:O,ref:m,style:ne,to:g,viewTransition:N},typeof y=="function"?y(Q):y)});Qt.displayName="NavLink";var Fy=v.forwardRef(({discover:i="render",fetcherKey:r,navigate:u,reloadDocument:o,replace:f,state:h,method:g=Hi,action:N,onSubmit:y,relative:x,preventScrollReset:m,viewTransition:S,...z},H)=>{let{unstable_useTransitions:F}=v.useContext(Ft),B=Wy(),$=Iy(N,{relative:x}),K=g.toLowerCase()==="get"?"get":"post",V=typeof N=="string"&&Lm.test(N),U=M=>{if(y&&y(M),M.defaultPrevented)return;M.preventDefault();let se=M.nativeEvent.submitter,ae=se?.getAttribute("formmethod")||g,Q=()=>B(se||M.currentTarget,{fetcherKey:r,method:ae,navigate:u,replace:f,state:h,relative:x,preventScrollReset:m,viewTransition:S});F&&u!==!1?v.startTransition(()=>Q()):Q()};return v.createElement("form",{ref:H,method:K,action:$,onSubmit:o?y:U,...z,"data-discover":!V&&i==="render"?"true":void 0})});Fy.displayName="Form";function $y(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bm(i){let r=v.useContext(gl);return Fe(r,$y(i)),r}function Jy(i,{target:r,replace:u,state:o,preventScrollReset:f,relative:h,viewTransition:g,unstable_useTransitions:N}={}){let y=Jt(),x=aa(),m=xs(i,{relative:h});return v.useCallback(S=>{if(Ty(S,r)){S.preventDefault();let z=u!==void 0?u:gs(x)===gs(m),H=()=>y(i,{replace:z,state:o,preventScrollReset:f,relative:h,viewTransition:g});N?v.startTransition(()=>H()):H()}},[x,y,m,u,o,r,i,f,h,g,N])}function qm(i){Rt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let r=v.useRef(Co(i)),u=v.useRef(!1),o=aa(),f=v.useMemo(()=>Ey(o.search,u.current?null:r.current),[o.search]),h=Jt(),g=v.useCallback((N,y)=>{const x=Co(typeof N=="function"?N(new URLSearchParams(f)):N);u.current=!0,h("?"+x,y)},[h,f]);return[f,g]}var Ky=0,Py=()=>`__${String(++Ky)}__`;function Wy(){let{router:i}=Bm("useSubmit"),{basename:r}=v.useContext(Ft),u=gy(),o=i.fetch,f=i.navigate;return v.useCallback(async(h,g={})=>{let{action:N,method:y,encType:x,formData:m,body:S}=My(h,r);if(g.navigate===!1){let z=g.fetcherKey||Py();await o(z,u,g.action||N,{preventScrollReset:g.preventScrollReset,formData:m,body:S,formMethod:g.method||y,formEncType:g.encType||x,flushSync:g.flushSync})}else await f(g.action||N,{preventScrollReset:g.preventScrollReset,formData:m,body:S,formMethod:g.method||y,formEncType:g.encType||x,replace:g.replace,state:g.state,fromRouteId:u,flushSync:g.flushSync,viewTransition:g.viewTransition})},[o,f,r,u])}function Iy(i,{relative:r}={}){let{basename:u}=v.useContext(Ft),o=v.useContext($t);Fe(o,"useFormAction must be used inside a RouteContext");let[f]=o.matches.slice(-1),h={...xs(i||".",{relative:r})},g=aa();if(i==null){h.search=g.search;let N=new URLSearchParams(h.search),y=N.getAll("index");if(y.some(m=>m==="")){N.delete("index"),y.filter(S=>S).forEach(S=>N.append("index",S));let m=N.toString();h.search=m?`?${m}`:""}}return(!i||i===".")&&f.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),u!=="/"&&(h.pathname=h.pathname==="/"?u:Ca([u,h.pathname])),gs(h)}function ex(i,{relative:r}={}){let u=v.useContext(Tm);Fe(u!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Bm("useViewTransitionState"),f=xs(i,{relative:r});if(!u.isTransitioning)return!1;let h=Ta(u.currentLocation.pathname,o)||u.currentLocation.pathname,g=Ta(u.nextLocation.pathname,o)||u.nextLocation.pathname;return Xi(f.pathname,g)!=null||Xi(f.pathname,h)!=null}const Sn="/api/v1";class tx{constructor(){this.token=localStorage.getItem("token")}setToken(r){this.token=r,r?localStorage.setItem("token",r):localStorage.removeItem("token")}async request(r,u={}){const o={"Content-Type":"application/json",...u.headers};this.token&&(o.Authorization=`Bearer ${this.token}`);const f=this.getSelectedTenant();this.getUserInfo()?.is_global_admin&&f&&(o["X-Tenant-Id"]=f.toString());const g=await fetch(`${Sn}${r}`,{...u,headers:o});if(g.status===401)throw this.setToken(null),localStorage.removeItem("userInfo"),localStorage.removeItem("selectedTenantId"),window.location.href="/login",new Error("Unauthorized");if(!g.ok){const N=await g.json().catch(()=>({detail:"Request failed"}));throw new Error(N.detail||"Request failed")}return g.json()}async requestFormData(r,u,o={}){const f={...o.headers};this.token&&(f.Authorization=`Bearer ${this.token}`);const h=this.getSelectedTenant();this.getUserInfo()?.is_global_admin&&h&&(f["X-Tenant-Id"]=h.toString());const N=await fetch(`${Sn}${r}`,{method:o.method||"POST",body:u,headers:f});if(N.status===401)throw this.setToken(null),localStorage.removeItem("userInfo"),localStorage.removeItem("selectedTenantId"),window.location.href="/login",new Error("Unauthorized");if(!N.ok){const y=await N.json().catch(()=>({detail:"Request failed"}));throw new Error(y.detail||"Request failed")}return N.json()}async login(r,u){const o=await this.request("/auth/login",{method:"POST",body:JSON.stringify({email:r,password:u})});return o.access_token&&(this.setToken(o.access_token),localStorage.setItem("userInfo",JSON.stringify({tenant_id:o.tenant_id,role:o.role,email:o.email,is_global_admin:o.is_global_admin}))),o}logout(){this.setToken(null),localStorage.removeItem("userInfo"),localStorage.removeItem("selectedTenantId")}async getMe(){return this.request("/auth/me")}setSelectedTenant(r){r?localStorage.setItem("selectedTenantId",r.toString()):localStorage.removeItem("selectedTenantId")}getSelectedTenant(){const r=localStorage.getItem("selectedTenantId");return r?parseInt(r,10):null}getUserInfo(){const r=localStorage.getItem("userInfo");return r?JSON.parse(r):null}async getTenants(){return this.request("/admin/tenants")}async createTenant(r){return this.request("/admin/tenants",{method:"POST",body:JSON.stringify(r)})}async updateTenant(r,u){return this.request(`/admin/tenants/${r}`,{method:"PUT",body:JSON.stringify(u)})}async getLeads(r={}){const u=new URLSearchParams(r).toString();return this.request(`/leads${u?`?${u}`:""}`)}async getLead(r){return this.request(`/leads/${r}`)}async getLeadConversation(r){return this.request(`/leads/${r}/conversation`)}async getLeadsStats(){return this.request("/leads/stats")}async updateLeadStatus(r,u){return this.request(`/leads/${r}/status`,{method:"PUT",body:JSON.stringify({status:u})})}async deleteLead(r){const u={"Content-Type":"application/json"};this.token&&(u.Authorization=`Bearer ${this.token}`);const o=this.getSelectedTenant();this.getUserInfo()?.is_global_admin&&o&&(u["X-Tenant-Id"]=o.toString());const h=await fetch(`${Sn}/leads/${r}`,{method:"DELETE",headers:u});if(h.status===401)throw this.setToken(null),localStorage.removeItem("userInfo"),localStorage.removeItem("selectedTenantId"),window.location.href="/login",new Error("Unauthorized");if(h.status===204)return!0;if(!h.ok){let g=`Delete failed (${h.status})`;try{const N=await h.json();g=N.detail||N.message||g}catch{try{const y=await h.text();y&&(g=y)}catch{}}throw new Error(g)}return!0}async triggerFollowUp(r){return this.request(`/leads/${r}/trigger-followup`,{method:"POST"})}async getPromptBundles(){return this.request("/prompts/bundles")}async getPromptBundle(r){return this.request(`/prompts/bundles/${r}`)}async createPromptBundle(r){return this.request("/prompts/bundles",{method:"POST",body:JSON.stringify(r)})}async updatePromptBundle(r,u){return this.request(`/prompts/bundles/${r}`,{method:"PUT",body:JSON.stringify(u)})}async publishPromptBundle(r){return this.request(`/prompts/bundles/${r}/publish`,{method:"PUT"})}async deactivatePromptBundle(r){return this.request(`/prompts/bundles/${r}/deactivate`,{method:"PUT"})}async deletePromptBundle(r){const u={"Content-Type":"application/json"};this.token&&(u.Authorization=`Bearer ${this.token}`);const o=this.getSelectedTenant();this.getUserInfo()?.is_global_admin&&o&&(u["X-Tenant-Id"]=o.toString());const h=await fetch(`${Sn}/prompts/bundles/${r}`,{method:"DELETE",headers:u});if(h.status===401)throw this.setToken(null),localStorage.removeItem("userInfo"),localStorage.removeItem("selectedTenantId"),window.location.href="/login",new Error("Unauthorized");if(!h.ok){const g=await h.json().catch(()=>({detail:"Delete failed"}));throw new Error(g.detail||"Delete failed")}return!0}async testPrompt(r,u,o=[]){return this.request("/prompts/test",{method:"POST",body:JSON.stringify({bundle_id:r,message:u,history:o})})}async getComposedPrompt(r=!1){return this.request(`/prompts/compose${r?"?use_draft=true":""}`)}async getContacts(r={}){const u=new URLSearchParams(r).toString();return this.request(`/contacts${u?`?${u}`:""}`)}async getContact(r,u=!1){const o=u?"?include_aliases=true":"";return this.request(`/contacts/${r}${o}`)}async updateContact(r,u){return this.request(`/contacts/${r}`,{method:"PUT",body:JSON.stringify(u)})}async deleteContact(r){const u={"Content-Type":"application/json"};this.token&&(u.Authorization=`Bearer ${this.token}`);const o=this.getSelectedTenant();this.getUserInfo()?.is_global_admin&&o&&(u["X-Tenant-Id"]=o.toString());const h=await fetch(`${Sn}/contacts/${r}`,{method:"DELETE",headers:u});if(h.status===401)throw this.setToken(null),localStorage.removeItem("userInfo"),localStorage.removeItem("selectedTenantId"),window.location.href="/login",new Error("Unauthorized");if(h.status===204)return!0;if(!h.ok){const g=await h.json().catch(()=>({detail:"Delete failed"}));throw new Error(g.detail||"Delete failed")}return!0}async getContactConversation(r){return this.request(`/contacts/${r}/conversation`)}async getMergePreview(r){return this.request("/contacts/merge-preview",{method:"POST",body:JSON.stringify(r)})}async mergeContacts(r,u,o={}){return this.request(`/contacts/${r}/merge`,{method:"POST",body:JSON.stringify({secondary_contact_ids:u,field_resolutions:o})})}async getMergeHistory(r){return this.request(`/contacts/${r}/merge-history`)}async getContactAliases(r,u=null){const o=u?`?alias_type=${u}`:"";return this.request(`/contacts/${r}/aliases${o}`)}async addContactAlias(r,u){return this.request(`/contacts/${r}/aliases`,{method:"POST",body:JSON.stringify(u)})}async setPrimaryAlias(r,u){return this.request(`/contacts/${r}/aliases/${u}/primary`,{method:"PUT"})}async removeContactAlias(r,u){const o={"Content-Type":"application/json"};this.token&&(o.Authorization=`Bearer ${this.token}`);const f=this.getSelectedTenant();this.getUserInfo()?.is_global_admin&&f&&(o["X-Tenant-Id"]=f.toString());const g=await fetch(`${Sn}/contacts/${r}/aliases/${u}`,{method:"DELETE",headers:o});if(g.status===401)throw this.setToken(null),localStorage.removeItem("userInfo"),localStorage.removeItem("selectedTenantId"),window.location.href="/login",new Error("Unauthorized");if(g.status===204)return!0;if(!g.ok){const N=await g.json().catch(()=>({detail:"Delete failed"}));throw new Error(N.detail||"Delete failed")}return!0}async getBusinessProfile(){return this.request("/tenant/profile")}async updateBusinessProfile(r){return this.request("/tenant/profile",{method:"PUT",body:JSON.stringify(r)})}async getEmbedCode(){return this.request("/tenants/me/embed-code")}async startPromptInterview(){return this.request("/prompts/interview/start")}async submitInterviewAnswer(r){return this.request("/prompts/interview/answer",{method:"POST",body:JSON.stringify(r)})}async generatePromptFromInterview(r){return this.request("/prompts/interview/generate",{method:"POST",body:JSON.stringify(r)})}async getCalls(r={}){const u=new URLSearchParams(r).toString();return this.request(`/calls${u?`?${u}`:""}`)}async getCall(r){return this.request(`/calls/${r}`)}async getCallsForContact(r,u={}){const o=new URLSearchParams(u).toString();return this.request(`/calls/by-contact/${r}${o?`?${o}`:""}`)}async getCallsForPhone(r,u={}){const o=new URLSearchParams(u).toString();return this.request(`/calls/by-phone/${encodeURIComponent(r)}${o?`?${o}`:""}`)}async getEmailSettings(){return this.request("/email/settings")}async updateEmailSettings(r){return this.request("/email/settings",{method:"PUT",body:JSON.stringify(r)})}async startEmailOAuth(){return this.request("/email/oauth/start",{method:"POST"})}async disconnectEmail(){const r={"Content-Type":"application/json"};this.token&&(r.Authorization=`Bearer ${this.token}`);const u=this.getSelectedTenant();this.getUserInfo()?.is_global_admin&&u&&(r["X-Tenant-Id"]=u.toString());const f=await fetch(`${Sn}/email/disconnect`,{method:"DELETE",headers:r});if(!f.ok){const h=await f.json().catch(()=>({detail:"Disconnect failed"}));throw new Error(h.detail||"Disconnect failed")}return f.json()}async refreshEmailWatch(){return this.request("/email/refresh-watch",{method:"POST"})}async getEmailConversations(r={}){const u=new URLSearchParams(r).toString();return this.request(`/email/conversations${u?`?${u}`:""}`)}async getEmailConversationsForContact(r,u={}){const o=new URLSearchParams({...u,contact_id:r}).toString();return this.request(`/email/conversations${o?`?${o}`:""}`)}async getWidgetSettings(){return this.request("/widget/settings")}async updateWidgetSettings(r){return this.request("/widget/settings",{method:"PUT",body:JSON.stringify(r)})}async uploadWidgetIcon(r){const u=new FormData;return u.append("file",r),this.requestFormData("/widget/icon/upload",u)}async getTelephonyConfig(){return this.request("/admin/telephony/config")}async updateTelephonyConfig(r){return this.request("/admin/telephony/config",{method:"POST",body:JSON.stringify(r)})}async validateTelephonyCredentials(r){return this.request("/admin/telephony/validate-credentials",{method:"POST",body:JSON.stringify(r)})}async getConfigHistory(r=10){return this.request(`/config/history?limit=${r}`)}async getConfigSnapshot(r){return this.request(`/config/history/${r}`)}async getConfigSnapshotByVersionId(r){return this.request(`/config/history/by-version/${r}`)}async getConfigDiff(r,u=null){const o=u?`?compare_to=${u}`:"";return this.request(`/config/history/${r}/diff${o}`)}async rollbackToSnapshot(r){return this.request(`/config/history/${r}/rollback`,{method:"POST"})}}const ce=new tx,Hm=v.createContext(null);function ax({children:i}){const[r,u]=v.useState(null),[o,f]=v.useState(localStorage.getItem("token")),[h,g]=v.useState(!0),[N,y]=v.useState(!1),[x,m]=v.useState(null),[S,z]=v.useState([]),[H,F]=v.useState(null),B=async()=>{try{y(!0);const ae=await ce.getBusinessProfile();m(ae.profile_complete)}catch(ae){console.error("Failed to load profile:",ae),m(!1)}finally{y(!1)}};v.useEffect(()=>{(async()=>{const Q=localStorage.getItem("token");if(Q)try{ce.setToken(Q);const Y=await ce.getMe(),O={authenticated:!0,id:Y.id,email:Y.email,role:Y.role,tenant_id:Y.tenant_id,is_global_admin:Y.is_global_admin};if(localStorage.setItem("userInfo",JSON.stringify({email:Y.email,role:Y.role,tenant_id:Y.tenant_id,is_global_admin:Y.is_global_admin})),u(O),Y.is_global_admin){const ne=ce.getSelectedTenant();F(ne);try{const re=await ce.getTenants();z(re)}catch(re){console.error("Failed to fetch tenants:",re)}m(!0)}else await B()}catch(Y){console.error("Failed to verify token:",Y),u(null),z([]),F(null),m(null)}g(!1)})()},[]);const $=async(ae,Q)=>{const Y=await ce.login(ae,Q);f(localStorage.getItem("token"));const O={authenticated:!0,email:Y.email,role:Y.role,tenant_id:Y.tenant_id,is_global_admin:Y.is_global_admin};if(u(O),Y.is_global_admin){m(!0);try{const ne=await ce.getTenants();z(ne)}catch(ne){console.error("Failed to fetch tenants:",ne)}}else await B()},K=()=>{ce.logout(),u(null),f(null),z([]),F(null),m(null)},V=ae=>{F(ae),ce.setSelectedTenant(ae)},U=async()=>{await B()},M=async()=>{if(r?.is_global_admin)try{const ae=await ce.getTenants();z(ae)}catch(ae){console.error("Failed to refresh tenants:",ae)}},se=r?.is_global_admin?H:r?.tenant_id;return n.jsx(Hm.Provider,{value:{user:r,token:o,login:$,logout:K,loading:h,profileLoading:N,profileComplete:x,refreshProfile:U,refreshTenants:M,tenants:S,selectedTenantId:H,selectTenant:V,effectiveTenantId:se},children:i})}function Kt(){const i=v.useContext(Hm);if(!i)throw new Error("useAuth must be used within an AuthProvider");return i}function nt({message:i="Loading...",fullPage:r=!1}){return n.jsxs("div",{className:`loading-state ${r?"loading-state--full":""}`,children:[n.jsx("div",{className:"loading-spinner"}),n.jsx("p",{children:i})]})}function Qe({icon:i="",title:r="Nothing here yet",description:u,action:o}){return n.jsxs("div",{className:"empty-state",children:[n.jsx("div",{className:"empty-state__icon",children:i}),n.jsx("h3",{className:"empty-state__title",children:r}),u&&n.jsx("p",{className:"empty-state__description",children:u}),o&&n.jsx("button",{className:"btn-primary",onClick:o.onClick,children:o.label})]})}function Pt({message:i="Something went wrong",onRetry:r,title:u="Error"}){return n.jsxs("div",{className:"error-state",children:[n.jsx("div",{className:"error-state__icon",children:""}),n.jsx("h3",{className:"error-state__title",children:u}),n.jsx("p",{className:"error-state__message",children:i}),r&&n.jsx("button",{className:"btn-secondary",onClick:r,children:"Try Again"})]})}function nx({message:i,type:r="success",onClose:u,duration:o=3e3}){return v.useEffect(()=>{if(o>0){const f=setTimeout(()=>{u?.()},o);return()=>clearTimeout(f)}},[o,u]),n.jsxs("div",{className:`toast toast--${r}`,role:"alert",children:[n.jsxs("div",{className:"toast__content",children:[n.jsxs("span",{className:"toast__icon",children:[r==="success"&&"",r==="error"&&"",r==="info"&&""]}),n.jsx("span",{className:"toast__message",children:i})]}),u&&n.jsx("button",{className:"toast__close",onClick:u,"aria-label":"Close",children:""})]})}function lx({toasts:i,removeToast:r}){return n.jsx("div",{className:"toast-container",children:i.map(u=>n.jsx(nx,{message:u.message,type:u.type,onClose:()=>r(u.id),duration:u.duration},u.id))})}function Ph({children:i,requireProfile:r=!1}){const{user:u,loading:o,profileComplete:f,profileLoading:h}=Kt();return o||h?n.jsx(nt,{message:"Authenticating...",fullPage:!0}):u?r&&!u.is_global_admin&&f===!1?n.jsx(Tn,{to:"/onboarding",replace:!0}):i:n.jsx(Tn,{to:"/login",replace:!0})}function sx(){const{user:i,logout:r,tenants:u,selectedTenantId:o,selectTenant:f}=Kt(),h=Jt(),g=aa(),[N,y]=v.useState(g.pathname.startsWith("/analytics")),[x,m]=v.useState(g.pathname.startsWith("/calls")||g.pathname.startsWith("/sms")),[S,z]=v.useState(g.pathname.startsWith("/settings")),H=()=>{r(),h("/login")},F=$=>{const K=$.target.value;f(K?parseInt(K,10):null)},B=u.find($=>$.id===o);return n.jsxs("div",{className:"layout",children:[i?.is_global_admin&&o&&n.jsxs("div",{className:"impersonation-banner",children:["Viewing as: ",n.jsx("strong",{children:B?.name||"Unknown Tenant"}),n.jsx("button",{onClick:()=>f(null),className:"exit-btn",children:"Exit"})]}),n.jsxs("nav",{className:"sidebar",children:[n.jsx("div",{className:"logo",children:n.jsx("h2",{children:" Chatter Cheetah"})}),i?.is_global_admin&&n.jsxs("div",{className:"tenant-selector",children:[n.jsx("label",{children:"Switch Tenant"}),n.jsxs("select",{value:o||"",onChange:F,children:[n.jsx("option",{value:"",children:"-- Master Admin View --"}),u.map($=>n.jsx("option",{value:$.id,children:$.name},$.id))]})]}),n.jsxs("ul",{className:"nav-links",children:[n.jsx("li",{children:n.jsx(Qt,{to:"/",end:!0,children:"Dashboard"})}),n.jsx("li",{children:n.jsx(Qt,{to:"/contacts",children:"Contacts"})}),n.jsxs("li",{className:"nav-section",children:[n.jsxs("button",{className:`nav-section-toggle ${x?"open":""}`,onClick:()=>m(!x),children:["Communications",n.jsx("span",{className:"toggle-icon",children:x?"":"+"})]}),x&&n.jsxs("ul",{className:"nav-submenu",children:[n.jsx("li",{children:n.jsx(Qt,{to:"/calls",children:"Calls"})}),n.jsx("li",{children:n.jsx(Qt,{to:"/sms",children:"SMS"})})]})]}),n.jsxs("li",{className:"nav-section",children:[n.jsxs("button",{className:`nav-section-toggle ${N?"open":""}`,onClick:()=>y(!N),children:["Analytics",n.jsx("span",{className:"toggle-icon",children:N?"":"+"})]}),N&&n.jsxs("ul",{className:"nav-submenu",children:[n.jsx("li",{children:n.jsx(Qt,{to:"/analytics/unknowns",children:"Unknowns"})}),n.jsx("li",{children:n.jsx(Qt,{to:"/analytics/plots",children:"Plots"})})]})]}),n.jsxs("li",{className:"nav-section",children:[n.jsxs("button",{className:`nav-section-toggle ${S?"open":""}`,onClick:()=>z(!S),children:["Settings",n.jsx("span",{className:"toggle-icon",children:S?"":"+"})]}),S&&n.jsxs("ul",{className:"nav-submenu",children:[n.jsx("li",{children:n.jsx(Qt,{to:"/settings/prompts",children:"Prompts Setup"})}),n.jsx("li",{children:n.jsx(Qt,{to:"/settings/widget",children:"Website Widget"})}),n.jsx("li",{children:n.jsx(Qt,{to:"/settings/email",children:"Email Setup"})}),n.jsx("li",{children:n.jsx(Qt,{to:"/settings/profile",children:"Business Profile"})})]})]}),i?.is_global_admin&&!o&&n.jsx("li",{children:n.jsx(Qt,{to:"/admin/tenants",children:"Manage Tenants"})})]}),n.jsxs("div",{className:"user-info",children:[n.jsx("span",{className:"user-email",children:i?.email}),i?.is_global_admin&&n.jsx("span",{className:"admin-badge",children:"Admin"})]}),n.jsx("button",{className:"logout-btn",onClick:H,children:"Logout"})]}),n.jsx("main",{className:"content",children:n.jsx(by,{})})]})}function ix(){const[i,r]=v.useState(""),[u,o]=v.useState(""),[f,h]=v.useState(""),[g,N]=v.useState(!1),{login:y}=Kt(),x=Jt(),m=async S=>{S.preventDefault(),h(""),N(!0);try{await y(i,u),x("/")}catch(z){h(z.message||"Login failed")}finally{N(!1)}};return n.jsx("div",{className:"login-container",children:n.jsxs("div",{className:"login-card",children:[n.jsx("h1",{children:"Chatter Cheetah"}),n.jsx("p",{className:"subtitle",children:"Sign in to your dashboard"}),n.jsxs("form",{onSubmit:m,children:[f&&n.jsx("div",{className:"error",children:f}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"email",children:"Email"}),n.jsx("input",{id:"email",type:"email",value:i,onChange:S=>r(S.target.value),placeholder:"you@company.com",required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"password",children:"Password"}),n.jsx("input",{id:"password",type:"password",value:u,onChange:S=>o(S.target.value),placeholder:"Your password",required:!0})]}),n.jsx("button",{type:"submit",disabled:g,children:g?"Signing in...":"Sign In"})]})]})})}const Ym=6048e5,cx=864e5,Wh=Symbol.for("constructDateFrom");function Zt(i,r){return typeof i=="function"?i(r):i&&typeof i=="object"&&Wh in i?i[Wh](r):i instanceof Date?new i.constructor(r):new Date(r)}function Wt(i,r){return Zt(r||i,i)}function rx(i,r,u){const o=Wt(i,u?.in);return isNaN(r)?Zt(i,NaN):(o.setDate(o.getDate()+r),o)}let ox={};function bs(){return ox}function vs(i,r){const u=bs(),o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??u.weekStartsOn??u.locale?.options?.weekStartsOn??0,f=Wt(i,r?.in),h=f.getDay(),g=(h<o?7:0)+h-o;return f.setDate(f.getDate()-g),f.setHours(0,0,0,0),f}function Vi(i,r){return vs(i,{...r,weekStartsOn:1})}function Gm(i,r){const u=Wt(i,r?.in),o=u.getFullYear(),f=Zt(u,0);f.setFullYear(o+1,0,4),f.setHours(0,0,0,0);const h=Vi(f),g=Zt(u,0);g.setFullYear(o,0,4),g.setHours(0,0,0,0);const N=Vi(g);return u.getTime()>=h.getTime()?o+1:u.getTime()>=N.getTime()?o:o-1}function Ih(i){const r=Wt(i),u=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return u.setUTCFullYear(r.getFullYear()),+i-+u}function Xm(i,...r){const u=Zt.bind(null,r.find(o=>typeof o=="object"));return r.map(u)}function Qi(i,r){const u=Wt(i,r?.in);return u.setHours(0,0,0,0),u}function ux(i,r,u){const[o,f]=Xm(u?.in,i,r),h=Qi(o),g=Qi(f),N=+h-Ih(h),y=+g-Ih(g);return Math.round((N-y)/cx)}function dx(i,r){const u=Gm(i,r),o=Zt(i,0);return o.setFullYear(u,0,4),o.setHours(0,0,0,0),Vi(o)}function Vm(i){return Zt(i,Date.now())}function Qm(i,r,u){const[o,f]=Xm(u?.in,i,r);return+Qi(o)==+Qi(f)}function fx(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function hx(i){return!(!fx(i)&&typeof i!="number"||isNaN(+Wt(i)))}function mx(i,r){const u=Wt(i,r?.in);return u.setFullYear(u.getFullYear(),0,1),u.setHours(0,0,0,0),u}const px={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},gx=(i,r,u)=>{let o;const f=px[i];return typeof f=="string"?o=f:r===1?o=f.one:o=f.other.replace("{{count}}",r.toString()),u?.addSuffix?u.comparison&&u.comparison>0?"in "+o:o+" ago":o};function go(i){return(r={})=>{const u=r.width?String(r.width):i.defaultWidth;return i.formats[u]||i.formats[i.defaultWidth]}}const vx={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},yx={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xx={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},bx={date:go({formats:vx,defaultWidth:"full"}),time:go({formats:yx,defaultWidth:"full"}),dateTime:go({formats:xx,defaultWidth:"full"})},jx={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Nx=(i,r,u,o)=>jx[i];function ms(i){return(r,u)=>{const o=u?.context?String(u.context):"standalone";let f;if(o==="formatting"&&i.formattingValues){const g=i.defaultFormattingWidth||i.defaultWidth,N=u?.width?String(u.width):g;f=i.formattingValues[N]||i.formattingValues[g]}else{const g=i.defaultWidth,N=u?.width?String(u.width):i.defaultWidth;f=i.values[N]||i.values[g]}const h=i.argumentCallback?i.argumentCallback(r):r;return f[h]}}const Sx={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wx={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_x={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Cx={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Tx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ex={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ax=(i,r)=>{const u=Number(i),o=u%100;if(o>20||o<10)switch(o%10){case 1:return u+"st";case 2:return u+"nd";case 3:return u+"rd"}return u+"th"},Dx={ordinalNumber:Ax,era:ms({values:Sx,defaultWidth:"wide"}),quarter:ms({values:wx,defaultWidth:"wide",argumentCallback:i=>i-1}),month:ms({values:_x,defaultWidth:"wide"}),day:ms({values:Cx,defaultWidth:"wide"}),dayPeriod:ms({values:Tx,defaultWidth:"wide",formattingValues:Ex,defaultFormattingWidth:"wide"})};function ps(i){return(r,u={})=>{const o=u.width,f=o&&i.matchPatterns[o]||i.matchPatterns[i.defaultMatchWidth],h=r.match(f);if(!h)return null;const g=h[0],N=o&&i.parsePatterns[o]||i.parsePatterns[i.defaultParseWidth],y=Array.isArray(N)?zx(N,S=>S.test(g)):Mx(N,S=>S.test(g));let x;x=i.valueCallback?i.valueCallback(y):y,x=u.valueCallback?u.valueCallback(x):x;const m=r.slice(g.length);return{value:x,rest:m}}}function Mx(i,r){for(const u in i)if(Object.prototype.hasOwnProperty.call(i,u)&&r(i[u]))return u}function zx(i,r){for(let u=0;u<i.length;u++)if(r(i[u]))return u}function Ox(i){return(r,u={})=>{const o=r.match(i.matchPattern);if(!o)return null;const f=o[0],h=r.match(i.parsePattern);if(!h)return null;let g=i.valueCallback?i.valueCallback(h[0]):h[0];g=u.valueCallback?u.valueCallback(g):g;const N=r.slice(f.length);return{value:g,rest:N}}}const Rx=/^(\d+)(th|st|nd|rd)?/i,Ux=/\d+/i,Lx={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kx={any:[/^b/i,/^(a|c)/i]},Bx={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qx={any:[/1/i,/2/i,/3/i,/4/i]},Hx={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Yx={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Gx={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Xx={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Vx={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Qx={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Zx={ordinalNumber:Ox({matchPattern:Rx,parsePattern:Ux,valueCallback:i=>parseInt(i,10)}),era:ps({matchPatterns:Lx,defaultMatchWidth:"wide",parsePatterns:kx,defaultParseWidth:"any"}),quarter:ps({matchPatterns:Bx,defaultMatchWidth:"wide",parsePatterns:qx,defaultParseWidth:"any",valueCallback:i=>i+1}),month:ps({matchPatterns:Hx,defaultMatchWidth:"wide",parsePatterns:Yx,defaultParseWidth:"any"}),day:ps({matchPatterns:Gx,defaultMatchWidth:"wide",parsePatterns:Xx,defaultParseWidth:"any"}),dayPeriod:ps({matchPatterns:Vx,defaultMatchWidth:"any",parsePatterns:Qx,defaultParseWidth:"any"})},Fx={code:"en-US",formatDistance:gx,formatLong:bx,formatRelative:Nx,localize:Dx,match:Zx,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $x(i,r){const u=Wt(i,r?.in);return ux(u,mx(u))+1}function Jx(i,r){const u=Wt(i,r?.in),o=+Vi(u)-+dx(u);return Math.round(o/Ym)+1}function Zm(i,r){const u=Wt(i,r?.in),o=u.getFullYear(),f=bs(),h=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??f.firstWeekContainsDate??f.locale?.options?.firstWeekContainsDate??1,g=Zt(r?.in||i,0);g.setFullYear(o+1,0,h),g.setHours(0,0,0,0);const N=vs(g,r),y=Zt(r?.in||i,0);y.setFullYear(o,0,h),y.setHours(0,0,0,0);const x=vs(y,r);return+u>=+N?o+1:+u>=+x?o:o-1}function Kx(i,r){const u=bs(),o=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,f=Zm(i,r),h=Zt(r?.in||i,0);return h.setFullYear(f,0,o),h.setHours(0,0,0,0),vs(h,r)}function Px(i,r){const u=Wt(i,r?.in),o=+vs(u,r)-+Kx(u,r);return Math.round(o/Ym)+1}function Le(i,r){const u=i<0?"-":"",o=Math.abs(i).toString().padStart(r,"0");return u+o}const nn={y(i,r){const u=i.getFullYear(),o=u>0?u:1-u;return Le(r==="yy"?o%100:o,r.length)},M(i,r){const u=i.getMonth();return r==="M"?String(u+1):Le(u+1,2)},d(i,r){return Le(i.getDate(),r.length)},a(i,r){const u=i.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return u.toUpperCase();case"aaa":return u;case"aaaaa":return u[0];case"aaaa":default:return u==="am"?"a.m.":"p.m."}},h(i,r){return Le(i.getHours()%12||12,r.length)},H(i,r){return Le(i.getHours(),r.length)},m(i,r){return Le(i.getMinutes(),r.length)},s(i,r){return Le(i.getSeconds(),r.length)},S(i,r){const u=r.length,o=i.getMilliseconds(),f=Math.trunc(o*Math.pow(10,u-3));return Le(f,r.length)}},hl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},em={G:function(i,r,u){const o=i.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return u.era(o,{width:"abbreviated"});case"GGGGG":return u.era(o,{width:"narrow"});case"GGGG":default:return u.era(o,{width:"wide"})}},y:function(i,r,u){if(r==="yo"){const o=i.getFullYear(),f=o>0?o:1-o;return u.ordinalNumber(f,{unit:"year"})}return nn.y(i,r)},Y:function(i,r,u,o){const f=Zm(i,o),h=f>0?f:1-f;if(r==="YY"){const g=h%100;return Le(g,2)}return r==="Yo"?u.ordinalNumber(h,{unit:"year"}):Le(h,r.length)},R:function(i,r){const u=Gm(i);return Le(u,r.length)},u:function(i,r){const u=i.getFullYear();return Le(u,r.length)},Q:function(i,r,u){const o=Math.ceil((i.getMonth()+1)/3);switch(r){case"Q":return String(o);case"QQ":return Le(o,2);case"Qo":return u.ordinalNumber(o,{unit:"quarter"});case"QQQ":return u.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return u.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return u.quarter(o,{width:"wide",context:"formatting"})}},q:function(i,r,u){const o=Math.ceil((i.getMonth()+1)/3);switch(r){case"q":return String(o);case"qq":return Le(o,2);case"qo":return u.ordinalNumber(o,{unit:"quarter"});case"qqq":return u.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return u.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return u.quarter(o,{width:"wide",context:"standalone"})}},M:function(i,r,u){const o=i.getMonth();switch(r){case"M":case"MM":return nn.M(i,r);case"Mo":return u.ordinalNumber(o+1,{unit:"month"});case"MMM":return u.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return u.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return u.month(o,{width:"wide",context:"formatting"})}},L:function(i,r,u){const o=i.getMonth();switch(r){case"L":return String(o+1);case"LL":return Le(o+1,2);case"Lo":return u.ordinalNumber(o+1,{unit:"month"});case"LLL":return u.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return u.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return u.month(o,{width:"wide",context:"standalone"})}},w:function(i,r,u,o){const f=Px(i,o);return r==="wo"?u.ordinalNumber(f,{unit:"week"}):Le(f,r.length)},I:function(i,r,u){const o=Jx(i);return r==="Io"?u.ordinalNumber(o,{unit:"week"}):Le(o,r.length)},d:function(i,r,u){return r==="do"?u.ordinalNumber(i.getDate(),{unit:"date"}):nn.d(i,r)},D:function(i,r,u){const o=$x(i);return r==="Do"?u.ordinalNumber(o,{unit:"dayOfYear"}):Le(o,r.length)},E:function(i,r,u){const o=i.getDay();switch(r){case"E":case"EE":case"EEE":return u.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return u.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return u.day(o,{width:"short",context:"formatting"});case"EEEE":default:return u.day(o,{width:"wide",context:"formatting"})}},e:function(i,r,u,o){const f=i.getDay(),h=(f-o.weekStartsOn+8)%7||7;switch(r){case"e":return String(h);case"ee":return Le(h,2);case"eo":return u.ordinalNumber(h,{unit:"day"});case"eee":return u.day(f,{width:"abbreviated",context:"formatting"});case"eeeee":return u.day(f,{width:"narrow",context:"formatting"});case"eeeeee":return u.day(f,{width:"short",context:"formatting"});case"eeee":default:return u.day(f,{width:"wide",context:"formatting"})}},c:function(i,r,u,o){const f=i.getDay(),h=(f-o.weekStartsOn+8)%7||7;switch(r){case"c":return String(h);case"cc":return Le(h,r.length);case"co":return u.ordinalNumber(h,{unit:"day"});case"ccc":return u.day(f,{width:"abbreviated",context:"standalone"});case"ccccc":return u.day(f,{width:"narrow",context:"standalone"});case"cccccc":return u.day(f,{width:"short",context:"standalone"});case"cccc":default:return u.day(f,{width:"wide",context:"standalone"})}},i:function(i,r,u){const o=i.getDay(),f=o===0?7:o;switch(r){case"i":return String(f);case"ii":return Le(f,r.length);case"io":return u.ordinalNumber(f,{unit:"day"});case"iii":return u.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return u.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return u.day(o,{width:"short",context:"formatting"});case"iiii":default:return u.day(o,{width:"wide",context:"formatting"})}},a:function(i,r,u){const f=i.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return u.dayPeriod(f,{width:"abbreviated",context:"formatting"});case"aaa":return u.dayPeriod(f,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return u.dayPeriod(f,{width:"narrow",context:"formatting"});case"aaaa":default:return u.dayPeriod(f,{width:"wide",context:"formatting"})}},b:function(i,r,u){const o=i.getHours();let f;switch(o===12?f=hl.noon:o===0?f=hl.midnight:f=o/12>=1?"pm":"am",r){case"b":case"bb":return u.dayPeriod(f,{width:"abbreviated",context:"formatting"});case"bbb":return u.dayPeriod(f,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return u.dayPeriod(f,{width:"narrow",context:"formatting"});case"bbbb":default:return u.dayPeriod(f,{width:"wide",context:"formatting"})}},B:function(i,r,u){const o=i.getHours();let f;switch(o>=17?f=hl.evening:o>=12?f=hl.afternoon:o>=4?f=hl.morning:f=hl.night,r){case"B":case"BB":case"BBB":return u.dayPeriod(f,{width:"abbreviated",context:"formatting"});case"BBBBB":return u.dayPeriod(f,{width:"narrow",context:"formatting"});case"BBBB":default:return u.dayPeriod(f,{width:"wide",context:"formatting"})}},h:function(i,r,u){if(r==="ho"){let o=i.getHours()%12;return o===0&&(o=12),u.ordinalNumber(o,{unit:"hour"})}return nn.h(i,r)},H:function(i,r,u){return r==="Ho"?u.ordinalNumber(i.getHours(),{unit:"hour"}):nn.H(i,r)},K:function(i,r,u){const o=i.getHours()%12;return r==="Ko"?u.ordinalNumber(o,{unit:"hour"}):Le(o,r.length)},k:function(i,r,u){let o=i.getHours();return o===0&&(o=24),r==="ko"?u.ordinalNumber(o,{unit:"hour"}):Le(o,r.length)},m:function(i,r,u){return r==="mo"?u.ordinalNumber(i.getMinutes(),{unit:"minute"}):nn.m(i,r)},s:function(i,r,u){return r==="so"?u.ordinalNumber(i.getSeconds(),{unit:"second"}):nn.s(i,r)},S:function(i,r){return nn.S(i,r)},X:function(i,r,u){const o=i.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return am(o);case"XXXX":case"XX":return Cn(o);case"XXXXX":case"XXX":default:return Cn(o,":")}},x:function(i,r,u){const o=i.getTimezoneOffset();switch(r){case"x":return am(o);case"xxxx":case"xx":return Cn(o);case"xxxxx":case"xxx":default:return Cn(o,":")}},O:function(i,r,u){const o=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+tm(o,":");case"OOOO":default:return"GMT"+Cn(o,":")}},z:function(i,r,u){const o=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+tm(o,":");case"zzzz":default:return"GMT"+Cn(o,":")}},t:function(i,r,u){const o=Math.trunc(+i/1e3);return Le(o,r.length)},T:function(i,r,u){return Le(+i,r.length)}};function tm(i,r=""){const u=i>0?"-":"+",o=Math.abs(i),f=Math.trunc(o/60),h=o%60;return h===0?u+String(f):u+String(f)+r+Le(h,2)}function am(i,r){return i%60===0?(i>0?"-":"+")+Le(Math.abs(i)/60,2):Cn(i,r)}function Cn(i,r=""){const u=i>0?"-":"+",o=Math.abs(i),f=Le(Math.trunc(o/60),2),h=Le(o%60,2);return u+f+r+h}const nm=(i,r)=>{switch(i){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Fm=(i,r)=>{switch(i){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Wx=(i,r)=>{const u=i.match(/(P+)(p+)?/)||[],o=u[1],f=u[2];if(!f)return nm(i,r);let h;switch(o){case"P":h=r.dateTime({width:"short"});break;case"PP":h=r.dateTime({width:"medium"});break;case"PPP":h=r.dateTime({width:"long"});break;case"PPPP":default:h=r.dateTime({width:"full"});break}return h.replace("{{date}}",nm(o,r)).replace("{{time}}",Fm(f,r))},Ix={p:Fm,P:Wx},eb=/^D+$/,tb=/^Y+$/,ab=["D","DD","YY","YYYY"];function nb(i){return eb.test(i)}function lb(i){return tb.test(i)}function sb(i,r,u){const o=ib(i,r,u);if(console.warn(o),ab.includes(i))throw new RangeError(o)}function ib(i,r,u){const o=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${r}\`) for formatting ${o} to the input \`${u}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const cb=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rb=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ob=/^'([^]*?)'?$/,ub=/''/g,db=/[a-zA-Z]/;function Gi(i,r,u){const o=bs(),f=u?.locale??o.locale??Fx,h=u?.firstWeekContainsDate??u?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,g=u?.weekStartsOn??u?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0,N=Wt(i,u?.in);if(!hx(N))throw new RangeError("Invalid time value");let y=r.match(rb).map(m=>{const S=m[0];if(S==="p"||S==="P"){const z=Ix[S];return z(m,f.formatLong)}return m}).join("").match(cb).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const S=m[0];if(S==="'")return{isToken:!1,value:fb(m)};if(em[S])return{isToken:!0,value:m};if(S.match(db))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:m}});f.localize.preprocessor&&(y=f.localize.preprocessor(N,y));const x={firstWeekContainsDate:h,weekStartsOn:g,locale:f};return y.map(m=>{if(!m.isToken)return m.value;const S=m.value;(!u?.useAdditionalWeekYearTokens&&lb(S)||!u?.useAdditionalDayOfYearTokens&&nb(S))&&sb(S,r,String(i));const z=em[S[0]];return z(N,S,f.localize,x)}).join("")}function fb(i){const r=i.match(ob);return r?r[1].replace(ub,"'"):i}function hb(){return Object.assign({},bs())}function mb(i,r){return Qm(Zt(i,i),Vm(i))}function pb(i,r,u){return rx(i,-1,u)}function gb(i,r){return Qm(Zt(i,i),pb(Vm(i)))}function lm(i,r,u){const o=hb(),f=xb(i,u.timeZone,u.locale??o.locale);return"formatToParts"in f?vb(f,r):yb(f,r)}function vb(i,r){const u=i.formatToParts(r);for(let o=u.length-1;o>=0;--o)if(u[o].type==="timeZoneName")return u[o].value}function yb(i,r){const u=i.format(r).replace(/\u200E/g,""),o=/ [\w-+ ]+$/.exec(u);return o?o[0].substr(1):""}function xb(i,r,u){return new Intl.DateTimeFormat(u?[u.code,"en-US"]:void 0,{timeZone:r,timeZoneName:i})}function bb(i,r){const u=_b(r);return"formatToParts"in u?Nb(u,i):Sb(u,i)}const jb={year:0,month:1,day:2,hour:3,minute:4,second:5};function Nb(i,r){try{const u=i.formatToParts(r),o=[];for(let f=0;f<u.length;f++){const h=jb[u[f].type];h!==void 0&&(o[h]=parseInt(u[f].value,10))}return o}catch(u){if(u instanceof RangeError)return[NaN];throw u}}function Sb(i,r){const u=i.format(r),o=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(u);return[parseInt(o[3],10),parseInt(o[1],10),parseInt(o[2],10),parseInt(o[4],10),parseInt(o[5],10),parseInt(o[6],10)]}const vo={},sm=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),wb=sm==="06/25/2014, 00:00:00"||sm==="06/25/2014 00:00:00";function _b(i){return vo[i]||(vo[i]=wb?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:i,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:i,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),vo[i]}function $m(i,r,u,o,f,h,g){const N=new Date(0);return N.setUTCFullYear(i,r,u),N.setUTCHours(o,f,h,g),N}const im=36e5,Cb=6e4,yo={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Lo(i,r,u){if(!i)return 0;let o=yo.timezoneZ.exec(i);if(o)return 0;let f,h;if(o=yo.timezoneHH.exec(i),o)return f=parseInt(o[1],10),cm(f)?-(f*im):NaN;if(o=yo.timezoneHHMM.exec(i),o){f=parseInt(o[2],10);const g=parseInt(o[3],10);return cm(f,g)?(h=Math.abs(f)*im+g*Cb,o[1]==="+"?-h:h):NaN}if(Ab(i)){r=new Date(r||Date.now());const g=u?r:Tb(r),N=To(g,i);return-(u?N:Eb(r,N,i))}return NaN}function Tb(i){return $m(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())}function To(i,r){const u=bb(i,r),o=$m(u[0],u[1]-1,u[2],u[3]%24,u[4],u[5],0).getTime();let f=i.getTime();const h=f%1e3;return f-=h>=0?h:1e3+h,o-f}function Eb(i,r,u){let f=i.getTime()-r;const h=To(new Date(f),u);if(r===h)return r;f-=h-r;const g=To(new Date(f),u);return h===g?h:Math.max(h,g)}function cm(i,r){return-23<=i&&i<=23&&(r==null||0<=r&&r<=59)}const rm={};function Ab(i){if(rm[i])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:i}),rm[i]=!0,!0}catch{return!1}}const Db=60*1e3,Mb={X:function(i,r,u){const o=xo(u.timeZone,i);if(o===0)return"Z";switch(r){case"X":return om(o);case"XXXX":case"XX":return ml(o);case"XXXXX":case"XXX":default:return ml(o,":")}},x:function(i,r,u){const o=xo(u.timeZone,i);switch(r){case"x":return om(o);case"xxxx":case"xx":return ml(o);case"xxxxx":case"xxx":default:return ml(o,":")}},O:function(i,r,u){const o=xo(u.timeZone,i);switch(r){case"O":case"OO":case"OOO":return"GMT"+zb(o,":");case"OOOO":default:return"GMT"+ml(o,":")}},z:function(i,r,u){switch(r){case"z":case"zz":case"zzz":return lm("short",i,u);case"zzzz":default:return lm("long",i,u)}}};function xo(i,r){const u=i?Lo(i,r,!0)/Db:r?.getTimezoneOffset()??0;if(Number.isNaN(u))throw new RangeError("Invalid time zone specified: "+i);return u}function Zi(i,r){const u=i<0?"-":"";let o=Math.abs(i).toString();for(;o.length<r;)o="0"+o;return u+o}function ml(i,r=""){const u=i>0?"-":"+",o=Math.abs(i),f=Zi(Math.floor(o/60),2),h=Zi(Math.floor(o%60),2);return u+f+r+h}function om(i,r){return i%60===0?(i>0?"-":"+")+Zi(Math.abs(i)/60,2):ml(i,r)}function zb(i,r=""){const u=i>0?"-":"+",o=Math.abs(i),f=Math.floor(o/60),h=o%60;return h===0?u+String(f):u+String(f)+r+Zi(h,2)}function um(i){const r=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return r.setUTCFullYear(i.getFullYear()),+i-+r}const Ob=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,bo=36e5,dm=6e4,Rb=2,gt={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Ob};function Jm(i,r={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(i===null)return new Date(NaN);const u=r.additionalDigits==null?Rb:Number(r.additionalDigits);if(u!==2&&u!==1&&u!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]")return new Date(i.getTime());if(typeof i=="number"||Object.prototype.toString.call(i)==="[object Number]")return new Date(i);if(Object.prototype.toString.call(i)!=="[object String]")return new Date(NaN);const o=Ub(i),{year:f,restDateString:h}=Lb(o.date,u),g=kb(h,f);if(g===null||isNaN(g.getTime()))return new Date(NaN);if(g){const N=g.getTime();let y=0,x;if(o.time&&(y=Bb(o.time),y===null||isNaN(y)))return new Date(NaN);if(o.timeZone||r.timeZone){if(x=Lo(o.timeZone||r.timeZone,new Date(N+y)),isNaN(x))return new Date(NaN)}else x=um(new Date(N+y)),x=um(new Date(N+y+x));return new Date(N+y+x)}else return new Date(NaN)}function Ub(i){const r={};let u=gt.dateTimePattern.exec(i),o;if(u?(r.date=u[1],o=u[3]):(u=gt.datePattern.exec(i),u?(r.date=u[1],o=u[2]):(r.date=null,o=i)),o){const f=gt.timeZone.exec(o);f?(r.time=o.replace(f[1],""),r.timeZone=f[1].trim()):r.time=o}return r}function Lb(i,r){if(i){const u=gt.YYY[r],o=gt.YYYYY[r];let f=gt.YYYY.exec(i)||o.exec(i);if(f){const h=f[1];return{year:parseInt(h,10),restDateString:i.slice(h.length)}}if(f=gt.YY.exec(i)||u.exec(i),f){const h=f[1];return{year:parseInt(h,10)*100,restDateString:i.slice(h.length)}}}return{year:null}}function kb(i,r){if(r===null)return null;let u,o,f;if(!i||!i.length)return u=new Date(0),u.setUTCFullYear(r),u;let h=gt.MM.exec(i);if(h)return u=new Date(0),o=parseInt(h[1],10)-1,hm(r,o)?(u.setUTCFullYear(r,o),u):new Date(NaN);if(h=gt.DDD.exec(i),h){u=new Date(0);const g=parseInt(h[1],10);return Yb(r,g)?(u.setUTCFullYear(r,0,g),u):new Date(NaN)}if(h=gt.MMDD.exec(i),h){u=new Date(0),o=parseInt(h[1],10)-1;const g=parseInt(h[2],10);return hm(r,o,g)?(u.setUTCFullYear(r,o,g),u):new Date(NaN)}if(h=gt.Www.exec(i),h)return f=parseInt(h[1],10)-1,mm(f)?fm(r,f):new Date(NaN);if(h=gt.WwwD.exec(i),h){f=parseInt(h[1],10)-1;const g=parseInt(h[2],10)-1;return mm(f,g)?fm(r,f,g):new Date(NaN)}return null}function Bb(i){let r,u,o=gt.HH.exec(i);if(o)return r=parseFloat(o[1].replace(",",".")),jo(r)?r%24*bo:NaN;if(o=gt.HHMM.exec(i),o)return r=parseInt(o[1],10),u=parseFloat(o[2].replace(",",".")),jo(r,u)?r%24*bo+u*dm:NaN;if(o=gt.HHMMSS.exec(i),o){r=parseInt(o[1],10),u=parseInt(o[2],10);const f=parseFloat(o[3].replace(",","."));return jo(r,u,f)?r%24*bo+u*dm+f*1e3:NaN}return null}function fm(i,r,u){r=r||0,u=u||0;const o=new Date(0);o.setUTCFullYear(i,0,4);const f=o.getUTCDay()||7,h=r*7+u+1-f;return o.setUTCDate(o.getUTCDate()+h),o}const qb=[31,28,31,30,31,30,31,31,30,31,30,31],Hb=[31,29,31,30,31,30,31,31,30,31,30,31];function Km(i){return i%400===0||i%4===0&&i%100!==0}function hm(i,r,u){if(r<0||r>11)return!1;if(u!=null){if(u<1)return!1;const o=Km(i);if(o&&u>Hb[r]||!o&&u>qb[r])return!1}return!0}function Yb(i,r){if(r<1)return!1;const u=Km(i);return!(u&&r>366||!u&&r>365)}function mm(i,r){return!(i<0||i>52||r!=null&&(r<0||r>6))}function jo(i,r,u){return!(i<0||i>=25||r!=null&&(r<0||r>=60)||u!=null&&(u<0||u>=60))}const Gb=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function Xb(i,r,u={}){r=String(r);const o=r.match(Gb);if(o){const f=Jm(u.originalDate||i,u);r=o.reduce(function(h,g){if(g[0]==="'")return h;const N=h.indexOf(g),y=h[N-1]==="'",x=h.replace(g,"'"+Mb[g[0]](f,g,u)+"'");return y?x.substring(0,N-1)+x.substring(N+1):x},r)}return Gi(i,r,u)}function Vb(i,r,u){i=Jm(i,u);const o=Lo(r,i,!0),f=new Date(i.getTime()-o),h=new Date(0);return h.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),h.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),h}const pm="America/Chicago";function Qb(i){if(!i)return i;const r=i.trim();return!r||/[zZ]|[+-]\d{2}:?\d{2}$/.test(r)?r:`${r.includes("T")?r:r.replace(" ","T")}Z`}function Zb(i){try{if(!i)return"";const r=Qb(i),u=new Date(r);if(isNaN(u.getTime()))return"";const o=Vb(u,pm),f=Xb(o,"zzz",{timeZone:pm});return mb(o)?`Today ${Gi(o,"h:mm a")} ${f}`:gb(o)?`Yesterday ${Gi(o,"h:mm a")} ${f}`:`${Gi(o,"MMM d h:mm a")} ${f}`}catch(r){return console.error("Date formatting error:",r),""}}const gm=()=>n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{verticalAlign:"middle"},children:[n.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"6"}),n.jsx("circle",{cx:"12",cy:"2",r:"1",fill:"currentColor"}),n.jsx("rect",{x:"4",y:"6",width:"16",height:"12",rx:"2"}),n.jsx("circle",{cx:"9",cy:"11",r:"1.5",fill:"currentColor"}),n.jsx("circle",{cx:"15",cy:"11",r:"1.5",fill:"currentColor"}),n.jsx("line",{x1:"9",y1:"15",x2:"15",y2:"15"}),n.jsx("rect",{x:"1",y:"9",width:"2",height:"5",rx:"1"}),n.jsx("rect",{x:"21",y:"9",width:"2",height:"5",rx:"1"})]}),Fb=()=>n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{verticalAlign:"middle"},children:[n.jsx("rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}),n.jsx("polyline",{points:"2,4 12,13 22,4"})]}),$b=()=>n.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{verticalAlign:"middle"},children:n.jsx("path",{d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})}),Jb=()=>n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{verticalAlign:"middle"},children:[n.jsx("rect",{x:"5",y:"2",width:"14",height:"20",rx:"2"}),n.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"18.01"}),n.jsx("path",{d:"M9 9l3-3 3 3"}),n.jsx("line",{x1:"12",y1:"6",x2:"12",y2:"12"})]});function Kb(){const[i,r]=v.useState([]),[u,o]=v.useState(!0),[f,h]=v.useState(""),[g,N]=v.useState(null),[y,x]=v.useState(null),[m,S]=v.useState(null),[z,H]=v.useState(!1);v.useEffect(()=>{F()},[]);const F=async()=>{o(!0),h("");try{const O=await ce.getLeads({limit:50}).catch(()=>({leads:[]})),ne=(O.leads||O||[]).sort((re,P)=>new Date(P.created_at)-new Date(re.created_at));r(ne)}catch{h("Failed to load dashboard data")}finally{o(!1)}},B=async O=>{N(O);try{await ce.updateLeadStatus(O,"verified"),r(i.map(ne=>ne.id===O?{...ne,status:"verified"}:ne))}catch{h("Failed to verify lead")}finally{N(null)}},$=async O=>{N(O);try{await ce.updateLeadStatus(O,"unknown"),r(i.map(ne=>ne.id===O?{...ne,status:"unknown"}:ne))}catch{h("Failed to mark lead as unknown")}finally{N(null)}},K=async(O,ne)=>{if(confirm(`Are you sure you want to delete "${ne||"this lead"}"? This action cannot be undone.`)){N(O);try{await ce.deleteLead(O),r(re=>re.filter(P=>P.id!==O)),h("")}catch(re){console.error("Delete error details:",{message:re.message,stack:re.stack,error:re}),h(`Failed to delete lead: ${re.message||"Unknown error"}`)}finally{N(null)}}},V=async O=>{if(!O.phone){h("Cannot send follow-up: Lead has no phone number");return}if(confirm(`Send a follow-up SMS to ${O.name||"this lead"} at ${O.phone}?`)){N(`followup-${O.id}`);try{const ne=await ce.triggerFollowUp(O.id);ne.success?(r(re=>re.map(P=>P.id===O.id?{...P,extra_data:{...P.extra_data,followup_scheduled:!0}}:P)),h("")):h(ne.message||"Failed to trigger follow-up")}catch(ne){console.error("Follow-up error:",ne),h(`Failed to trigger follow-up: ${ne.message||"Unknown error"}`)}finally{N(null)}}},U=O=>O.phone&&!O.extra_data?.followup_sent_at&&!O.extra_data?.followup_scheduled,M=async O=>{x(O),H(!0),S(null);try{const ne=await ce.getLeadConversation(O.id);S(ne)}catch(ne){console.error("Failed to load conversation:",ne)}finally{H(!1)}},se=()=>{x(null),S(null)};if(u)return n.jsx(nt,{message:"Loading dashboard...",fullPage:!0});if(f&&i.length===0)return n.jsx(Pt,{message:f,onRetry:F});const ae=O=>O.status==="verified"||O.status==="unknown"?"lead-row processed":"lead-row",Q=O=>{switch(O.extra_data?.source){case"chatbot":case"web_chat":case"web_chat_lead":return{icon:n.jsx(gm,{}),title:"Chatbot"};case"voice_call":case"phone":case"call":return{icon:"",title:"Phone Call"};case"sms":case"text":return{icon:"",title:"Text Message"};case"email":return{icon:n.jsx(Fb,{}),title:"Email"};default:return{icon:n.jsx(gm,{}),title:"Chatbot"}}},Y=O=>O.llm_responded===!0?{className:"responded",title:"LLM responded"}:O.llm_responded===!1?{className:"not-responded",title:"No LLM response"}:{className:"no-conversation",title:"No conversation"};return n.jsxs("div",{className:"dashboard",children:[n.jsx("h1",{children:"Dashboard"}),n.jsx("div",{className:"dashboard-grid",children:n.jsxs("div",{className:"card leads-card leads-card-wide",children:[n.jsx("h2",{children:"Recent Leads"}),f&&n.jsx("div",{className:"error",children:f}),i.length===0?n.jsx(Qe,{icon:"",title:"No leads yet",description:"Start conversations to generate leads."}):n.jsx("div",{className:"leads-table-container",children:n.jsxs("table",{className:"leads-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"col-name",children:"Name"}),n.jsx("th",{className:"col-email",children:"Email"}),n.jsx("th",{className:"col-phone",children:"Phone"}),n.jsx("th",{className:"col-source",children:"Source"}),n.jsx("th",{className:"col-date",children:"Date"}),n.jsx("th",{className:"col-status",children:"Status"}),n.jsx("th",{className:"col-actions",children:"Actions"})]})}),n.jsx("tbody",{children:i.map(O=>n.jsxs("tr",{className:ae(O),children:[n.jsx("td",{className:"col-name",children:O.name||"Unknown"}),n.jsx("td",{className:"col-email",children:O.email||"-"}),n.jsx("td",{className:"col-phone",children:O.phone||"-"}),n.jsxs("td",{className:"col-source",children:[n.jsx("span",{className:"source-icon",title:Q(O).title,children:Q(O).icon}),n.jsx("span",{className:`response-indicator ${Y(O).className}`,title:Y(O).title})]}),n.jsx("td",{className:"col-date",children:Zb(O.created_at)}),n.jsxs("td",{className:"col-status",children:[n.jsx("span",{className:`status-badge ${O.status||"new"}`,children:O.status||"New"}),n.jsx("button",{className:"btn-chat-icon",onClick:()=>M(O),title:"View details","aria-label":"View lead details",children:n.jsx($b,{})})]}),n.jsx("td",{className:"actions-cell col-actions",children:n.jsxs("div",{className:"actions-container",children:[U(O)&&n.jsx("button",{className:"btn-action btn-followup",onClick:()=>V(O),disabled:g===`followup-${O.id}`,title:"Send follow-up SMS","aria-label":"Send follow-up SMS",children:g===`followup-${O.id}`?n.jsx("span",{className:"spinner",children:""}):n.jsx(Jb,{})}),!O.status||O.status==="new"?n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"btn-action btn-verify",onClick:()=>B(O.id),disabled:g===O.id,title:"Mark as verified lead","aria-label":"Verify lead",children:g===O.id?n.jsx("span",{className:"spinner",children:""}):n.jsx("svg",{className:"icon",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:n.jsx("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"})})}),n.jsx("button",{className:"btn-action btn-unknown",onClick:()=>$(O.id),disabled:g===O.id,title:"Mark as unknown/spam","aria-label":"Mark as unknown",children:g===O.id?n.jsx("span",{className:"spinner",children:""}):n.jsx("svg",{className:"icon",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})})]}):O.status==="verified"?n.jsx("button",{className:"btn-action btn-sync",onClick:()=>B(O.id),disabled:g===O.id,title:"Re-sync to create contact","aria-label":"Sync contact",children:g===O.id?n.jsx("span",{className:"spinner",children:""}):n.jsx("svg",{className:"icon",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:n.jsx("path",{fillRule:"evenodd",d:"M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z",clipRule:"evenodd"})})}):n.jsx("div",{className:"action-placeholder","aria-hidden":"true"}),n.jsx("button",{className:"btn-action btn-delete",onClick:()=>K(O.id,O.name),disabled:g===O.id,title:"Permanently delete this lead","aria-label":"Delete lead",children:g===O.id?n.jsx("span",{className:"spinner",children:""}):n.jsx("svg",{className:"icon",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:n.jsx("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z",clipRule:"evenodd"})})})]})})]},O.id))})]})})]})}),y&&n.jsx("div",{className:"lead-detail-modal-overlay",onClick:se,children:n.jsxs("div",{className:"lead-detail-modal",onClick:O=>O.stopPropagation(),children:[n.jsxs("div",{className:"lead-detail-modal-header",children:[n.jsx("h3",{children:"Lead Details"}),n.jsx("button",{className:"btn-close",onClick:se,children:""})]}),n.jsxs("div",{className:"lead-detail-modal-body",children:[n.jsxs("div",{className:"lead-detail-section",children:[n.jsx("h4",{children:"Contact Information"}),n.jsxs("div",{className:"lead-detail-row",children:[n.jsx("span",{className:"label",children:"Name:"}),n.jsx("span",{className:"value",children:y.name||"Unknown"})]}),n.jsxs("div",{className:"lead-detail-row",children:[n.jsx("span",{className:"label",children:"Email:"}),n.jsx("span",{className:"value",children:y.email||"-"})]}),n.jsxs("div",{className:"lead-detail-row",children:[n.jsx("span",{className:"label",children:"Phone:"}),n.jsx("span",{className:"value",children:y.phone||"-"})]}),n.jsxs("div",{className:"lead-detail-row",children:[n.jsx("span",{className:"label",children:"Source:"}),n.jsx("span",{className:"value",children:y.extra_data?.source||"chatbot"})]})]}),y.extra_data&&Object.keys(y.extra_data).filter(O=>O!=="source"&&O!=="parsing_metadata").length>0&&n.jsxs("div",{className:"lead-detail-section",children:[n.jsx("h4",{children:"Form Submission Details"}),n.jsx("p",{className:"form-note",children:"This person completed a form for more information."}),n.jsx("div",{className:"form-fields",children:Object.entries(y.extra_data).filter(([O])=>O!=="source"&&O!=="parsing_metadata").map(([O,ne])=>n.jsxs("div",{className:"lead-detail-row",children:[n.jsxs("span",{className:"label",children:[O.replace(/_/g," ").replace(/\b\w/g,re=>re.toUpperCase()),":"]}),n.jsx("span",{className:"value",children:String(ne)})]},O))})]}),n.jsxs("div",{className:"lead-detail-section",children:[n.jsx("h4",{children:"Conversation History"}),z?n.jsx(nt,{message:"Loading conversation..."}):m&&m.messages?.length>0?n.jsx("div",{className:"messages-list",children:m.messages.map((O,ne)=>n.jsxs("div",{className:`message ${O.role}`,children:[n.jsx("div",{className:"message-role",children:O.role==="user"?"User":"Bot"}),n.jsx("div",{className:"message-content",children:O.content})]},ne))}):n.jsx("p",{className:"no-conversation",children:"No conversation history available."})]})]})]})})]})}const vm=["system","base"],Pm=[{value:"pricing",label:"Pricing Info",icon:""},{value:"faq",label:"FAQ",icon:""},{value:"business_info",label:"Business Info",icon:""},{value:"custom",label:"Custom",icon:""}],Pb=[{value:"system",label:"System Instructions",icon:"",readonly:!0},{value:"base",label:"Base Prompt",icon:"",readonly:!0},...Pm.map(i=>({...i,readonly:!1}))];function Wb(){const i=Jt(),[r,u]=qm(),[o,f]=v.useState([]),[h,g]=v.useState(!0),[N,y]=v.useState(null),[x,m]=v.useState(null),[S,z]=v.useState(null),[H,F]=v.useState([]),[B,$]=v.useState(""),[K,V]=v.useState(null),[U,M]=v.useState(!1),[se,ae]=v.useState(null),[Q,Y]=v.useState(null),[O,ne]=v.useState(null),re=v.useRef(null),[P,ye]=v.useState(""),[ve,ie]=v.useState("all"),[C,E]=v.useState("updated"),[le,de]=v.useState([]);v.useEffect(()=>{const L=r.get("test");if(L&&o.length>0){const b=o.find(ee=>ee.id===parseInt(L,10));b&&(we(b),u({}))}},[o,r,u]),v.useEffect(()=>{pe()},[]),v.useEffect(()=>{re.current&&re.current.scrollIntoView({behavior:"smooth"})},[H,U]);const pe=async()=>{g(!0),y(null);try{const L=await ce.getPromptBundles().catch(()=>[]);f(Array.isArray(L)?L:[])}catch(L){console.error("Failed to fetch bundles:",L),y(L.message||"Failed to load prompt bundles")}finally{g(!1)}},j=async L=>{L.preventDefault();try{const b=await ce.updatePromptBundle(x.id,{name:x.name,sections:x.sections});f(o.map(ee=>ee.id===b.id?b:ee)),m(null),st("Prompt updated successfully","success")}catch(b){st("Failed to update prompt: "+b.message,"error")}},q=async L=>{if(confirm("Publish this prompt? It will become live and active for all chatbot users.")){ae(L);try{const b=await ce.publishPromptBundle(L);f(o.map(ee=>ee.id===b.id?b:ee)),st("Prompt published successfully","success")}catch(b){st("Failed to publish prompt: "+b.message,"error")}finally{ae(null)}}},I=async L=>{if(L.status==="production"){st("Cannot delete a live prompt. Deactivate it first.","error");return}if(confirm(`Delete "${L.name}"?

This action cannot be undone.`)){Y(L.id);try{await ce.deletePromptBundle(L.id),f(o.filter(b=>b.id!==L.id)),st("Prompt deleted successfully","success")}catch(b){st("Failed to delete prompt: "+b.message,"error")}finally{Y(null)}}},te=async L=>{if(confirm(`Deactivate "${L.name}"?

This will remove it from production. Your chatbot will use default responses until you publish another prompt.`)){ne(L.id);try{const b=await ce.deactivatePromptBundle(L.id);f(o.map(ee=>ee.id===b.id?b:ee)),st("Prompt deactivated successfully","success")}catch(b){st("Failed to deactivate prompt: "+b.message,"error")}finally{ne(null)}}},fe=()=>{F([]),$(""),V(null),M(!1)},ge=async L=>{L.preventDefault();const b=B.trim();if(!b||!S)return;const ee=H.filter(be=>be.role!=="error"),Ne={role:"user",content:b};F(be=>[...be,Ne]),$(""),M(!0),V(null);try{const be=await ce.testPrompt(S?.id,b,ee);F(ze=>[...ze,{role:"assistant",content:be.response}]),V({composed_prompt:be.composed_prompt})}catch(be){const ze=be.message||"Test failed";F(na=>[...na,{role:"error",content:ze}]),V({error:ze})}finally{M(!1)}},we=L=>{fe(),z(L)},He=async L=>{try{const b=await ce.getPromptBundle(L.id);m(b)}catch{alert("Failed to load bundle details")}},X=(L,b)=>{const ee={section_key:"",scope:"custom",content:"",order:L.sections.length};b({...L,sections:[...L.sections,ee]})},Ge=(L,b,ee,Ne,be)=>{const ze=[...L.sections];ze[ee]={...ze[ee],[Ne]:be},b({...L,sections:ze})},vt=(L,b,ee)=>{const Ne=L.sections.filter((be,ze)=>ze!==ee);b({...L,sections:Ne})},rt=L=>{const b={draft:{color:"#475569",bg:"#f1f5f9",label:"Draft",icon:""},testing:{color:"#d97706",bg:"#fffbeb",label:"Testing",icon:""},production:{color:"#059669",bg:"#d1fae5",label:"Live",icon:""}},{color:ee,bg:Ne,label:be,icon:ze}=b[L]||b.draft;return n.jsxs("span",{className:"status-badge",style:{backgroundColor:Ne,color:ee},children:[n.jsx("span",{className:"status-badge__icon",children:ze}),n.jsx("span",{className:"status-badge__label",children:be})]})},Aa=L=>Pb.find(b=>b.value===L)||{label:L,icon:"",readonly:!1},W=L=>vm.includes(L),Da=L=>!vm.includes(L),st=(L,b="success")=>{const ee=Date.now();de(Ne=>[...Ne,{id:ee,message:L,type:b,duration:3e3}])},En=L=>{de(b=>b.filter(ee=>ee.id!==L))},Ma=v.useMemo(()=>{let L=o;if(P){const b=P.toLowerCase();L=L.filter(ee=>ee.name.toLowerCase().includes(b)||ee.sections?.some(Ne=>Ne.section_key?.toLowerCase().includes(b)))}return ve!=="all"&&(L=L.filter(b=>b.status===ve)),L=[...L].sort((b,ee)=>{switch(C){case"name":return b.name.localeCompare(ee.name);case"updated":const Ne=new Date(b.updated_at||b.created_at||0);return new Date(ee.updated_at||ee.created_at||0)-Ne;case"created":const ze=new Date(b.created_at||0);return new Date(ee.created_at||0)-ze;default:return 0}}),L},[o,P,ve,C]);return h?n.jsx("div",{className:"prompts-page",children:n.jsx(nt,{message:"Loading prompts...",fullPage:!0})}):N?n.jsx("div",{className:"prompts-page",children:n.jsx(Pt,{message:N,onRetry:pe})}):n.jsxs("div",{className:"prompts-page",children:[n.jsx(lx,{toasts:le,removeToast:En}),n.jsxs("div",{className:"prompts-header",children:[n.jsxs("div",{className:"prompts-header__title",children:[n.jsx("h1",{children:"Prompts"}),n.jsx("p",{className:"prompts-header__subtitle",children:"Use the AI Wizard to create custom prompts for your chatbot."})]}),n.jsx("div",{className:"prompts-header__actions",children:n.jsxs("button",{className:"btn btn--ai",onClick:()=>i("/settings/prompts/wizard"),children:[n.jsx("span",{className:"btn__icon",children:""}),"Build with AI"]})})]}),n.jsxs("div",{className:"toolbar",children:[n.jsxs("div",{className:"toolbar__search",children:[n.jsxs("svg",{className:"toolbar__search-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[n.jsx("path",{d:"M7 12A5 5 0 1 0 7 2a5 5 0 0 0 0 10zm0-1.5a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7z",fill:"currentColor"}),n.jsx("path",{d:"M10.5 10.5l3 3-1 1-3-3 1-1z",fill:"currentColor"})]}),n.jsx("input",{type:"text",className:"toolbar__search-input",placeholder:"Search prompts...",value:P,onChange:L=>ye(L.target.value)})]}),n.jsxs("div",{className:"toolbar__filters",children:[n.jsx("div",{className:"toolbar__tabs",children:[{value:"all",label:"All"},{value:"production",label:"Live"},{value:"draft",label:"Draft"},{value:"testing",label:"Testing"}].map(L=>n.jsx("button",{className:`toolbar__tab ${ve===L.value?"toolbar__tab--active":""}`,onClick:()=>ie(L.value),children:L.label},L.value))}),n.jsxs("select",{className:"toolbar__sort",value:C,onChange:L=>E(L.target.value),children:[n.jsx("option",{value:"updated",children:"Last updated"}),n.jsx("option",{value:"created",children:"Recently created"}),n.jsx("option",{value:"name",children:"Name (A-Z)"})]})]})]}),x&&n.jsx("div",{className:"modal-overlay",onClick:()=>m(null),children:n.jsxs("div",{className:"modal large-modal",onClick:L=>L.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("div",{className:"modal-title-group",children:[n.jsxs("h2",{children:[x.status==="production"?"View Prompt":"Edit Prompt",": ",x.name]}),rt(x.status)]}),n.jsx("button",{className:"modal-close",onClick:()=>m(null),children:""})]}),x.status==="production"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"production-warning",children:[n.jsx("span",{className:"warning-icon",children:""}),n.jsx("span",{children:"This prompt is currently live. To make changes, deactivate it first or create a new draft."})]}),n.jsx("div",{className:"readonly-sections",tabIndex:0,children:x.sections?.map((L,b)=>{const ee=Aa(L.scope),Ne=W(L.scope);return n.jsxs("div",{className:`section-readonly ${Ne?"section-readonly--base":""}`,children:[n.jsxs("div",{className:"section-readonly-header",children:[n.jsx("span",{className:"scope-icon",children:ee.icon}),n.jsx("span",{className:"section-key-display",children:L.section_key}),n.jsx("span",{className:"section-scope-badge",children:ee.label}),Ne&&n.jsx("span",{className:"base-badge",children:"Base (Read-only)"})]}),n.jsx("pre",{className:"section-readonly-content",children:L.content})]},b)})}),n.jsxs("div",{className:"modal-actions",children:[n.jsx("button",{type:"button",className:"btn-warning",onClick:()=>{m(null),te(x)},disabled:O===x.id,children:O===x.id?"Deactivating...":"Deactivate Prompt"}),n.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>m(null),children:"Close"})]})]}):n.jsxs("form",{onSubmit:j,children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Prompt Name"}),n.jsx("input",{type:"text",value:x.name,onChange:L=>m({...x,name:L.target.value}),required:!0})]}),x.sections?.some(L=>W(L.scope))&&n.jsxs("div",{className:"sections-group",children:[n.jsxs("div",{className:"sections-group-header",children:[n.jsx("h3",{children:"Base Prompts (Read-only)"}),n.jsx("span",{className:"sections-group-description",children:"These are system-managed and cannot be edited"})]}),n.jsx("div",{className:"sections-list sections-list--readonly",children:x.sections.filter(L=>W(L.scope)).map((L,b)=>{const ee=x.sections.indexOf(L),Ne=Aa(L.scope);return n.jsxs("div",{className:"section-readonly section-readonly--base",children:[n.jsxs("div",{className:"section-readonly-header",children:[n.jsx("span",{className:"scope-icon",children:Ne.icon}),n.jsx("span",{className:"section-key-display",children:L.section_key}),n.jsx("span",{className:"section-scope-badge",children:Ne.label}),n.jsx("span",{className:"base-badge",children:"Base (Read-only)"})]}),n.jsx("pre",{className:"section-readonly-content",children:L.content})]},ee)})})]}),n.jsxs("div",{className:"sections-group",children:[n.jsxs("div",{className:"sections-group-header",children:[n.jsx("h3",{children:"Your Custom Prompts"}),n.jsx("button",{type:"button",className:"btn-secondary btn-small",onClick:()=>X(x,m),children:"+ Add Custom Section"})]}),n.jsxs("div",{className:"sections-list",children:[x.sections.filter(L=>Da(L.scope)).map((L,b)=>{const ee=x.sections.indexOf(L),Ne=Aa(L.scope);return n.jsxs("div",{className:"section-editor",children:[n.jsxs("div",{className:"section-editor-header",children:[n.jsx("span",{className:"scope-icon",children:Ne.icon}),n.jsx("input",{type:"text",placeholder:"Section key",value:L.section_key,onChange:be=>Ge(x,m,ee,"section_key",be.target.value),required:!0}),n.jsx("select",{value:L.scope,onChange:be=>Ge(x,m,ee,"scope",be.target.value),children:Pm.map(be=>n.jsx("option",{value:be.value,children:be.label},be.value))}),n.jsx("button",{type:"button",className:"btn-danger-small",onClick:()=>vt(x,m,ee),children:"Remove"})]}),n.jsx("textarea",{value:L.content,onChange:be=>Ge(x,m,ee,"content",be.target.value),rows:6,required:!0})]},ee)}),x.sections?.filter(L=>Da(L.scope)).length===0&&n.jsx("div",{className:"empty-sections-message",children:n.jsx("p",{children:'No custom sections yet. Click "+ Add Custom Section" to create your first editable prompt.'})})]})]}),n.jsxs("div",{className:"modal-actions",children:[n.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>m(null),children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn-primary",children:"Save Changes"})]})]})]})}),S&&n.jsx("div",{className:"modal-overlay",onClick:()=>{z(null),fe()},children:n.jsxs("div",{className:"modal test-modal",onClick:L=>L.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h2",{children:["Test: ",S.name]}),n.jsx("button",{className:"modal-close",onClick:()=>{z(null),fe()},children:""})]}),n.jsx("p",{className:"modal-subtitle",children:"Chat with the test bot using the same pipeline as production."}),n.jsxs("div",{className:"test-chat",children:[n.jsxs("div",{className:"test-chat__header",children:[n.jsx("span",{className:"test-chat__hint",children:"Tip: press Enter to send, Shift+Enter for a new line."}),n.jsx("button",{type:"button",className:"btn btn--ghost btn--sm",onClick:fe,children:"Clear chat"})]}),n.jsxs("div",{className:"test-chat__messages",children:[H.length===0?n.jsx("div",{className:"test-chat__empty",children:"Start the conversation to see how your chatbot responds."}):H.map((L,b)=>n.jsx("div",{className:`test-chat__message test-chat__message--${L.role}`,children:n.jsx("div",{className:"test-chat__bubble",children:L.content})},`${L.role}-${b}`)),U&&n.jsx("div",{className:"test-chat__message test-chat__message--assistant",children:n.jsxs("div",{className:"test-chat__bubble test-chat__typing",children:[n.jsx("span",{}),n.jsx("span",{}),n.jsx("span",{})]})}),n.jsx("div",{ref:re})]}),n.jsxs("form",{className:"test-chat__composer",onSubmit:ge,children:[n.jsx("textarea",{value:B,onChange:L=>$(L.target.value),onKeyDown:L=>{L.key==="Enter"&&!L.shiftKey&&(L.preventDefault(),ge(L))},placeholder:"Type a message... (e.g., 'What swim classes do you offer for a 4 year old?')",rows:2,disabled:U}),n.jsx("button",{type:"submit",className:"btn-primary",disabled:U||!B.trim(),children:U?"Sending...":"Send"})]}),K?.composed_prompt&&n.jsxs("details",{className:"debug-details",children:[n.jsx("summary",{children:"View Composed Prompt (Debug)"}),n.jsx("pre",{className:"composed-prompt",children:K.composed_prompt})]})]})]})}),n.jsx("div",{className:"prompts-content",children:o.length===0?n.jsxs("div",{className:"empty-state-wizard",children:[n.jsx("div",{className:"empty-state-wizard__icon",children:""}),n.jsx("h2",{children:"No custom prompts yet"}),n.jsx("p",{children:"Create your first chatbot prompt using the AI Wizard - just answer a few questions about your business!"}),n.jsx("div",{className:"empty-state-wizard__actions",children:n.jsxs("button",{className:"btn btn--ai btn--lg",onClick:()=>i("/settings/prompts/wizard"),children:[n.jsx("span",{className:"btn__icon",children:""}),"Build with AI Wizard"]})})]}):Ma.length===0?n.jsxs("div",{className:"prompts-empty-filter",children:[n.jsx("p",{children:"No prompts match your filters."}),n.jsx("button",{className:"btn btn--ghost",onClick:()=>{ye(""),ie("all")},children:"Clear filters"})]}):n.jsx("div",{className:"prompts-list",children:Ma.map(L=>{const b=L.updated_at||L.created_at,ee=L.status==="production";return n.jsxs("div",{className:`prompt-item ${ee?"prompt-item--live":""}`,children:[n.jsxs("div",{className:"prompt-item__main",children:[n.jsxs("div",{className:"prompt-item__header",children:[n.jsx("h3",{className:"prompt-item__title",children:L.name}),rt(L.status)]}),n.jsxs("div",{className:"prompt-item__meta",children:[n.jsxs("span",{className:"prompt-item__meta-item",children:[L.sections?.length||0," sections"]}),b&&n.jsxs("span",{className:"prompt-item__meta-item",children:["Updated ",new Date(b).toLocaleDateString("en-US",{month:"short",day:"numeric"})]}),L.published_at&&n.jsxs("span",{className:"prompt-item__meta-item",children:["Published ",new Date(L.published_at).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]})]}),n.jsxs("div",{className:"prompt-item__actions",children:[n.jsx("button",{className:"btn btn--ghost btn--sm",onClick:()=>He(L),title:L.status==="production"?"View":"Edit",children:L.status==="production"?"View":"Edit"}),n.jsx("button",{className:"btn btn--ghost btn--sm",onClick:()=>we(L),title:"Test prompt",children:"Test"}),L.status==="production"?n.jsx("button",{className:"btn btn--ghost btn--sm btn--warning",onClick:()=>te(L),disabled:O===L.id,title:"Deactivate",children:O===L.id?"Deactivating...":"Deactivate"}):n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"btn btn--primary btn--sm",onClick:()=>q(L.id),disabled:se===L.id,title:"Publish to production",children:se===L.id?"Publishing...":"Publish"}),n.jsx("button",{className:"btn btn--ghost btn--sm btn--danger",onClick:()=>I(L),disabled:Q===L.id,title:"Delete",children:Q===L.id?"Deleting...":"Delete"})]})]})]},L.id)})})})]})}function Ea(i,r={}){const{defaultValue:u=null,immediate:o=!0,deps:f=[]}=r,[h,g]=v.useState(u),[N,y]=v.useState(o),[x,m]=v.useState(null),S=v.useCallback(async()=>{y(!0),m(null);try{const z=await i();return g(z),z}catch(z){return m(z.message||"An error occurred"),u}finally{y(!1)}},[i,u]);return v.useEffect(()=>{o&&S()},[o,...f]),{data:h,loading:N,error:x,refetch:S,setData:g}}function Ib({contact:i,onClose:r}){const[u,o]=v.useState(null),[f,h]=v.useState(!0),[g,N]=v.useState(null);return v.useEffect(()=>{const y=async()=>{try{h(!0);const x=await ce.getContactConversation(i.id);o(x)}catch(x){N(x.message||"Failed to load conversation")}finally{h(!1)}};i?.id&&y()},[i?.id]),v.useEffect(()=>{const y=x=>{x.key==="Escape"&&r()};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),v.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]),n.jsx("div",{className:"chat-modal-overlay",onClick:r,children:n.jsxs("div",{className:"chat-modal-drawer",onClick:y=>y.stopPropagation(),children:[n.jsxs("div",{className:"chat-modal-header",children:[n.jsxs("div",{className:"chat-modal-contact",children:[n.jsx("div",{className:"chat-modal-avatar",children:(i.name||"U")[0].toUpperCase()}),n.jsxs("div",{className:"chat-modal-info",children:[n.jsx("h3",{children:i.name||"Unknown"}),n.jsx("span",{className:"chat-modal-email",children:i.email||i.phone||"-"})]})]}),n.jsx("button",{className:"chat-modal-close",onClick:r,children:""})]}),n.jsx("div",{className:"chat-modal-body",children:f?n.jsxs("div",{className:"chat-modal-loading",children:[n.jsx("div",{className:"spinner"}),n.jsx("p",{children:"Loading conversation..."})]}):g?n.jsxs("div",{className:"chat-modal-empty",children:[n.jsx("span",{className:"empty-icon",children:""}),n.jsx("p",{children:"No conversation found"}),n.jsx("span",{className:"empty-sub",children:"This contact may not have a linked chat history."})]}):u?.messages?.length>0?n.jsx("div",{className:"chat-messages",children:u.messages.map(y=>n.jsx("div",{className:`chat-message ${y.role}`,children:n.jsxs("div",{className:"message-bubble",children:[n.jsx("div",{className:"message-content",children:y.content}),n.jsx("div",{className:"message-time",children:new Date(y.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},y.id))}):n.jsxs("div",{className:"chat-modal-empty",children:[n.jsx("span",{className:"empty-icon",children:""}),n.jsx("p",{children:"No messages yet"})]})}),n.jsxs("div",{className:"chat-modal-footer",children:[n.jsxs("span",{className:"chat-source",children:["Source: ",u?.channel||i.source||"web_chat"]}),u?.created_at&&n.jsxs("span",{className:"chat-date",children:["Started: ",new Date(u.created_at).toLocaleDateString()]})]})]})})}function Wm({contact:i,onSuccess:r,onCancel:u}){const[o,f]=v.useState(!1),[h,g]=v.useState(""),[N,y]=v.useState({name:i?.name||"",email:i?.email||"",phone:i?.phone||""}),[x,m]=v.useState([]),[S,z]=v.useState(!0),[H,F]=v.useState({alias_type:"email",value:""}),[B,$]=v.useState(!1);v.useEffect(()=>{i?.id&&K()},[i?.id]);const K=async()=>{z(!0);try{const Y=await ce.getContactAliases(i.id);m(Y||[])}catch(Y){console.error("Failed to fetch aliases:",Y)}finally{z(!1)}},V=Y=>{const{name:O,value:ne}=Y.target;y(re=>({...re,[O]:ne}))},U=async Y=>{Y.preventDefault(),f(!0),g("");try{await ce.updateContact(i.id,{name:N.name||null,email:N.email||null,phone:N.phone||null}),r()}catch(O){g(O.message||"Failed to update contact"),f(!1)}},M=async()=>{if(H.value.trim()){$(!0),g("");try{const Y=await ce.addContactAlias(i.id,{alias_type:H.alias_type,value:H.value.trim(),is_primary:!1});m(O=>[...O,Y]),F({alias_type:"email",value:""})}catch(Y){g(Y.message||"Failed to add alias")}finally{$(!1)}}},se=async Y=>{try{await ce.removeContactAlias(i.id,Y),m(O=>O.filter(ne=>ne.id!==Y))}catch(O){g(O.message||"Failed to remove alias")}},ae=async(Y,O)=>{try{await ce.setPrimaryAlias(i.id,Y),m(re=>re.map(P=>({...P,is_primary:P.id===Y?!0:P.alias_type===O?!1:P.is_primary})));const ne=x.find(re=>re.id===Y);ne&&(O==="email"&&y(re=>({...re,email:ne.value})),O==="phone"&&y(re=>({...re,phone:ne.value})),O==="name"&&y(re=>({...re,name:ne.value})))}catch(ne){g(ne.message||"Failed to set primary alias")}},Q={email:x.filter(Y=>Y.alias_type==="email"),phone:x.filter(Y=>Y.alias_type==="phone"),name:x.filter(Y=>Y.alias_type==="name")};return n.jsx("div",{className:"modal-overlay",onClick:u,children:n.jsxs("div",{className:"modal edit-contact-modal",onClick:Y=>Y.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{children:"Edit Contact"}),n.jsx("button",{className:"close-btn",onClick:u,disabled:o,children:""})]}),n.jsxs("form",{onSubmit:U,children:[n.jsxs("div",{className:"modal-body",children:[h&&n.jsx("div",{className:"error-message",children:h}),n.jsxs("div",{className:"form-section",children:[n.jsx("h3",{children:"Contact Information"}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"name",children:"Name"}),n.jsx("input",{type:"text",id:"name",name:"name",value:N.name,onChange:V,placeholder:"Contact name"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"email",children:"Primary Email"}),n.jsx("input",{type:"email",id:"email",name:"email",value:N.email,onChange:V,placeholder:"primary@email.com"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"phone",children:"Primary Phone"}),n.jsx("input",{type:"tel",id:"phone",name:"phone",value:N.phone,onChange:V,placeholder:"+1 555-123-4567"})]})]}),n.jsxs("div",{className:"form-section aliases-section",children:[n.jsx("h3",{children:"Additional Identifiers (Aliases)"}),n.jsx("p",{className:"section-description",children:"Add alternate emails, phone numbers, or name spellings for this contact."}),S?n.jsx("div",{className:"loading-aliases",children:"Loading aliases..."}):n.jsxs(n.Fragment,{children:[Q.email.length>0&&n.jsxs("div",{className:"alias-group",children:[n.jsx("h4",{children:"Emails"}),n.jsx("div",{className:"alias-list",children:Q.email.map(Y=>n.jsxs("div",{className:`alias-item ${Y.is_primary?"primary":""}`,children:[n.jsx("span",{className:"alias-value",children:Y.value}),Y.is_primary?n.jsx("span",{className:"primary-badge",children:"Primary"}):n.jsxs("div",{className:"alias-actions",children:[n.jsx("button",{type:"button",className:"btn-set-primary",onClick:()=>ae(Y.id,"email"),title:"Set as primary",children:"Set Primary"}),n.jsx("button",{type:"button",className:"btn-remove-alias",onClick:()=>se(Y.id),title:"Remove",children:""})]})]},Y.id))})]}),Q.phone.length>0&&n.jsxs("div",{className:"alias-group",children:[n.jsx("h4",{children:"Phone Numbers"}),n.jsx("div",{className:"alias-list",children:Q.phone.map(Y=>n.jsxs("div",{className:`alias-item ${Y.is_primary?"primary":""}`,children:[n.jsx("span",{className:"alias-value",children:Y.value}),Y.is_primary?n.jsx("span",{className:"primary-badge",children:"Primary"}):n.jsxs("div",{className:"alias-actions",children:[n.jsx("button",{type:"button",className:"btn-set-primary",onClick:()=>ae(Y.id,"phone"),title:"Set as primary",children:"Set Primary"}),n.jsx("button",{type:"button",className:"btn-remove-alias",onClick:()=>se(Y.id),title:"Remove",children:""})]})]},Y.id))})]}),Q.name.length>0&&n.jsxs("div",{className:"alias-group",children:[n.jsx("h4",{children:"Name Variations"}),n.jsx("div",{className:"alias-list",children:Q.name.map(Y=>n.jsxs("div",{className:`alias-item ${Y.is_primary?"primary":""}`,children:[n.jsx("span",{className:"alias-value",children:Y.value}),Y.is_primary?n.jsx("span",{className:"primary-badge",children:"Primary"}):n.jsxs("div",{className:"alias-actions",children:[n.jsx("button",{type:"button",className:"btn-set-primary",onClick:()=>ae(Y.id,"name"),title:"Set as primary",children:"Set Primary"}),n.jsx("button",{type:"button",className:"btn-remove-alias",onClick:()=>se(Y.id),title:"Remove",children:""})]})]},Y.id))})]}),n.jsxs("div",{className:"add-alias-form",children:[n.jsxs("select",{value:H.alias_type,onChange:Y=>F(O=>({...O,alias_type:Y.target.value})),disabled:B,children:[n.jsx("option",{value:"email",children:"Email"}),n.jsx("option",{value:"phone",children:"Phone"}),n.jsx("option",{value:"name",children:"Name"})]}),n.jsx("input",{type:"text",value:H.value,onChange:Y=>F(O=>({...O,value:Y.target.value})),placeholder:`Add ${H.alias_type}...`,disabled:B}),n.jsx("button",{type:"button",className:"btn-add-alias",onClick:M,disabled:B||!H.value.trim(),children:B?"Adding...":"Add"})]})]})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn-cancel",onClick:u,disabled:o,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn-save",disabled:o,children:o?"Saving...":"Save Changes"})]})]})]})})}function ej({contacts:i,onSuccess:r,onCancel:u}){const[o,f]=v.useState(1),[h,g]=v.useState(!1),[N,y]=v.useState(""),[x,m]=v.useState(null),[S,z]=v.useState(null),[H,F]=v.useState({}),[B,$]=v.useState(!1);v.useEffect(()=>{K()},[]);const K=async()=>{g(!0),y("");try{const P=i.map(ie=>ie.id),ye=await ce.getMergePreview(P);m(ye),ye.suggested_primary_id&&z(ye.suggested_primary_id);const ve={};ye.conflicts.forEach(ie=>{ve[ie.field]="primary"}),F(ve)}catch(P){y(P.message||"Failed to get merge preview")}finally{g(!1)}},V=P=>{z(P)},U=(P,ye)=>{F(ve=>({...ve,[P]:ye}))},M=()=>{if(o===1){if(!S){y("Please select a primary contact");return}y(""),x?.conflicts?.length?f(2):f(3)}else o===2&&f(3)},se=()=>{y(""),o===3&&!x?.conflicts?.length?f(1):f(o-1)},ae=async()=>{$(!0),y("");try{const P=i.filter(ye=>ye.id!==S).map(ye=>ye.id);await ce.mergeContacts(S,P,H),r()}catch(P){console.error("Merge failed:",P),y(P.message||"Failed to merge contacts"),$(!1)}},Q=()=>i.find(P=>P.id===S),Y=()=>i.filter(P=>P.id!==S),O=()=>n.jsxs("div",{className:"merge-step",children:[n.jsx("h3",{children:"Step 1: Select Primary Contact"}),n.jsx("p",{className:"step-description",children:"Choose which contact will be the primary record. The other contact(s) will be merged into this one."}),n.jsx("div",{className:"contact-selection",children:i.map(P=>n.jsxs("label",{className:`contact-option ${S===P.id?"selected":""}`,children:[n.jsx("input",{type:"radio",name:"primary-contact",checked:S===P.id,onChange:()=>V(P.id)}),n.jsxs("div",{className:"contact-card",children:[n.jsx("div",{className:"contact-avatar",children:(P.name||"U")[0].toUpperCase()}),n.jsxs("div",{className:"contact-details",children:[n.jsx("strong",{children:P.name||"Unknown"}),P.email&&n.jsxs("span",{children:[" ",P.email]}),P.phone&&n.jsxs("span",{children:[" ",P.phone]}),n.jsxs("span",{className:"created-date",children:["Created: ",new Date(P.created_at).toLocaleDateString()]})]}),S===P.id&&n.jsx("span",{className:"primary-badge",children:"Primary"})]})]},P.id))})]}),ne=()=>n.jsxs("div",{className:"merge-step",children:[n.jsx("h3",{children:"Step 2: Resolve Conflicts"}),n.jsx("p",{className:"step-description",children:"These contacts have different values for some fields. Choose which value to keep as the primary."}),x?.conflicts?.length===0?n.jsxs("div",{className:"no-conflicts",children:[n.jsx("span",{children:""}),n.jsx("p",{children:"No conflicts detected! All fields match or are empty."})]}):n.jsx("div",{className:"conflicts-list",children:x?.conflicts?.map(P=>n.jsxs("div",{className:"conflict-item",children:[n.jsx("h4",{className:"conflict-field",children:P.field.charAt(0).toUpperCase()+P.field.slice(1)}),n.jsx("div",{className:"conflict-options",children:Object.entries(P.values).map(([ye,ve])=>{const ie=i.find(le=>le.id===parseInt(ye)),C=parseInt(ye)===S,E=H[P.field]===(C?"primary":parseInt(ye));return n.jsxs("label",{className:`conflict-option ${E?"selected":""}`,children:[n.jsx("input",{type:"radio",name:`conflict-${P.field}`,checked:E,onChange:()=>U(P.field,C?"primary":parseInt(ye))}),n.jsxs("div",{className:"option-content",children:[n.jsx("span",{className:"option-value",children:ve||"(empty)"}),n.jsxs("span",{className:"option-source",children:["from ",ie?.name||"Unknown",C&&" (primary)"]})]})]},ye)})}),n.jsx("p",{className:"conflict-note",children:" Non-selected values will be saved as aliases"})]},P.field))})]}),re=()=>{const P=Q(),ye=Y();return n.jsxs("div",{className:"merge-step",children:[n.jsx("h3",{children:"Step 3: Confirm Merge"}),n.jsx("p",{className:"step-description",children:"Review the merge operation before confirming."}),n.jsxs("div",{className:"merge-summary",children:[n.jsxs("div",{className:"summary-section",children:[n.jsx("h4",{children:"Primary Contact (will survive)"}),n.jsxs("div",{className:"summary-contact primary",children:[n.jsx("div",{className:"contact-avatar",children:(P?.name||"U")[0].toUpperCase()}),n.jsxs("div",{className:"contact-info",children:[n.jsx("strong",{children:P?.name||"Unknown"}),n.jsx("span",{children:P?.email||"-"}),n.jsx("span",{children:P?.phone||"-"})]})]})]}),n.jsx("div",{className:"merge-arrow",children:n.jsx("span",{children:" Merging into"})}),n.jsxs("div",{className:"summary-section",children:[n.jsxs("h4",{children:["Contacts to Merge (",ye.length,")"]}),ye.map(ve=>n.jsxs("div",{className:"summary-contact secondary",children:[n.jsx("div",{className:"contact-avatar secondary",children:(ve.name||"U")[0].toUpperCase()}),n.jsxs("div",{className:"contact-info",children:[n.jsx("strong",{children:ve.name||"Unknown"}),n.jsx("span",{children:ve.email||"-"}),n.jsx("span",{children:ve.phone||"-"})]})]},ve.id))]})]}),n.jsxs("div",{className:"merge-effects",children:[n.jsx("h4",{children:"What will happen:"}),n.jsxs("ul",{children:[n.jsx("li",{children:" All conversations will be linked to the primary contact"}),n.jsx("li",{children:" Secondary contact values will be saved as aliases"}),n.jsx("li",{children:" Merge history will be recorded for audit"}),n.jsx("li",{children:" Secondary contacts will be marked as merged (hidden from lists)"})]})]})]})};return n.jsx("div",{className:"modal-overlay",onClick:u,children:n.jsxs("div",{className:"modal merge-modal",onClick:P=>P.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{children:" Merge Contacts"}),n.jsx("button",{className:"close-btn",onClick:u,disabled:B,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"merge-progress",children:[n.jsxs("div",{className:`progress-step ${o>=1?"active":""} ${o>1?"completed":""}`,children:[n.jsx("span",{className:"step-number",children:"1"}),n.jsx("span",{className:"step-label",children:"Select Primary"})]}),n.jsx("div",{className:"progress-line"}),n.jsxs("div",{className:`progress-step ${o>=2?"active":""} ${o>2?"completed":""}`,children:[n.jsx("span",{className:"step-number",children:"2"}),n.jsx("span",{className:"step-label",children:"Resolve Conflicts"})]}),n.jsx("div",{className:"progress-line"}),n.jsxs("div",{className:`progress-step ${o>=3?"active":""}`,children:[n.jsx("span",{className:"step-number",children:"3"}),n.jsx("span",{className:"step-label",children:"Confirm"})]})]}),N&&n.jsx("div",{className:"error-message",children:N}),h?n.jsxs("div",{className:"loading-state",children:[n.jsx("div",{className:"spinner"}),n.jsx("p",{children:"Loading merge preview..."})]}):n.jsxs(n.Fragment,{children:[o===1&&O(),o===2&&ne(),o===3&&re()]})]}),n.jsxs("div",{className:"modal-footer",children:[o>1&&n.jsx("button",{className:"btn-back",onClick:se,disabled:B,children:" Back"}),n.jsxs("div",{className:"footer-right",children:[n.jsx("button",{className:"btn-cancel",onClick:u,disabled:B,children:"Cancel"}),o<3?n.jsx("button",{className:"btn-next",onClick:M,disabled:h||!S,children:"Next "}):n.jsx("button",{className:"btn-merge",onClick:ae,disabled:B,children:B?"Merging...":"Confirm Merge"})]})]})]})})}function tj(){const{user:i,selectedTenantId:r}=Kt(),u=aa(),[o,f]=v.useState(""),[h,g]=v.useState(null),[N,y]=v.useState(null),[x,m]=v.useState([]),[S,z]=v.useState(!1),[H,F]=v.useState(null),[B,$]=v.useState(!1),K=v.useCallback(async()=>{try{const ie=await ce.getContacts();return Array.isArray(ie)?ie:ie?.items?ie.items:ie.contacts||[]}catch(ie){if(ie.message?.includes("Not Found")||ie.message?.includes("not found"))return[];throw ie}},[]),{data:V,loading:U,error:M,refetch:se}=Ea(K,{defaultValue:[],deps:[r]});v.useEffect(()=>{(r||i&&!i.is_global_admin)&&se()},[u.key]);const ae=i?.is_global_admin&&!r,Q=V.filter(ie=>(ie.name||"").toLowerCase().includes(o.toLowerCase())||(ie.phone||"").includes(o)||(ie.email||"").toLowerCase().includes(o.toLowerCase())),Y=(ie,C)=>{ie.stopPropagation(),g(C)},O=(ie,C)=>{ie.stopPropagation(),y(C)},ne=()=>{y(null),se()},re=async ie=>{$(!0);try{await ce.deleteContact(ie.id),F(null),se()}catch(C){alert(C.message||"Failed to delete contact")}finally{$(!1)}},P=ie=>{m(C=>C.some(le=>le.id===ie.id)?C.filter(le=>le.id!==ie.id):[...C,ie])},ye=()=>{z(!1),m([]),se()},ve=()=>{m([])};return ae?n.jsx("div",{className:"contacts-page",children:n.jsx(Qe,{icon:"",title:"Select a tenant to view contacts",description:"Please select a tenant from the dropdown above to view their contacts."})}):U?n.jsx(nt,{message:"Loading contacts...",fullPage:!0}):M?M.includes("Tenant context required")||M.includes("Tenant context")?n.jsx("div",{className:"contacts-page",children:n.jsx(Qe,{icon:"",title:"Select a tenant to view contacts",description:"Please select a tenant from the dropdown above to view their contacts."})}):M.includes("Not Found")||M.includes("not found")?n.jsxs("div",{className:"contacts-page",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Contacts"}),n.jsx("div",{className:"search-box",children:n.jsx("input",{type:"text",placeholder:"Search contacts...",value:o,onChange:ie=>f(ie.target.value),disabled:!0})})]}),n.jsx(Qe,{icon:"",title:"No verified contacts yet",description:"Contacts will appear here once they opt in through the chatbot."})]}):n.jsx("div",{className:"contacts-page",children:n.jsx(Pt,{message:M,onRetry:se})}):n.jsxs("div",{className:"contacts-page",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Contacts"}),n.jsx("div",{className:"header-actions",children:n.jsx("div",{className:"search-box",children:n.jsx("input",{type:"text",placeholder:"Search contacts...",value:o,onChange:ie=>f(ie.target.value)})})})]}),x.length>0&&n.jsxs("div",{className:"merge-selection-bar",children:[n.jsxs("span",{className:"merge-count",children:[x.length," contact",x.length>1?"s":""," selected"]}),n.jsxs("div",{className:"merge-actions",children:[n.jsx("button",{className:"btn-cancel-merge",onClick:ve,children:"Cancel"}),n.jsx("button",{className:"btn-merge",onClick:()=>z(!0),disabled:x.length<2,children:"Merge Selected"})]})]}),V.length===0?n.jsx(Qe,{icon:"",title:"No verified contacts yet",description:"Contacts will appear here once they opt in through the chatbot."}):n.jsxs("div",{className:"contacts-table-container",children:[n.jsxs("table",{className:"contacts-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"th-checkbox",children:n.jsx("span",{className:"merge-hint",title:"Select contacts to merge",children:"Merge"})}),n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Phone"}),n.jsx("th",{children:"Email"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Added"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:Q.map(ie=>{const C=x.some(E=>E.id===ie.id);return n.jsxs("tr",{className:C?"selected-for-merge":"",children:[n.jsx("td",{className:"td-checkbox",children:n.jsx("input",{type:"checkbox",checked:C,onChange:()=>P(ie),title:"Select for merge"})}),n.jsx("td",{children:n.jsxs("div",{className:"contact-name",children:[n.jsx("div",{className:"avatar",children:(ie.name||"U")[0].toUpperCase()}),ie.name||"Unknown"]})}),n.jsx("td",{children:ie.phone||"-"}),n.jsx("td",{children:ie.email||"-"}),n.jsx("td",{children:n.jsx("span",{className:`status ${ie.opt_in_status||"verified"}`,children:ie.opt_in_status||"Verified"})}),n.jsx("td",{children:new Date(ie.created_at).toLocaleDateString()}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"btn-action btn-chat",onClick:E=>Y(E,ie),title:"View conversation history",children:""}),n.jsx("button",{className:"btn-action btn-edit",onClick:E=>O(E,ie),title:"Edit contact",children:""}),n.jsx("button",{className:"btn-action btn-delete",onClick:E=>{E.stopPropagation(),F(ie)},title:"Delete contact",children:""})]})})]},ie.id)})})]}),Q.length===0&&o&&n.jsx(Qe,{icon:"",title:"No matches found",description:`No contacts match "${o}". Try a different search term.`})]}),h&&n.jsx(Ib,{contact:h,onClose:()=>g(null)}),N&&n.jsx(Wm,{contact:N,onSuccess:ne,onCancel:()=>y(null)}),S&&x.length>=2&&n.jsx(ej,{contacts:x,onSuccess:ye,onCancel:()=>z(!1)}),H&&n.jsx("div",{className:"modal-overlay",onClick:()=>!B&&F(null),children:n.jsxs("div",{className:"modal delete-modal",onClick:ie=>ie.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{children:"Delete Contact"}),n.jsx("button",{className:"close-btn",onClick:()=>F(null),disabled:B,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsx("p",{children:"Are you sure you want to permanently delete this contact?"}),n.jsxs("div",{className:"delete-contact-info",children:[n.jsx("strong",{children:H.name||"Unknown"}),n.jsx("span",{children:H.email||H.phone||"No contact info"})]}),n.jsx("p",{className:"warning-text",children:"This action cannot be undone. All associated data will be permanently removed."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn-cancel",onClick:()=>F(null),disabled:B,children:"Cancel"}),n.jsx("button",{className:"btn-delete-confirm",onClick:()=>re(H),disabled:B,children:B?"Deleting...":"Delete Contact"})]})]})})]})}function ym(i){if(!i)return"-";const r=Math.floor(i/60),u=i%60;return`${r}:${u.toString().padStart(2,"0")}`}const xm={pricing_info:"Pricing",hours_location:"Hours/Location",booking_request:"Booking",support_request:"Support",wrong_number:"Wrong Number",general_inquiry:"General",unknown:"Unknown"};function aj(){const{id:i}=Dm(),r=Jt(),[u,o]=v.useState(!1),[f,h]=v.useState([]),[g,N]=v.useState(!0),[y,x]=v.useState([]),[m,S]=v.useState(!0),[z,H]=v.useState({alias_type:"email",value:""}),[F,B]=v.useState(!1),[$,K]=v.useState(""),[V,U]=v.useState([]),[M,se]=v.useState(!0),[ae,Q]=v.useState(null),[Y,O]=v.useState([]),[ne,re]=v.useState(!0),P=v.useCallback(async()=>await ce.getContact(i,!0),[i]),ye=v.useCallback(async()=>{try{return await ce.getContactConversation(i)}catch{return null}},[i]),{data:ve,loading:ie,error:C,refetch:E}=Ea(P),{data:le,loading:de}=Ea(ye);v.useEffect(()=>{i&&(q(),I(),pe(),j())},[i]);const pe=async()=>{se(!0);try{const X=await ce.getCallsForContact(i);U(X||[])}catch(X){console.error("Failed to fetch calls:",X)}finally{se(!1)}},j=async()=>{re(!0);try{const X=await ce.getEmailConversationsForContact(i);O(X||[])}catch(X){console.error("Failed to fetch email conversations:",X)}finally{re(!1)}},q=async()=>{N(!0);try{const X=await ce.getContactAliases(i);h(X||[])}catch(X){console.error("Failed to fetch aliases:",X)}finally{N(!1)}},I=async()=>{S(!0);try{const X=await ce.getMergeHistory(i);x(X||[])}catch(X){console.error("Failed to fetch merge history:",X)}finally{S(!1)}},te=async()=>{if(z.value.trim()){B(!0),K("");try{const X=await ce.addContactAlias(i,{alias_type:z.alias_type,value:z.value.trim(),is_primary:!1});h(Ge=>[...Ge,X]),H({alias_type:"email",value:""})}catch(X){K(X.message||"Failed to add alias")}finally{B(!1)}}},fe=async X=>{try{await ce.removeContactAlias(i,X),h(Ge=>Ge.filter(vt=>vt.id!==X))}catch(Ge){K(Ge.message||"Failed to remove alias")}},ge=async(X,Ge)=>{try{await ce.setPrimaryAlias(i,X),h(vt=>vt.map(rt=>({...rt,is_primary:rt.id===X?!0:rt.alias_type===Ge?!1:rt.is_primary}))),E()}catch(vt){K(vt.message||"Failed to set primary alias")}},we=()=>{o(!1),E(),q()},He={email:f.filter(X=>X.alias_type==="email"),phone:f.filter(X=>X.alias_type==="phone"),name:f.filter(X=>X.alias_type==="name")};return ie?n.jsx(nt,{message:"Loading contact...",fullPage:!0}):C?n.jsx("div",{className:"contact-detail-page",children:n.jsx(Pt,{message:C,onRetry:()=>r("/contacts")})}):ve?n.jsxs("div",{className:"contact-detail-page",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("button",{className:"back-btn",onClick:()=>r("/contacts"),children:" Back to Contacts"}),n.jsx("div",{className:"header-actions",children:n.jsx("button",{className:"btn-edit",onClick:()=>o(!0),children:" Edit Contact"})})]}),$&&n.jsx("div",{className:"error-banner",children:$}),n.jsxs("div",{className:"contact-detail-grid",children:[n.jsxs("div",{className:"contact-info-card",children:[n.jsx("div",{className:"contact-avatar-large",children:(ve.name||"U")[0].toUpperCase()}),n.jsx("h2",{children:ve.name||"Unknown"}),n.jsxs("div",{className:"contact-details",children:[n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"label",children:"Email:"}),n.jsx("span",{className:"value",children:ve.email||"-"})]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"label",children:"Phone:"}),n.jsx("span",{className:"value",children:ve.phone||"-"})]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"label",children:"Source:"}),n.jsx("span",{className:"value",children:ve.source||"web_chat"})]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"label",children:"Added:"}),n.jsx("span",{className:"value",children:new Date(ve.created_at).toLocaleDateString()})]})]})]}),n.jsxs("div",{className:"aliases-card",children:[n.jsx("h3",{children:"Aliases & Alternate Identifiers"}),n.jsx("p",{className:"card-description",children:"Manage alternate emails, phone numbers, and name spellings for this contact."}),g?n.jsx(nt,{message:"Loading aliases..."}):n.jsxs("div",{className:"aliases-content",children:[n.jsxs("div",{className:"alias-group",children:[n.jsx("h4",{children:"Emails"}),He.email.length>0?n.jsx("div",{className:"alias-list",children:He.email.map(X=>n.jsxs("div",{className:`alias-item ${X.is_primary?"primary":""}`,children:[n.jsx("span",{className:"alias-value",children:X.value}),X.is_primary?n.jsx("span",{className:"primary-badge",children:"Primary"}):n.jsxs("div",{className:"alias-actions",children:[n.jsx("button",{className:"btn-set-primary",onClick:()=>ge(X.id,"email"),children:"Set Primary"}),n.jsx("button",{className:"btn-remove-alias",onClick:()=>fe(X.id),children:""})]})]},X.id))}):n.jsx("p",{className:"no-aliases",children:"No email aliases"})]}),n.jsxs("div",{className:"alias-group",children:[n.jsx("h4",{children:"Phone Numbers"}),He.phone.length>0?n.jsx("div",{className:"alias-list",children:He.phone.map(X=>n.jsxs("div",{className:`alias-item ${X.is_primary?"primary":""}`,children:[n.jsx("span",{className:"alias-value",children:X.value}),X.is_primary?n.jsx("span",{className:"primary-badge",children:"Primary"}):n.jsxs("div",{className:"alias-actions",children:[n.jsx("button",{className:"btn-set-primary",onClick:()=>ge(X.id,"phone"),children:"Set Primary"}),n.jsx("button",{className:"btn-remove-alias",onClick:()=>fe(X.id),children:""})]})]},X.id))}):n.jsx("p",{className:"no-aliases",children:"No phone aliases"})]}),n.jsxs("div",{className:"alias-group",children:[n.jsx("h4",{children:"Name Variations"}),He.name.length>0?n.jsx("div",{className:"alias-list",children:He.name.map(X=>n.jsxs("div",{className:`alias-item ${X.is_primary?"primary":""}`,children:[n.jsx("span",{className:"alias-value",children:X.value}),X.is_primary?n.jsx("span",{className:"primary-badge",children:"Primary"}):n.jsxs("div",{className:"alias-actions",children:[n.jsx("button",{className:"btn-set-primary",onClick:()=>ge(X.id,"name"),children:"Set Primary"}),n.jsx("button",{className:"btn-remove-alias",onClick:()=>fe(X.id),children:""})]})]},X.id))}):n.jsx("p",{className:"no-aliases",children:"No name variations"})]}),n.jsxs("div",{className:"add-alias-section",children:[n.jsx("h4",{children:"Add New Alias"}),n.jsxs("div",{className:"add-alias-form",children:[n.jsxs("select",{value:z.alias_type,onChange:X=>H(Ge=>({...Ge,alias_type:X.target.value})),disabled:F,children:[n.jsx("option",{value:"email",children:"Email"}),n.jsx("option",{value:"phone",children:"Phone"}),n.jsx("option",{value:"name",children:"Name"})]}),n.jsx("input",{type:"text",value:z.value,onChange:X=>H(Ge=>({...Ge,value:X.target.value})),placeholder:`Enter ${z.alias_type}...`,disabled:F}),n.jsx("button",{className:"btn-add-alias",onClick:te,disabled:F||!z.value.trim(),children:F?"Adding...":"Add"})]})]})]})]}),y.length>0&&n.jsxs("div",{className:"merge-history-card",children:[n.jsx("h3",{children:"Merge History"}),n.jsx("p",{className:"card-description",children:"Contacts that have been merged into this record."}),n.jsx("div",{className:"merge-history-list",children:y.map(X=>n.jsxs("div",{className:"merge-entry",children:[n.jsxs("div",{className:"merge-entry-header",children:[n.jsx("span",{className:"merge-date",children:X.merged_at?new Date(X.merged_at).toLocaleDateString():"Unknown date"}),X.merged_by&&n.jsxs("span",{className:"merge-by",children:["by ",X.merged_by]})]}),X.merged_contact_data&&n.jsxs("div",{className:"merge-contact-data",children:[n.jsxs("span",{children:[n.jsx("strong",{children:"Name:"})," ",X.merged_contact_data.name||"-"]}),n.jsxs("span",{children:[n.jsx("strong",{children:"Email:"})," ",X.merged_contact_data.email||"-"]}),n.jsxs("span",{children:[n.jsx("strong",{children:"Phone:"})," ",X.merged_contact_data.phone||"-"]})]})]},X.id))})]}),n.jsxs("div",{className:"emails-card",children:[n.jsx("h3",{children:" Email Conversations"}),ne?n.jsx(nt,{message:"Loading emails..."}):Y.length>0?n.jsx("div",{className:"emails-list",children:Y.map(X=>n.jsxs("div",{className:"email-item",children:[n.jsxs("div",{className:"email-item-header",children:[n.jsx("span",{className:"email-subject",children:X.subject||"(No subject)"}),n.jsx("span",{className:`email-status status-${X.status}`,children:X.status})]}),n.jsxs("div",{className:"email-item-body",children:[n.jsx("span",{className:"email-from",children:X.from_email}),n.jsxs("span",{className:"email-count",children:[X.message_count," message",X.message_count!==1?"s":""]})]}),n.jsx("div",{className:"email-item-footer",children:n.jsx("span",{className:"email-date",children:X.last_response_at?`Last response: ${new Date(X.last_response_at).toLocaleDateString()}`:`Created: ${new Date(X.created_at).toLocaleDateString()}`})})]},X.id))}):n.jsx(Qe,{icon:"",title:"No email conversations",description:"No email threads found for this contact."})]}),n.jsxs("div",{className:"calls-card",children:[n.jsx("h3",{children:" Voice Calls"}),M?n.jsx(nt,{message:"Loading calls..."}):V.length>0?n.jsx("div",{className:"calls-list",children:V.map(X=>n.jsxs("div",{className:"call-item",onClick:()=>Q(X),children:[n.jsxs("div",{className:"call-item-header",children:[n.jsx("span",{className:"call-date",children:new Date(X.created_at).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}),n.jsx("span",{className:"call-time",children:new Date(X.created_at).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})})]}),n.jsxs("div",{className:"call-item-body",children:[n.jsx("span",{className:"call-duration",children:ym(X.duration)}),X.intent&&n.jsx("span",{className:"call-intent",children:xm[X.intent]||X.intent})]}),X.summary_preview&&n.jsx("div",{className:"call-summary-preview",children:X.summary_preview})]},X.id))}):n.jsx(Qe,{icon:"",title:"No voice calls",description:"No voice calls found for this contact."})]}),n.jsxs("div",{className:"conversation-card",children:[n.jsx("h3",{children:"Conversation History"}),de?n.jsx(nt,{message:"Loading conversation..."}):le&&le.messages?.length>0?n.jsx("div",{className:"messages-list",children:le.messages.map((X,Ge)=>n.jsxs("div",{className:`message ${X.role}`,children:[n.jsx("div",{className:"message-role",children:X.role==="user"?" User":" Bot"}),n.jsx("div",{className:"message-content",children:X.content}),n.jsx("div",{className:"message-time",children:new Date(X.created_at).toLocaleString()})]},Ge))}):n.jsx(Qe,{icon:"",title:"No conversation history",description:"No chat messages found for this contact."})]})]}),ae&&n.jsx("div",{className:"call-detail-modal-overlay",onClick:()=>Q(null),children:n.jsxs("div",{className:"call-detail-modal",onClick:X=>X.stopPropagation(),children:[n.jsxs("div",{className:"call-detail-modal-header",children:[n.jsx("h3",{children:"Call Details"}),n.jsx("button",{className:"btn-close",onClick:()=>Q(null),children:""})]}),n.jsxs("div",{className:"call-detail-modal-body",children:[n.jsxs("div",{className:"call-detail-row",children:[n.jsx("span",{className:"label",children:"Date:"}),n.jsx("span",{className:"value",children:new Date(ae.created_at).toLocaleString()})]}),n.jsxs("div",{className:"call-detail-row",children:[n.jsx("span",{className:"label",children:"Duration:"}),n.jsx("span",{className:"value",children:ym(ae.duration)})]}),n.jsxs("div",{className:"call-detail-row",children:[n.jsx("span",{className:"label",children:"Status:"}),n.jsx("span",{className:"value",children:ae.status})]}),ae.intent&&n.jsxs("div",{className:"call-detail-row",children:[n.jsx("span",{className:"label",children:"Intent:"}),n.jsx("span",{className:"value",children:xm[ae.intent]||ae.intent})]}),ae.outcome&&n.jsxs("div",{className:"call-detail-row",children:[n.jsx("span",{className:"label",children:"Outcome:"}),n.jsx("span",{className:"value",children:ae.outcome.replace("_"," ")})]}),ae.summary_preview&&n.jsxs("div",{className:"call-detail-summary",children:[n.jsx("span",{className:"label",children:"Summary:"}),n.jsx("p",{children:ae.summary_preview})]}),ae.recording_url&&n.jsx("div",{className:"call-detail-recording",children:n.jsx("a",{href:ae.recording_url,target:"_blank",rel:"noopener noreferrer",className:"btn-listen",children:" Listen to Recording"})})]})]})}),u&&n.jsx(Wm,{contact:ve,onSuccess:we,onCancel:()=>o(!1)})]}):n.jsx("div",{className:"contact-detail-page",children:n.jsx(Qe,{icon:"",title:"Contact not found"})})}function bm(i){if(!i)return"-";const r=Math.floor(i/60),u=i%60;return`${r}:${u.toString().padStart(2,"0")}`}function jm(i){return i?i.length===12&&i.startsWith("+1")?`(${i.slice(2,5)}) ${i.slice(5,8)}-${i.slice(8)}`:i:"-"}const wn={pricing_info:{label:"Pricing",color:"#8b5cf6"},hours_location:{label:"Hours/Location",color:"#06b6d4"},booking_request:{label:"Booking",color:"#10b981"},support_request:{label:"Support",color:"#f59e0b"},wrong_number:{label:"Wrong Number",color:"#ef4444"},general_inquiry:{label:"General",color:"#6b7280"},unknown:{label:"Unknown",color:"#9ca3af"}},_n={lead_created:{label:"Lead Captured",color:"#10b981"},info_provided:{label:"Info Provided",color:"#3b82f6"},booking_requested:{label:"Booking Requested",color:"#8b5cf6"},voicemail:{label:"Voicemail",color:"#f59e0b"},transferred:{label:"Transferred",color:"#06b6d4"},dismissed:{label:"Dismissed",color:"#ef4444"},incomplete:{label:"Incomplete",color:"#9ca3af"}};function nj(){const{user:i,selectedTenantId:r}=Kt(),[u,o]=v.useState(1),[f,h]=v.useState(null),[g,N]=v.useState({intent:"",outcome:"",status:""}),y=v.useCallback(async()=>{try{const M={page:u,page_size:20};return g.intent&&(M.intent=g.intent),g.outcome&&(M.outcome=g.outcome),g.status&&(M.status=g.status),await ce.getCalls(M)}catch(M){if(M.message?.includes("Not Found")||M.message?.includes("not found"))return{calls:[],total:0,page:1,page_size:20,has_more:!1};throw M}},[u,g]),{data:x,loading:m,error:S,refetch:z}=Ea(y,{defaultValue:{calls:[],total:0,page:1,page_size:20,has_more:!1}}),{calls:H,total:F,has_more:B}=x,$=i?.is_global_admin&&!r,K=(M,se)=>{N(ae=>({...ae,[M]:se})),o(1)},V=()=>{N({intent:"",outcome:"",status:""}),o(1)},U=g.intent||g.outcome||g.status;return $?n.jsx("div",{className:"calls-page",children:n.jsx(Qe,{icon:"",title:"Select a tenant to view calls",description:"Please select a tenant from the dropdown above to view their call history."})}):m&&H.length===0?n.jsx(nt,{message:"Loading calls...",fullPage:!0}):S&&H.length===0?n.jsx("div",{className:"calls-page",children:n.jsx(Pt,{message:S,onRetry:z})}):n.jsxs("div",{className:"calls-page",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Voice Calls"}),n.jsx("div",{className:"calls-stats",children:n.jsxs("span",{className:"stat-item",children:[n.jsx("span",{className:"stat-number",children:F}),n.jsx("span",{className:"stat-label",children:"Total Calls"})]})})]}),n.jsxs("div",{className:"calls-filters",children:[n.jsxs("div",{className:"filter-group",children:[n.jsx("label",{children:"Intent"}),n.jsxs("select",{value:g.intent,onChange:M=>K("intent",M.target.value),children:[n.jsx("option",{value:"",children:"All Intents"}),Object.entries(wn).map(([M,{label:se}])=>n.jsx("option",{value:M,children:se},M))]})]}),n.jsxs("div",{className:"filter-group",children:[n.jsx("label",{children:"Outcome"}),n.jsxs("select",{value:g.outcome,onChange:M=>K("outcome",M.target.value),children:[n.jsx("option",{value:"",children:"All Outcomes"}),Object.entries(_n).map(([M,{label:se}])=>n.jsx("option",{value:M,children:se},M))]})]}),n.jsxs("div",{className:"filter-group",children:[n.jsx("label",{children:"Status"}),n.jsxs("select",{value:g.status,onChange:M=>K("status",M.target.value),children:[n.jsx("option",{value:"",children:"All Statuses"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"busy",children:"Busy"}),n.jsx("option",{value:"no-answer",children:"No Answer"}),n.jsx("option",{value:"failed",children:"Failed"})]})]}),U&&n.jsx("button",{className:"btn-clear-filters",onClick:V,children:"Clear Filters"})]}),H.length===0?n.jsx(Qe,{icon:"",title:"No calls yet",description:U?"No calls match your filters. Try adjusting the filters.":"Voice calls will appear here once customers start calling."}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"calls-table-container",children:n.jsxs("table",{className:"calls-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Date & Time"}),n.jsx("th",{children:"Caller"}),n.jsx("th",{children:"Duration"}),n.jsx("th",{children:"Intent"}),n.jsx("th",{children:"Outcome"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:H.map(M=>n.jsxs("tr",{onClick:()=>h(M),className:"clickable-row",children:[n.jsxs("td",{className:"date-cell",children:[new Date(M.created_at).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),n.jsx("span",{className:"time-sub",children:new Date(M.created_at).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})})]}),n.jsx("td",{children:jm(M.from_number)}),n.jsx("td",{children:bm(M.duration)}),n.jsx("td",{children:M.summary?.intent?n.jsx("span",{className:"badge intent-badge",style:{backgroundColor:`${wn[M.summary.intent]?.color}20`,color:wn[M.summary.intent]?.color},children:wn[M.summary.intent]?.label||M.summary.intent}):n.jsx("span",{className:"badge badge-empty",children:"-"})}),n.jsx("td",{children:M.summary?.outcome?n.jsx("span",{className:"badge outcome-badge",style:{backgroundColor:`${_n[M.summary.outcome]?.color}20`,color:_n[M.summary.outcome]?.color},children:_n[M.summary.outcome]?.label||M.summary.outcome}):n.jsx("span",{className:"badge badge-empty",children:"-"})}),n.jsx("td",{children:n.jsx("span",{className:`badge status-badge status-${M.status}`,children:M.status})}),n.jsxs("td",{className:"actions-cell",onClick:se=>se.stopPropagation(),children:[n.jsx("button",{className:"btn-action",onClick:()=>h(M),title:"View Details",children:""}),M.recording_url&&n.jsx("a",{href:M.recording_url,target:"_blank",rel:"noopener noreferrer",className:"btn-action",title:"Listen to Recording",children:""})]})]},M.id))})]})}),n.jsxs("div",{className:"calls-pagination",children:[n.jsx("button",{className:"btn-page",onClick:()=>o(M=>Math.max(1,M-1)),disabled:u===1,children:"Previous"}),n.jsxs("span",{className:"page-info",children:["Page ",u," of ",Math.ceil(F/20)||1]}),n.jsx("button",{className:"btn-page",onClick:()=>o(M=>M+1),disabled:!B,children:"Next"})]})]}),f&&n.jsx("div",{className:"call-modal-overlay",onClick:()=>h(null),children:n.jsxs("div",{className:"call-modal",onClick:M=>M.stopPropagation(),children:[n.jsxs("div",{className:"call-modal-header",children:[n.jsx("h2",{children:"Call Details"}),n.jsx("button",{className:"btn-close",onClick:()=>h(null),children:""})]}),n.jsxs("div",{className:"call-modal-body",children:[n.jsxs("div",{className:"call-detail-grid",children:[n.jsxs("div",{className:"detail-item",children:[n.jsx("label",{children:"Caller"}),n.jsx("span",{children:jm(f.from_number)})]}),n.jsxs("div",{className:"detail-item",children:[n.jsx("label",{children:"Date & Time"}),n.jsx("span",{children:new Date(f.created_at).toLocaleString()})]}),n.jsxs("div",{className:"detail-item",children:[n.jsx("label",{children:"Duration"}),n.jsx("span",{children:bm(f.duration)})]}),n.jsxs("div",{className:"detail-item",children:[n.jsx("label",{children:"Status"}),n.jsx("span",{className:`badge status-badge status-${f.status}`,children:f.status})]}),f.summary?.intent&&n.jsxs("div",{className:"detail-item",children:[n.jsx("label",{children:"Intent"}),n.jsx("span",{className:"badge intent-badge",style:{backgroundColor:`${wn[f.summary.intent]?.color}20`,color:wn[f.summary.intent]?.color},children:wn[f.summary.intent]?.label})]}),f.summary?.outcome&&n.jsxs("div",{className:"detail-item",children:[n.jsx("label",{children:"Outcome"}),n.jsx("span",{className:"badge outcome-badge",style:{backgroundColor:`${_n[f.summary.outcome]?.color}20`,color:_n[f.summary.outcome]?.color},children:_n[f.summary.outcome]?.label})]})]}),f.summary?.summary_text&&n.jsxs("div",{className:"call-summary-section",children:[n.jsx("h3",{children:"Summary"}),n.jsx("p",{children:f.summary.summary_text})]}),f.summary?.extracted_fields&&n.jsxs("div",{className:"call-extracted-section",children:[n.jsx("h3",{children:"Extracted Information"}),n.jsxs("div",{className:"extracted-grid",children:[f.summary.extracted_fields.name&&n.jsxs("div",{className:"extracted-item",children:[n.jsx("label",{children:"Name"}),n.jsx("span",{children:f.summary.extracted_fields.name})]}),f.summary.extracted_fields.email&&n.jsxs("div",{className:"extracted-item",children:[n.jsx("label",{children:"Email"}),n.jsx("span",{children:f.summary.extracted_fields.email})]}),f.summary.extracted_fields.reason&&n.jsxs("div",{className:"extracted-item full-width",children:[n.jsx("label",{children:"Reason for Calling"}),n.jsx("span",{children:f.summary.extracted_fields.reason})]}),f.summary.extracted_fields.urgency&&n.jsxs("div",{className:"extracted-item",children:[n.jsx("label",{children:"Urgency"}),n.jsx("span",{className:`urgency-${f.summary.extracted_fields.urgency}`,children:f.summary.extracted_fields.urgency})]}),f.summary.extracted_fields.preferred_callback_time&&n.jsxs("div",{className:"extracted-item",children:[n.jsx("label",{children:"Preferred Callback"}),n.jsx("span",{children:f.summary.extracted_fields.preferred_callback_time})]})]})]}),f.recording_url&&n.jsxs("div",{className:"call-recording-section",children:[n.jsx("h3",{children:"Recording"}),n.jsx("a",{href:f.recording_url,target:"_blank",rel:"noopener noreferrer",className:"btn-recording",children:" Listen to Recording"})]})]})]})})]})}function lj(){const{user:i,selectedTenantId:r}=Kt(),u=Jt(),[o,f]=v.useState(""),h=v.useCallback(async()=>{const B=await ce.getLeads({status:"unknown"});return Array.isArray(B)?B:B.leads||[]},[]),{data:g,loading:N,error:y,refetch:x}=Ea(h,{defaultValue:[]}),m=i?.is_global_admin&&!r,S=g.filter(B=>(B.name||"").toLowerCase().includes(o.toLowerCase())||(B.phone||"").includes(o)||(B.email||"").toLowerCase().includes(o.toLowerCase())),z=B=>{u(`/analytics/unknowns/${B.id}`)},H=async B=>{try{await ce.updateLeadStatus(B,"verified"),x()}catch($){console.error("Failed to verify lead:",$)}},F=async(B,$)=>{if(confirm(`Are you sure you want to delete "${$||"this lead"}"? This action cannot be undone.`))try{await ce.deleteLead(B),x()}catch(K){console.error("Failed to delete lead:",K)}};return m?n.jsx("div",{className:"unknown-leads-page",children:n.jsx(Qe,{icon:"",title:"Select a tenant",description:"Please select a tenant from the dropdown above."})}):N?n.jsx(nt,{message:"Loading unknown leads...",fullPage:!0}):y?n.jsx("div",{className:"unknown-leads-page",children:n.jsx(Pt,{message:y,onRetry:x})}):n.jsxs("div",{className:"unknown-leads-page",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Unknown Leads"}),n.jsx("p",{className:"page-description",children:"Leads marked as unknown - review their conversations to verify or dismiss."}),n.jsx("div",{className:"search-box",children:n.jsx("input",{type:"text",placeholder:"Search unknown leads...",value:o,onChange:B=>f(B.target.value)})})]}),g.length===0?n.jsx(Qe,{icon:"",title:"No unknown leads",description:"All leads have been verified or are pending review."}):n.jsxs("div",{className:"leads-table-container",children:[n.jsxs("table",{className:"leads-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Email"}),n.jsx("th",{children:"Phone"}),n.jsx("th",{children:"Date"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:S.map(B=>n.jsxs("tr",{children:[n.jsx("td",{children:B.name||"Unknown"}),n.jsx("td",{children:B.email||"-"}),n.jsx("td",{children:B.phone||"-"}),n.jsx("td",{children:new Date(B.created_at).toLocaleDateString()}),n.jsxs("td",{className:"actions",children:[n.jsx("button",{className:"btn-view",onClick:()=>z(B),children:"View Chat"}),n.jsx("button",{className:"btn-verify",onClick:()=>H(B.id),children:" Verify"}),n.jsx("button",{className:"btn-delete",onClick:()=>F(B.id,B.name),children:" Delete"})]})]},B.id))})]}),S.length===0&&o&&n.jsx(Qe,{icon:"",title:"No matches found",description:`No leads match "${o}".`})]})]})}function sj(){const{id:i}=Dm(),r=Jt(),u=v.useCallback(async()=>await ce.getLead(i),[i]),o=v.useCallback(async()=>{try{return await ce.getLeadConversation(i)}catch{return null}},[i]),{data:f,loading:h,error:g}=Ea(u),{data:N,loading:y}=Ea(o),x=async()=>{try{await ce.updateLeadStatus(i,"verified"),r("/contacts")}catch(S){console.error("Failed to verify:",S)}},m=async()=>{try{await ce.updateLeadStatus(i,"dismissed"),r("/analytics/unknowns")}catch(S){console.error("Failed to dismiss:",S)}};return h?n.jsx(nt,{message:"Loading lead...",fullPage:!0}):g?n.jsx("div",{className:"contact-detail-page",children:n.jsx(Pt,{message:g,onRetry:()=>r("/analytics/unknowns")})}):f?n.jsxs("div",{className:"contact-detail-page",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("button",{className:"back-btn",onClick:()=>r("/analytics/unknowns"),children:" Back to Unknown Leads"}),n.jsx("h1",{children:"Review Lead"})]}),n.jsxs("div",{className:"contact-detail-grid",children:[n.jsxs("div",{className:"contact-info-card",children:[n.jsx("div",{className:"contact-avatar-large",style:{background:"#f59e0b"},children:(f.name||"?")[0].toUpperCase()}),n.jsx("h2",{children:f.name||"Unknown"}),n.jsx("span",{className:"status-badge unknown",children:"Unknown"}),n.jsxs("div",{className:"contact-details",children:[n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"label",children:"Email:"}),n.jsx("span",{className:"value",children:f.email||"-"})]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"label",children:"Phone:"}),n.jsx("span",{className:"value",children:f.phone||"-"})]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"label",children:"Created:"}),n.jsx("span",{className:"value",children:new Date(f.created_at).toLocaleDateString()})]})]}),n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"btn-verify-large",onClick:x,children:" Verify as Contact"}),n.jsx("button",{className:"btn-dismiss",onClick:m,children:" Dismiss"})]})]}),n.jsxs("div",{className:"conversation-card",children:[n.jsx("h3",{children:"Conversation History"}),y?n.jsx(nt,{message:"Loading conversation..."}):N&&N.messages?.length>0?n.jsx("div",{className:"messages-list",children:N.messages.map((S,z)=>n.jsxs("div",{className:`message ${S.role}`,children:[n.jsx("div",{className:"message-role",children:S.role==="user"?" User":" Bot"}),n.jsx("div",{className:"message-content",children:S.content}),n.jsx("div",{className:"message-time",children:new Date(S.created_at).toLocaleString()})]},z))}):n.jsx(Qe,{icon:"",title:"No conversation history",description:"No chat messages found for this lead."})]})]})]}):n.jsx("div",{className:"contact-detail-page",children:n.jsx(Qe,{icon:"",title:"Lead not found"})})}function ij(){return n.jsxs("div",{className:"plots-page",children:[n.jsx("h1",{children:"Plots"}),n.jsx("div",{className:"plots-empty",children:n.jsx("p",{children:"Analytics plots coming soon."})})]})}function cj(){const i=Jt(),{refreshProfile:r}=Kt(),[u,o]=v.useState(!0),[f,h]=v.useState(!1),[g,N]=v.useState(""),[y,x]=v.useState({}),[m,S]=v.useState({business_name:"",website_url:"",phone_number:"",twilio_phone:"",email:""}),z=(V,U)=>{const M={...y};switch(V){case"business_name":U.trim()?delete M.business_name:M.business_name="Business name is required";break;case"website_url":if(!U.trim())M.website_url="Website URL is required";else try{new URL(U),delete M.website_url}catch{M.website_url="Please enter a valid URL (e.g., https://example.com)"}break;case"phone_number":U.trim()?!/^[\d\s\-+()]+$/.test(U)||U.replace(/\D/g,"").length<10?M.phone_number="Please enter a valid phone number":delete M.phone_number:M.phone_number="Phone number is required";break;case"email":U.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(U)?delete M.email:M.email="Please enter a valid email address":M.email="Email is required";break;case"twilio_phone":U.trim()&&(!/^[\d\s\-+()]+$/.test(U)||U.replace(/\D/g,"").length<10)?M.twilio_phone="Please enter a valid phone number":delete M.twilio_phone;break}return x(M),Object.keys(M).length===0},H=v.useCallback(async()=>{o(!0),N("");try{const V=await ce.getBusinessProfile();S({business_name:V.business_name||"",website_url:V.website_url||"",phone_number:V.phone_number||"",twilio_phone:V.twilio_phone||"",email:V.email||""}),V.profile_complete&&i("/")}catch(V){N(V.message||"Failed to load profile. Please try refreshing the page."),console.error("Failed to load profile:",V)}finally{o(!1)}},[i]);v.useEffect(()=>{H()},[H]);const F=V=>{const{name:U,value:M}=V.target;S({...m,[U]:M}),y[U]&&x({...y,[U]:void 0})},B=V=>{z(V.target.name,V.target.value)},$=()=>{const V=["business_name","website_url","phone_number","email"];let U=!0;return V.forEach(M=>{z(M,m[M])||(U=!1)}),m.twilio_phone&&z("twilio_phone",m.twilio_phone),U},K=async V=>{if(V.preventDefault(),N(""),x({}),!$()){N("Please fix the errors below");return}h(!0);try{(await ce.updateBusinessProfile(m)).profile_complete?(r&&await r(),i("/")):N("Please fill in all required fields")}catch(U){N(U.message||"Failed to save profile. Please try again."),console.error("Failed to save profile:",U)}finally{h(!1)}};return u?n.jsx("div",{className:"onboarding-container",children:n.jsx(nt,{message:"Loading your profile...",fullPage:!0})}):g&&!m.business_name&&!m.website_url&&!m.phone_number&&!m.email?n.jsx("div",{className:"onboarding-container",children:n.jsx(Pt,{message:g,onRetry:H})}):n.jsx("div",{className:"onboarding-container",children:n.jsxs("div",{className:"onboarding-card",children:[n.jsx("h1",{children:"Welcome to Chatter Cheetah"}),n.jsx("p",{className:"subtitle",children:"Let's set up your business profile to get started"}),g&&n.jsx("div",{className:"error-message",role:"alert",children:g}),n.jsxs("form",{onSubmit:K,noValidate:!0,children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"business_name",children:["Business Name ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"business_name",name:"business_name",value:m.business_name,onChange:F,onBlur:B,placeholder:"Your Business Name",required:!0,"aria-invalid":!!y.business_name,"aria-describedby":y.business_name?"business_name-error":void 0}),y.business_name&&n.jsx("span",{id:"business_name-error",className:"field-error",role:"alert",children:y.business_name})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"website_url",children:["Website URL (for chatbot) ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"url",id:"website_url",name:"website_url",value:m.website_url,onChange:F,onBlur:B,placeholder:"https://yourbusiness.com",required:!0,"aria-invalid":!!y.website_url,"aria-describedby":y.website_url?"website_url-error":void 0}),y.website_url&&n.jsx("span",{id:"website_url-error",className:"field-error",role:"alert",children:y.website_url})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"phone_number",children:["Phone Number ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"tel",id:"phone_number",name:"phone_number",value:m.phone_number,onChange:F,onBlur:B,placeholder:"+1 (555) 123-4567",required:!0,"aria-invalid":!!y.phone_number,"aria-describedby":y.phone_number?"phone_number-error":void 0}),y.phone_number&&n.jsx("span",{id:"phone_number-error",className:"field-error",role:"alert",children:y.phone_number})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"email",children:["Email Address ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"email",id:"email",name:"email",value:m.email,onChange:F,onBlur:B,placeholder:"contact@yourbusiness.com",required:!0,"aria-invalid":!!y.email,"aria-describedby":y.email?"email-error":void 0}),y.email&&n.jsx("span",{id:"email-error",className:"field-error",role:"alert",children:y.email})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"twilio_phone",children:"Twilio Phone (optional)"}),n.jsx("input",{type:"tel",id:"twilio_phone",name:"twilio_phone",value:m.twilio_phone,onChange:F,onBlur:B,placeholder:"+1 (555) 987-6543","aria-invalid":!!y.twilio_phone,"aria-describedby":y.twilio_phone?"twilio_phone-error":void 0}),y.twilio_phone&&n.jsx("span",{id:"twilio_phone-error",className:"field-error",role:"alert",children:y.twilio_phone}),n.jsx("small",{children:"For automated SMS/calls. Leave blank if not using."})]}),n.jsx("button",{type:"submit",className:"submit-btn",disabled:f,"aria-busy":f,children:f?"Saving...":"Complete Setup"})]})]})})}const rj={business_name:"",website_url:"",phone_number:"",twilio_phone:"",email:""},No=i=>i?(i.provider||"twilio")==="telnyx"?{phone:i.telnyx_phone_number||"",provider:"telnyx",label:"Telnyx Phone Number"}:{phone:i.twilio_phone_number||"",provider:"twilio",label:"Twilio Phone Number"}:{phone:"",provider:"twilio",label:"SMS Phone Number"};function oj(){const{user:i,selectedTenantId:r}=Kt(),[u,o]=v.useState(!1),[f,h]=v.useState(""),[g,N]=v.useState(""),[y,x]=v.useState(rj),[m,S]=v.useState(null),z=v.useCallback(()=>ce.getBusinessProfile(),[]),{data:H,loading:F,error:B,refetch:$}=Ea(z),K=v.useCallback(async()=>{if(!(i?.is_global_admin&&!r))try{const se=await ce.getTelephonyConfig();S(se)}catch(se){console.log("Telephony config not available:",se.message)}},[i,r]);v.useEffect(()=>{K()},[K]);const V=i?.is_global_admin&&!r;v.useEffect(()=>{H&&x({business_name:H.business_name||"",website_url:H.website_url||"",phone_number:H.phone_number||"",twilio_phone:H.twilio_phone||"",email:H.email||""})},[H]);const U=se=>{x({...y,[se.target.name]:se.target.value})},M=async se=>{se.preventDefault(),N(""),h(""),o(!0);try{await ce.updateBusinessProfile(y),h("Profile updated successfully")}catch(ae){N(ae.message||"Failed to save profile")}finally{o(!1)}};return V?n.jsx("div",{className:"settings-page",children:n.jsx(Qe,{icon:"",title:"Select a tenant to manage settings",description:"Please select a tenant from the dropdown above to manage their business profile settings."})}):F?n.jsx("div",{className:"settings-page",children:n.jsx(nt,{message:"Loading settings..."})}):B&&!H?B.includes("Tenant context required")||B.includes("Tenant context")?n.jsx("div",{className:"settings-page",children:n.jsx(Qe,{icon:"",title:"Select a tenant to manage settings",description:"Please select a tenant from the dropdown above to manage their business profile settings."})}):n.jsx("div",{className:"settings-page",children:n.jsx(Pt,{message:B,onRetry:$})}):n.jsxs("div",{className:"settings-page",children:[n.jsx("h1",{children:"Business Profile"}),n.jsx("p",{className:"description",children:"Update your business information used in customer communications."}),g&&n.jsx("div",{className:"error-message",children:g}),f&&n.jsx("div",{className:"success-message",children:f}),n.jsxs("form",{onSubmit:M,className:"settings-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"business_name",children:"Business Name"}),n.jsx("input",{type:"text",id:"business_name",name:"business_name",value:y.business_name,onChange:U,placeholder:"Your Business Name"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"website_url",children:"Website URL"}),n.jsx("input",{type:"url",id:"website_url",name:"website_url",value:y.website_url,onChange:U,placeholder:"https://yourwebsite.com"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"phone_number",children:"Phone Number"}),n.jsx("input",{type:"tel",id:"phone_number",name:"phone_number",value:y.phone_number,onChange:U,placeholder:"(555) 123-4567"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"twilio_phone",children:No(m).label}),n.jsx("input",{type:"tel",id:"twilio_phone",name:"twilio_phone",value:No(m).phone||y.twilio_phone,readOnly:!0,placeholder:"Not configured",className:"readonly-input"}),n.jsxs("small",{children:["Your ",No(m).provider==="telnyx"?"Telnyx":"Twilio"," number for SMS communications."," ",n.jsx("a",{href:"/telephony-settings",children:"Configure in Telephony Settings"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"email",children:"Email Address"}),n.jsx("input",{type:"email",id:"email",name:"email",value:y.email,onChange:U,placeholder:"contact@yourbusiness.com"})]}),n.jsx("button",{type:"submit",className:"save-btn",disabled:u,children:u?"Saving...":"Save Changes"})]})]})}const Nm={colors:{primary:"#007bff",secondary:"#6c757d",background:"#ffffff",text:"#333333",buttonText:"#ffffff",linkColor:"#007bff",borderColor:"#ddd"},typography:{fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif",fontSize:"14px",fontWeight:"400",lineHeight:"1.5",letterSpacing:"normal"},layout:{borderRadius:"10px",boxShadow:"0 4px 20px rgba(0,0,0,0.15)",shadowColor:"rgba(0,0,0,0.15)",opacity:"1",position:"bottom-right",zIndex:"10000",maxWidth:"350px",maxHeight:"500px"},behavior:{openBehavior:"click",autoOpenDelay:0,showOnPages:"*",cooldownDays:0,autoOpenMessageEnabled:!1,autoOpenMessage:""},animations:{type:"none",duration:"0.3s",easing:"ease-in-out"},messages:{welcomeMessage:"Chat with us",placeholder:"Type your message...",sendButtonText:"Send"},accessibility:{darkMode:!1,highContrast:!1,focusOutline:!0},icon:{type:"emoji",emoji:"",imageUrl:"",shape:"circle",customBorderRadius:"50%",size:"medium",customSize:"60px",showLabel:!1,labelText:"",labelPosition:"inside",labelBackgroundColor:"#ffffff",labelTextColor:"#333333",labelFontSize:"12px",fallbackToEmoji:!0},attention:{attentionAnimation:"none",attentionCycles:2,unreadDot:!1,unreadDotColor:"#ff3b30",unreadDotPosition:"top-right"},motion:{launcherVisibility:"immediate",entryAnimation:"none",openAnimation:"none",delaySeconds:8,scrollPercent:35,exitIntentEnabled:!1,exitIntentAction:"show"},microInteractions:{typingIndicator:!1,typingIndicatorDurationMs:1200,blinkCursor:!1,hoverEffect:"scale",buttonAnimation:"none"},copy:{launcherPromptsEnabled:!1,launcherPrompts:["Have a question?","Need help right now?","Get a quick answer"],launcherPromptRotateSeconds:6,contextualPromptsEnabled:!1,contextualPrompts:[{match:"/pricing",text:"Want help choosing a plan?"},{match:"/contact",text:"Prefer texting instead?"}],greetingEnabled:!1,greetingMode:"time",greetingMorning:"Good morning! How can we help?",greetingAfternoon:"Good afternoon! How can we help?",greetingEvening:"Good evening! How can we help?",greetingPageRules:[]},sound:{chimeOnOpen:!1,messageTicks:!1,hapticFeedback:!1,volume:.2},socialProof:{showResponseTime:!1,responseTimeText:"Typically replies in under 1 min",availabilityText:"",showAvatar:!1,avatarUrl:"",agentName:"Cheetah Assistant"},rules:{animateOncePerSession:!0,stopAfterInteraction:!0,maxAnimationSeconds:3,respectReducedMotion:!0,disableOnMobile:!1}},uj=[{label:"System",value:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif"},{label:"Open Sans",value:"'Open Sans', Arial, sans-serif"},{label:"Source Sans 3",value:"'Source Sans 3', 'Source Sans Pro', Arial, sans-serif"},{label:"Roboto",value:"'Roboto', Arial, sans-serif"},{label:"Montserrat",value:"'Montserrat', 'Helvetica Neue', Arial, sans-serif"},{label:"Poppins",value:"'Poppins', 'Helvetica Neue', Arial, sans-serif"},{label:"Playfair Display",value:"'Playfair Display', 'Times New Roman', serif"},{label:"Merriweather",value:"'Merriweather', Georgia, serif"},{label:"Lora",value:"'Lora', Georgia, serif"}],dj={colors:"window",typography:"window",layout:"window",behavior:"window",messages:"window",copy:"window",microInteractions:"window",sound:"window",socialProof:"window",accessibility:"window",icon:"launcher",attention:"launcher",motion:"launcher",rules:"launcher"},fj=[{label:"Speech Bubble",value:""},{label:"Waving Hand",value:""},{label:"Robot",value:""},{label:"Headset",value:""},{label:"Sparkles",value:""},{label:"Lightning",value:""},{label:"Question Mark",value:""},{label:"Chat Bubble",value:""},{label:"Smile",value:""},{label:"Megaphone",value:""}];function hj(){const{user:i,selectedTenantId:r}=Kt(),[u,o]=v.useState(null),[f,h]=v.useState(!1),[g,N]=v.useState(""),[y,x]=v.useState(!1),[m,S]=v.useState(Nm),[z,H]=v.useState(Nm),[F,B]=v.useState(!1),[$,K]=v.useState(""),[V,U]=v.useState(""),[M,se]=v.useState(!1),[ae,Q]=v.useState(!1),[Y,O]=v.useState(""),[ne,re]=v.useState(""),P=v.useRef(null),ye={small:"50px",medium:"60px",large:"75px","extra-large":"90px"},ve=m.icon.size==="custom"?m.icon.customSize||ye.medium:ye[m.icon.size]||ye.medium,ie=(()=>{switch(m.icon.shape){case"rounded-square":return"16px";case"pill":return"999px";case"square":return"6px";case"custom":return m.icon.customBorderRadius||"18px";case"circle":default:return"50%"}})(),C=m.typography.fontFamily||"inherit",E=m.typography.fontSize||"14px",le=m.icon.labelPosition==="beside"?"left":m.icon.labelPosition,de={bounce:1.2,pulse:1.3,glow:1.8,breathing:2.4,"corner-nudge":1.2},pe=m.attention.attentionAnimation,j=de[pe]||1.2,q=Math.max(1,Math.min(m.attention.attentionCycles||1,3)),I=m.layout.position||"bottom-right",te=I.endsWith("right")?-6:6,fe=I.startsWith("bottom")?-6:6,ge=pe&&pe!=="none",we=[m.accessibility.darkMode?"preview-dark":"",m.accessibility.highContrast?"preview-high-contrast":"",m.accessibility.focusOutline?"preview-focus-outline":""].filter(Boolean).join(" "),He=v.useMemo(()=>JSON.stringify(m)!==JSON.stringify(z),[m,z]),X=v.useCallback(async()=>{if(!(i?.is_global_admin&&!r)){h(!0),N("");try{const b=await ce.getEmbedCode();o(b)}catch(b){N(b.message||"Failed to load embed code")}finally{h(!1)}}},[i,r]);v.useEffect(()=>{X()},[X]);const Ge=v.useCallback(async()=>{if(!(i?.is_global_admin&&!r)){se(!0),U("");try{const b=await ce.getWidgetSettings();S(b),H(b)}catch(b){U(b.message||"Failed to load widget settings")}finally{se(!1)}}},[i,r]);v.useEffect(()=>{Ge()},[Ge]),v.useEffect(()=>{if(!He)return;const b=ee=>{ee.preventDefault(),ee.returnValue=""};return window.addEventListener("beforeunload",b),()=>window.removeEventListener("beforeunload",b)},[He]),v.useEffect(()=>()=>{P.current&&clearTimeout(P.current)},[]);const vt=i?.is_global_admin&&!r,rt=v.useCallback(b=>{const ee=dj[b]||"window";re(ee),P.current&&clearTimeout(P.current),P.current=setTimeout(()=>{re("")},650)},[]),Aa=v.useCallback(b=>{const ee=b.target.closest("[data-preview-target]");ee&&O(ee.dataset.previewTarget||"")},[]),W=(b,ee,Ne)=>{S(be=>({...be,[b]:{...be[b],[ee]:Ne}})),rt(b)},Da=(b,ee,Ne)=>{S(be=>({...be,[b]:{...be[b],[ee]:Ne}})),rt(b)},st=(b,ee,Ne,be,ze)=>{S(na=>({...na,[b]:{...na[b],[ee]:(na[b][ee]||[]).map((yl,js)=>js===Ne?{...yl,[be]:ze}:yl)}})),rt(b)},En=(b,ee,Ne)=>{S(be=>({...be,[b]:{...be[b],[ee]:[...be[b][ee]||[],Ne]}})),rt(b)},Ma=(b,ee,Ne)=>{S(be=>({...be,[b]:{...be[b],[ee]:(be[b][ee]||[]).filter((ze,na)=>na!==Ne)}})),rt(b)},L=async b=>{b.preventDefault(),U(""),K(""),B(!0);try{await ce.updateWidgetSettings(m),H(m),K("Saved for this tenant"),setTimeout(()=>K(""),3e3)}catch(ee){U(ee.message||"Failed to save widget settings")}finally{B(!1)}};return vt?n.jsx("div",{className:"settings-page",children:n.jsx(Qe,{icon:"",title:"Select a tenant to manage widget settings",description:"Please select a tenant from the dropdown above to manage their widget configuration."})}):M&&f?n.jsx("div",{className:"settings-page",children:n.jsx(nt,{message:"Loading widget settings..."})}):n.jsxs("div",{className:"settings-page",children:[n.jsx("h1",{children:"Website Widget"}),n.jsx("p",{className:"description",children:"Configure your chat widget embed code and customize its appearance."}),n.jsxs("div",{className:"embed-code-section",children:[n.jsx("h2",{children:"Website Chat Widget"}),n.jsx("p",{className:"description",children:'Copy this code and paste it into your WordPress footer or use a plugin like "Insert Headers and Footers".'}),f&&n.jsx("div",{className:"embed-loading",children:"Loading embed code..."}),g&&n.jsx("div",{className:"error-message",children:g}),u&&n.jsxs(n.Fragment,{children:[u.warning&&n.jsxs("div",{className:"embed-warning",children:[n.jsx("span",{className:"warning-icon",children:""}),n.jsx("span",{children:u.warning})]}),n.jsxs("div",{className:"embed-code-container",children:[n.jsxs("div",{className:"embed-code-header",children:[n.jsx("span",{className:"embed-code-label",children:u.has_published_prompt?"Your Embed Code (Ready to Use)":"Your Embed Code (Not Active)"}),n.jsx("button",{type:"button",className:`copy-btn ${y?"copied":""}`,onClick:async()=>{try{await navigator.clipboard.writeText(u.embed_code),x(!0),setTimeout(()=>x(!1),2e3)}catch(b){console.error("Failed to copy:",b)}},children:y?" Copied!":"Copy Code"})]}),n.jsx("textarea",{readOnly:!0,value:u.embed_code,className:`embed-code-textarea ${u.has_published_prompt?"":"inactive"}`,rows:15})]}),n.jsxs("div",{className:"embed-instructions",children:[n.jsx("h3",{children:"Installation Instructions"}),n.jsxs("ol",{children:[n.jsx("li",{children:'Copy the code above by clicking the "Copy Code" button'}),n.jsxs("li",{children:["In WordPress, go to ",n.jsx("strong",{children:"Appearance  Theme File Editor"})]}),n.jsxs("li",{children:["Add the code to your theme's ",n.jsx("code",{children:"footer.php"})," file before the closing ",n.jsx("code",{children:"</body>"})," tag"]}),n.jsxs("li",{children:["Alternatively, use a plugin like ",n.jsx("strong",{children:'"Insert Headers and Footers"'})," and paste the code in the Footer section"]})]})]})]})]}),n.jsxs("div",{className:"widget-customization-section",children:[n.jsx("h2",{children:"Widget Customization"}),n.jsx("p",{className:"description",children:"Customize the appearance and behavior of your chat widget."}),M&&n.jsx("div",{className:"widget-loading",children:"Loading widget settings..."}),V&&n.jsx("div",{className:"error-message",children:V}),!M&&n.jsxs("div",{className:"widget-customization-layout",children:[n.jsxs("form",{onSubmit:L,className:"settings-form widget-customization-form",onMouseOver:Aa,onMouseLeave:()=>O(""),children:[n.jsx("div",{className:"widget-customization-toolbar",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:ae,onChange:b=>Q(b.target.checked)}),n.jsx("span",{children:"Show advanced settings"}),n.jsx("span",{className:"info-icon",title:"Reveals power-user controls like z-index and motion limits.",children:""})]})}),n.jsxs("details",{open:!0,children:[n.jsx("summary",{children:"Core Appearance"}),n.jsxs("div",{className:"form-section","data-preview-target":"window",children:[n.jsxs("div",{className:"form-group color-control",children:[n.jsxs("label",{htmlFor:"widget-primary-color",children:[n.jsx("span",{children:"Primary Color"}),n.jsx("span",{className:"info-icon",title:"Select the primary brand color used for headers and buttons.",children:""})]}),n.jsx("input",{type:"color",id:"widget-primary-color",className:"color-swatch",value:m.colors.primary,onChange:b=>W("colors","primary",b.target.value)})]}),n.jsxs("div",{className:"form-group color-control",children:[n.jsxs("label",{htmlFor:"widget-secondary-color",children:[n.jsx("span",{children:"Secondary Color"}),n.jsx("span",{className:"info-icon",title:"Accent color used for secondary buttons and highlights.",children:""})]}),n.jsx("input",{type:"color",id:"widget-secondary-color",className:"color-swatch",value:m.colors.secondary,onChange:b=>W("colors","secondary",b.target.value)})]}),n.jsxs("div",{className:"form-group color-control",children:[n.jsxs("label",{htmlFor:"widget-background-color",children:[n.jsx("span",{children:"Background Color"}),n.jsx("span",{className:"info-icon",title:"Sets the widget body background color.",children:""})]}),n.jsx("input",{type:"color",id:"widget-background-color",className:"color-swatch",value:m.colors.background,onChange:b=>W("colors","background",b.target.value)})]}),n.jsxs("div",{className:"form-group color-control",children:[n.jsxs("label",{htmlFor:"widget-text-color",children:[n.jsx("span",{children:"Text Color"}),n.jsx("span",{className:"info-icon",title:"Controls the default text color inside the widget.",children:""})]}),n.jsx("input",{type:"color",id:"widget-text-color",className:"color-swatch",value:m.colors.text,onChange:b=>W("colors","text",b.target.value)})]}),n.jsxs("div",{className:"form-group color-control",children:[n.jsxs("label",{htmlFor:"widget-border-color",children:[n.jsx("span",{children:"Border Color"}),n.jsx("span",{className:"info-icon",title:"Defines the border and divider color.",children:""})]}),n.jsx("input",{type:"color",id:"widget-border-color",className:"color-swatch",value:m.colors.borderColor,onChange:b=>W("colors","borderColor",b.target.value)})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-border-radius",children:["Border Radius ",n.jsx("span",{className:"info-icon",title:"Controls how rounded the widget corners appear.",children:""})]}),n.jsx("input",{type:"text",id:"widget-border-radius",value:m.layout.borderRadius,onChange:b=>W("layout","borderRadius",b.target.value),placeholder:"10px"})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-font-family",children:["Font Family ",n.jsx("span",{className:"info-icon",title:"Sets the font used throughout the widget.",children:""})]}),n.jsx("select",{id:"widget-font-family",value:m.typography.fontFamily,onChange:b=>W("typography","fontFamily",b.target.value),children:uj.map(b=>n.jsxs("option",{value:b.value,style:{fontFamily:b.value},children:[b.label," - Aa Bb 123"]},b.value))})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-font-size",children:["Font Size ",n.jsx("span",{className:"info-icon",title:"Sets the base text size for messages and buttons.",children:""})]}),n.jsx("input",{type:"text",id:"widget-font-size",value:m.typography.fontSize,onChange:b=>W("typography","fontSize",b.target.value),placeholder:"14px"})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-font-weight",children:["Font Weight ",n.jsx("span",{className:"info-icon",title:"Controls the boldness of text in the widget.",children:""})]}),n.jsxs("select",{id:"widget-font-weight",value:m.typography.fontWeight,onChange:b=>W("typography","fontWeight",b.target.value),children:[n.jsx("option",{value:"300",children:"Light (300)"}),n.jsx("option",{value:"400",children:"Normal (400)"}),n.jsx("option",{value:"500",children:"Medium (500)"}),n.jsx("option",{value:"600",children:"Semi-Bold (600)"}),n.jsx("option",{value:"700",children:"Bold (700)"})]})]})]})]}),n.jsxs("details",{children:[n.jsx("summary",{children:"Launcher Button"}),n.jsxs("div",{className:"form-section","data-preview-target":"launcher",children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-icon-type",children:["Icon Type ",n.jsx("span",{className:"info-icon",title:"Choose whether to use an emoji or custom image.",children:""})]}),n.jsxs("select",{id:"widget-icon-type",value:m.icon.type,onChange:b=>W("icon","type",b.target.value),children:[n.jsx("option",{value:"emoji",children:"Emoji"}),n.jsx("option",{value:"image",children:"Custom Image"})]})]}),m.icon.type==="emoji"&&n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-icon-emoji",children:["Emoji / Icon Selector ",n.jsx("span",{className:"info-icon",title:"Pick the emoji that appears in the launcher.",children:""})]}),n.jsx("select",{id:"widget-icon-emoji",value:m.icon.emoji,onChange:b=>W("icon","emoji",b.target.value),children:fj.map(b=>n.jsxs("option",{value:b.value,children:[b.value," ",b.label]},b.value))})]}),m.icon.type==="image"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-icon-image-url",children:["Image URL ",n.jsx("span",{className:"info-icon",title:"Paste the URL of your logo or custom icon.",children:""})]}),n.jsx("input",{type:"url",id:"widget-icon-image-url",value:m.icon.imageUrl,onChange:b=>W("icon","imageUrl",b.target.value),placeholder:"https://example.com/logo.png"}),n.jsx("small",{children:"Recommended: Square image, PNG or SVG format, transparent background."})]}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.icon.fallbackToEmoji,onChange:b=>W("icon","fallbackToEmoji",b.target.checked)}),n.jsx("span",{children:"Fallback to emoji if image fails to load"}),n.jsx("span",{className:"info-icon",title:"Shows the emoji when the image URL cannot be loaded.",children:""})]})})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-icon-shape",children:["Icon Shape ",n.jsx("span",{className:"info-icon",title:"Defines the launcher button shape.",children:""})]}),n.jsxs("select",{id:"widget-icon-shape",value:m.icon.shape,onChange:b=>W("icon","shape",b.target.value),children:[n.jsx("option",{value:"circle",children:"Circle"}),n.jsx("option",{value:"rounded-square",children:"Rounded Square"}),n.jsx("option",{value:"pill",children:"Pill/Capsule"}),n.jsx("option",{value:"square",children:"Square"}),n.jsx("option",{value:"custom",children:"Custom Border Radius"})]})]}),m.icon.shape==="custom"&&n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-icon-border-radius",children:["Custom Border Radius ",n.jsx("span",{className:"info-icon",title:"CSS border-radius value (e.g., 15px, 25%).",children:""})]}),n.jsx("input",{type:"text",id:"widget-icon-border-radius",value:m.icon.customBorderRadius,onChange:b=>W("icon","customBorderRadius",b.target.value),placeholder:"50%"})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-icon-size",children:["Icon Size ",n.jsx("span",{className:"info-icon",title:"Controls the launcher button size.",children:""})]}),n.jsxs("select",{id:"widget-icon-size",value:m.icon.size,onChange:b=>W("icon","size",b.target.value),children:[n.jsx("option",{value:"small",children:"Small (50px)"}),n.jsx("option",{value:"medium",children:"Medium (60px)"}),n.jsx("option",{value:"large",children:"Large (75px)"}),n.jsx("option",{value:"extra-large",children:"Extra Large (90px)"}),n.jsx("option",{value:"custom",children:"Custom Size"})]})]}),m.icon.size==="custom"&&n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-icon-custom-size",children:["Custom Size ",n.jsx("span",{className:"info-icon",title:"Set a custom size in pixels (e.g., 70px).",children:""})]}),n.jsx("input",{type:"text",id:"widget-icon-custom-size",value:m.icon.customSize,onChange:b=>W("icon","customSize",b.target.value),placeholder:"60px"})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.icon.showLabel,onChange:b=>W("icon","showLabel",b.target.checked)}),n.jsx("span",{children:"Show Label / Badge"}),n.jsx("span",{className:"info-icon",title:"Adds a short label near the launcher to invite clicks.",children:""})]}),n.jsx("small",{className:"checkbox-helper",children:"Helpful for prompting visitors to start a chat."})]}),m.icon.showLabel&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-icon-label-text",children:["Label Text ",n.jsx("span",{className:"info-icon",title:"Text displayed inside or near the launcher.",children:""})]}),n.jsx("input",{type:"text",id:"widget-icon-label-text",value:m.icon.labelText,onChange:b=>W("icon","labelText",b.target.value),placeholder:"Chat",maxLength:20})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-icon-label-position",children:["Label Position ",n.jsx("span",{className:"info-icon",title:"Controls where the label appears around the launcher.",children:""})]}),n.jsxs("select",{id:"widget-icon-label-position",value:le,onChange:b=>W("icon","labelPosition",b.target.value),children:[n.jsx("option",{value:"inside",children:"Inside Icon"}),n.jsx("option",{value:"below",children:"Below Icon"}),n.jsx("option",{value:"left",children:"Left of Icon"}),n.jsx("option",{value:"right",children:"Right of Icon"}),n.jsx("option",{value:"hover",children:"Show on Hover"})]})]}),n.jsxs("div",{className:"form-group color-control",children:[n.jsxs("label",{htmlFor:"widget-icon-label-bg-color",children:[n.jsx("span",{children:"Label Background Color"}),n.jsx("span",{className:"info-icon",title:"Background color for the label or badge.",children:""})]}),n.jsx("input",{type:"color",id:"widget-icon-label-bg-color",className:"color-swatch",value:m.icon.labelBackgroundColor,onChange:b=>W("icon","labelBackgroundColor",b.target.value)})]}),n.jsxs("div",{className:"form-group color-control",children:[n.jsxs("label",{htmlFor:"widget-icon-label-text-color",children:[n.jsx("span",{children:"Label Text Color"}),n.jsx("span",{className:"info-icon",title:"Color for the label text.",children:""})]}),n.jsx("input",{type:"color",id:"widget-icon-label-text-color",className:"color-swatch",value:m.icon.labelTextColor,onChange:b=>W("icon","labelTextColor",b.target.value)})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-icon-label-font-size",children:["Label Font Size ",n.jsx("span",{className:"info-icon",title:"Font size for label text (e.g., 12px).",children:""})]}),n.jsx("input",{type:"text",id:"widget-icon-label-font-size",value:m.icon.labelFontSize,onChange:b=>W("icon","labelFontSize",b.target.value),placeholder:"12px"})]})]})]})]}),n.jsxs("details",{children:[n.jsx("summary",{children:"Layout & Placement"}),n.jsxs("div",{className:"form-section","data-preview-target":"window",children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-position",children:["Position ",n.jsx("span",{className:"info-icon",title:"Choose where the widget appears on the page.",children:""})]}),n.jsxs("select",{id:"widget-position",value:m.layout.position,onChange:b=>W("layout","position",b.target.value),children:[n.jsx("option",{value:"bottom-right",children:"Bottom Right"}),n.jsx("option",{value:"bottom-left",children:"Bottom Left"}),n.jsx("option",{value:"top-right",children:"Top Right"}),n.jsx("option",{value:"top-left",children:"Top Left"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-max-width",children:["Max Width ",n.jsx("span",{className:"info-icon",title:"Sets the maximum width of the widget window.",children:""})]}),n.jsx("input",{type:"text",id:"widget-max-width",value:m.layout.maxWidth,onChange:b=>W("layout","maxWidth",b.target.value),placeholder:"350px"})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-max-height",children:["Max Height ",n.jsx("span",{className:"info-icon",title:"Sets the maximum height of the widget window.",children:""})]}),n.jsx("input",{type:"text",id:"widget-max-height",value:m.layout.maxHeight,onChange:b=>W("layout","maxHeight",b.target.value),placeholder:"500px"})]}),ae&&n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-z-index",children:["Z-Index ",n.jsx("span",{className:"info-icon",title:"Controls stacking order above other page elements.",children:""})]}),n.jsx("input",{type:"number",id:"widget-z-index",value:m.layout.zIndex,onChange:b=>W("layout","zIndex",b.target.value),placeholder:"10000"})]})]})]}),n.jsxs("details",{children:[n.jsx("summary",{children:"Open Behavior"}),n.jsxs("div",{className:"form-section","data-preview-target":"window",children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-open-behavior",children:["Open Behavior ",n.jsx("span",{className:"info-icon",title:"Choose whether the widget opens on click or automatically.",children:""})]}),n.jsxs("select",{id:"widget-open-behavior",value:m.behavior.openBehavior,onChange:b=>W("behavior","openBehavior",b.target.value),children:[n.jsx("option",{value:"click",children:"Click to Open"}),n.jsx("option",{value:"auto",children:"Auto-Open"})]})]}),m.behavior.openBehavior==="auto"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-auto-open-delay",children:["Auto-Open Delay (seconds) ",n.jsx("span",{className:"info-icon",title:"Delay before the widget opens automatically.",children:""})]}),n.jsx("input",{type:"number",id:"widget-auto-open-delay",value:m.behavior.autoOpenDelay,onChange:b=>W("behavior","autoOpenDelay",parseInt(b.target.value)||0),min:"0",placeholder:"0"})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.behavior.autoOpenMessageEnabled,onChange:b=>W("behavior","autoOpenMessageEnabled",b.target.checked)}),n.jsx("span",{children:"Show auto-open message"}),n.jsx("span",{className:"info-icon",title:"Adds a short prompt when the widget auto-opens.",children:""})]}),n.jsx("small",{className:"checkbox-helper",children:"A friendly message can boost responses."})]}),m.behavior.autoOpenMessageEnabled&&n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-auto-open-message",children:["Auto-Open Message ",n.jsx("span",{className:"info-icon",title:"Text shown when the widget opens automatically.",children:""})]}),n.jsx("input",{type:"text",id:"widget-auto-open-message",value:m.behavior.autoOpenMessage,onChange:b=>W("behavior","autoOpenMessage",b.target.value),placeholder:"Hi there! Want help finding the right solution?",maxLength:120})]})]}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.rules.animateOncePerSession,onChange:b=>W("rules","animateOncePerSession",b.target.checked)}),n.jsx("span",{children:"Animate once per session"}),n.jsx("span",{className:"info-icon",title:"Plays attention effects only once per visitor session.",children:""})]})}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.rules.stopAfterInteraction,onChange:b=>W("rules","stopAfterInteraction",b.target.checked)}),n.jsx("span",{children:"Stop attention effects after first interaction"}),n.jsx("span",{className:"info-icon",title:"Stops attention effects once the visitor engages.",children:""})]})})]})]}),n.jsxs("details",{children:[n.jsx("summary",{children:"Attention & Motion"}),n.jsxs("div",{className:"form-section","data-preview-target":"launcher",children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-attention-animation",children:["Launcher Attention Animation ",n.jsx("span",{className:"info-icon",title:"Pick a subtle animation to draw attention.",children:""})]}),n.jsxs("select",{id:"widget-attention-animation",value:m.attention.attentionAnimation,onChange:b=>W("attention","attentionAnimation",b.target.value),children:[n.jsx("option",{value:"none",children:"None"}),n.jsx("option",{value:"bounce",children:"Subtle Bounce"}),n.jsx("option",{value:"pulse",children:"Pulse"}),n.jsx("option",{value:"glow",children:"Glow"}),n.jsx("option",{value:"breathing",children:"Breathing"}),n.jsx("option",{value:"corner-nudge",children:"Corner Nudge"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-attention-cycles",children:["Animation Cycles ",n.jsx("span",{className:"info-icon",title:"How many times the attention animation plays.",children:""})]}),n.jsx("input",{type:"number",id:"widget-attention-cycles",min:"1",max:"3",value:m.attention.attentionCycles,onChange:b=>W("attention","attentionCycles",parseInt(b.target.value,10)||1)})]}),ae&&n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-max-animation",children:["Max Animation Duration (seconds) ",n.jsx("span",{className:"info-icon",title:"Caps how long attention effects can run.",children:""})]}),n.jsx("input",{type:"number",id:"widget-max-animation",min:"1",max:"5",value:m.rules.maxAnimationSeconds,onChange:b=>W("rules","maxAnimationSeconds",parseInt(b.target.value,10)||3)})]}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.attention.unreadDot,onChange:b=>W("attention","unreadDot",b.target.checked)}),n.jsx("span",{children:"Show unread dot until first interaction"}),n.jsx("span",{className:"info-icon",title:"Displays a dot on the launcher to suggest unread activity.",children:""})]})}),m.attention.unreadDot&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"form-group color-control",children:[n.jsxs("label",{htmlFor:"widget-unread-dot-color",children:[n.jsx("span",{children:"Unread Dot Color"}),n.jsx("span",{className:"info-icon",title:"Sets the color of the unread dot indicator.",children:""})]}),n.jsx("input",{type:"color",id:"widget-unread-dot-color",className:"color-swatch",value:m.attention.unreadDotColor,onChange:b=>W("attention","unreadDotColor",b.target.value)})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-unread-dot-position",children:["Unread Dot Position ",n.jsx("span",{className:"info-icon",title:"Choose where the unread dot appears on the launcher.",children:""})]}),n.jsxs("select",{id:"widget-unread-dot-position",value:m.attention.unreadDotPosition,onChange:b=>W("attention","unreadDotPosition",b.target.value),children:[n.jsx("option",{value:"top-right",children:"Top Right"}),n.jsx("option",{value:"top-left",children:"Top Left"}),n.jsx("option",{value:"bottom-right",children:"Bottom Right"}),n.jsx("option",{value:"bottom-left",children:"Bottom Left"})]})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-launcher-visibility",children:["Launcher Reveal ",n.jsx("span",{className:"info-icon",title:"Controls when the launcher appears on the page.",children:""})]}),n.jsxs("select",{id:"widget-launcher-visibility",value:m.motion.launcherVisibility,onChange:b=>W("motion","launcherVisibility",b.target.value),children:[n.jsx("option",{value:"immediate",children:"Immediate"}),n.jsx("option",{value:"delay",children:"Delayed Entrance"}),n.jsx("option",{value:"scroll",children:"Scroll Trigger"}),n.jsx("option",{value:"exit-intent",children:"Exit Intent"})]})]}),m.motion.launcherVisibility==="delay"&&n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-launcher-delay",children:["Delay (seconds) ",n.jsx("span",{className:"info-icon",title:"Delay before showing the launcher.",children:""})]}),n.jsx("input",{type:"number",id:"widget-launcher-delay",min:"1",max:"30",value:m.motion.delaySeconds,onChange:b=>W("motion","delaySeconds",parseInt(b.target.value,10)||5)})]}),m.motion.launcherVisibility==="scroll"&&n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-launcher-scroll",children:["Scroll Trigger (%) ",n.jsx("span",{className:"info-icon",title:"Show the launcher after this scroll depth.",children:""})]}),n.jsx("input",{type:"number",id:"widget-launcher-scroll",min:"10",max:"90",value:m.motion.scrollPercent,onChange:b=>W("motion","scrollPercent",parseInt(b.target.value,10)||30)})]}),m.motion.launcherVisibility==="exit-intent"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.motion.exitIntentEnabled,onChange:b=>W("motion","exitIntentEnabled",b.target.checked)}),n.jsx("span",{children:"Enable exit-intent detection (desktop only)"}),n.jsx("span",{className:"info-icon",title:"Detects when a user is about to leave on desktop.",children:""})]})}),m.motion.exitIntentEnabled&&n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-exit-intent-action",children:["Exit Intent Action ",n.jsx("span",{className:"info-icon",title:"Choose what happens when exit intent is detected.",children:""})]}),n.jsxs("select",{id:"widget-exit-intent-action",value:m.motion.exitIntentAction,onChange:b=>W("motion","exitIntentAction",b.target.value),children:[n.jsx("option",{value:"show",children:"Show Launcher"}),n.jsx("option",{value:"open",children:"Open Widget"})]})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-entry-animation",children:["Launcher Entry Animation ",n.jsx("span",{className:"info-icon",title:"How the launcher animates into view.",children:""})]}),n.jsxs("select",{id:"widget-entry-animation",value:m.motion.entryAnimation,onChange:b=>W("motion","entryAnimation",b.target.value),children:[n.jsx("option",{value:"none",children:"None"}),n.jsx("option",{value:"slide-up",children:"Slide Up"}),n.jsx("option",{value:"slide-left",children:"Slide In From Right"}),n.jsx("option",{value:"slide-right",children:"Slide In From Left"}),n.jsx("option",{value:"fade",children:"Fade"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-open-animation",children:["Widget Open Animation ",n.jsx("span",{className:"info-icon",title:"Controls the animation when the chat opens.",children:""})]}),n.jsxs("select",{id:"widget-open-animation",value:m.motion.openAnimation,onChange:b=>W("motion","openAnimation",b.target.value),children:[n.jsx("option",{value:"none",children:"None"}),n.jsx("option",{value:"slide-up",children:"Slide Up"}),n.jsx("option",{value:"slide-left",children:"Slide In From Right"}),n.jsx("option",{value:"slide-right",children:"Slide In From Left"}),n.jsx("option",{value:"fade",children:"Fade"})]})]}),ae&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.rules.respectReducedMotion,onChange:b=>W("rules","respectReducedMotion",b.target.checked)}),n.jsx("span",{children:"Respect prefers-reduced-motion"}),n.jsx("span",{className:"info-icon",title:"Honors user accessibility settings for motion.",children:""})]})}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.rules.disableOnMobile,onChange:b=>W("rules","disableOnMobile",b.target.checked)}),n.jsx("span",{children:"Disable attention effects on mobile"}),n.jsx("span",{className:"info-icon",title:"Turns off attention effects for smaller screens.",children:""})]})})]})]})]}),n.jsxs("details",{children:[n.jsx("summary",{children:"Micro-Interactions"}),n.jsxs("div",{className:"form-section","data-preview-target":"window",children:[n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.microInteractions.typingIndicator,onChange:b=>W("microInteractions","typingIndicator",b.target.checked)}),n.jsx("span",{children:"Typing indicator before first message"}),n.jsx("span",{className:"info-icon",title:"Shows a short typing animation before the first reply.",children:""})]})}),m.microInteractions.typingIndicator&&n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-typing-duration",children:["Typing Indicator Duration (ms) ",n.jsx("span",{className:"info-icon",title:"How long the typing indicator runs.",children:""})]}),n.jsx("input",{type:"number",id:"widget-typing-duration",min:"600",max:"3000",value:m.microInteractions.typingIndicatorDurationMs,onChange:b=>W("microInteractions","typingIndicatorDurationMs",parseInt(b.target.value,10)||1200)})]}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.microInteractions.blinkCursor,onChange:b=>W("microInteractions","blinkCursor",b.target.checked)}),n.jsx("span",{children:"Blinking cursor"}),n.jsx("span",{className:"info-icon",title:"Adds a blinking cursor in the input field.",children:""})]})}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-hover-effect",children:["Hover Reaction ",n.jsx("span",{className:"info-icon",title:"How the launcher reacts when hovered.",children:""})]}),n.jsxs("select",{id:"widget-hover-effect",value:m.microInteractions.hoverEffect,onChange:b=>W("microInteractions","hoverEffect",b.target.value),children:[n.jsx("option",{value:"none",children:"None"}),n.jsx("option",{value:"lift",children:"Slight Lift"}),n.jsx("option",{value:"scale",children:"Subtle Scale"}),n.jsx("option",{value:"color",children:"Color Shift"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-button-animation",children:["Button Press Animation ",n.jsx("span",{className:"info-icon",title:"Feedback animation when pressing buttons.",children:""})]}),n.jsxs("select",{id:"widget-button-animation",value:m.microInteractions.buttonAnimation,onChange:b=>W("microInteractions","buttonAnimation",b.target.value),children:[n.jsx("option",{value:"none",children:"None"}),n.jsx("option",{value:"press",children:"Press"}),n.jsx("option",{value:"ripple",children:"Ripple"})]})]})]})]}),n.jsxs("details",{children:[n.jsx("summary",{children:"Copy & Messaging"}),n.jsxs("div",{className:"form-section","data-preview-target":"window",children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-welcome-message",children:["Welcome Message ",n.jsx("span",{className:"info-icon",title:"Headline shown in the widget header.",children:""})]}),n.jsx("input",{type:"text",id:"widget-welcome-message",value:m.messages.welcomeMessage,onChange:b=>W("messages","welcomeMessage",b.target.value),placeholder:"Chat with us"})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-placeholder",children:["Input Placeholder ",n.jsx("span",{className:"info-icon",title:"Placeholder text inside the message input.",children:""})]}),n.jsx("input",{type:"text",id:"widget-placeholder",value:m.messages.placeholder,onChange:b=>W("messages","placeholder",b.target.value),placeholder:"Type your message..."})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-send-button-text",children:["Send Button Text ",n.jsx("span",{className:"info-icon",title:"Text shown on the send button.",children:""})]}),n.jsx("input",{type:"text",id:"widget-send-button-text",value:m.messages.sendButtonText,onChange:b=>W("messages","sendButtonText",b.target.value),placeholder:"Send"})]}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.copy.launcherPromptsEnabled,onChange:b=>W("copy","launcherPromptsEnabled",b.target.checked)}),n.jsx("span",{children:"Rotate launcher micro-prompts"}),n.jsx("span",{className:"info-icon",title:"Cycles short prompts next to the launcher.",children:""})]})}),m.copy.launcherPromptsEnabled&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-launcher-prompts",children:["Launcher Prompts (one per line) ",n.jsx("span",{className:"info-icon",title:"Each line becomes a rotating launcher prompt.",children:""})]}),n.jsx("textarea",{id:"widget-launcher-prompts",rows:4,value:(m.copy.launcherPrompts||[]).join(`
`),onChange:b=>Da("copy","launcherPrompts",b.target.value.split(`
`).map(ee=>ee.trim()).filter(Boolean))})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-launcher-rotate",children:["Rotate Every (seconds) ",n.jsx("span",{className:"info-icon",title:"How often the launcher prompt rotates.",children:""})]}),n.jsx("input",{type:"number",id:"widget-launcher-rotate",min:"3",max:"15",value:m.copy.launcherPromptRotateSeconds,onChange:b=>W("copy","launcherPromptRotateSeconds",parseInt(b.target.value,10)||6)})]})]}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.copy.contextualPromptsEnabled,onChange:b=>W("copy","contextualPromptsEnabled",b.target.checked)}),n.jsx("span",{children:"Contextual launcher text"}),n.jsx("span",{className:"info-icon",title:"Show different launcher prompts by page or URL.",children:""})]})}),m.copy.contextualPromptsEnabled&&n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{children:["Contextual Prompt Rules ",n.jsx("span",{className:"info-icon",title:"Match a URL pattern to a custom launcher prompt.",children:""})]}),n.jsx("div",{className:"rule-list",children:(m.copy.contextualPrompts||[]).map((b,ee)=>n.jsxs("div",{className:"rule-row",children:[n.jsx("input",{type:"text",placeholder:"URL match (e.g., /pricing)",title:"Page path or pattern to match.",value:b.match,onChange:Ne=>st("copy","contextualPrompts",ee,"match",Ne.target.value)}),n.jsx("input",{type:"text",placeholder:"Prompt text",title:"Short prompt shown when the URL matches.",value:b.text,onChange:Ne=>st("copy","contextualPrompts",ee,"text",Ne.target.value)}),n.jsx("button",{type:"button",className:"btn btn-danger btn-sm",title:"Remove this rule",onClick:()=>Ma("copy","contextualPrompts",ee),children:"Remove"})]},`${b.match}-${ee}`))}),n.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",title:"Add a new rule",onClick:()=>En("copy","contextualPrompts",{match:"",text:""}),children:"+ Add Rule"})]}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.copy.greetingEnabled,onChange:b=>W("copy","greetingEnabled",b.target.checked)}),n.jsx("span",{children:"Personalized greeting"}),n.jsx("span",{className:"info-icon",title:"Shows a greeting based on time or page.",children:""})]})}),m.copy.greetingEnabled&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-greeting-mode",children:["Greeting Mode ",n.jsx("span",{className:"info-icon",title:"Choose when greetings should change.",children:""})]}),n.jsxs("select",{id:"widget-greeting-mode",value:m.copy.greetingMode,onChange:b=>W("copy","greetingMode",b.target.value),children:[n.jsx("option",{value:"time",children:"Time of Day"}),n.jsx("option",{value:"page",children:"Page Based"}),n.jsx("option",{value:"both",children:"Time + Page"})]})]}),(m.copy.greetingMode==="time"||m.copy.greetingMode==="both")&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-greeting-morning",children:["Morning Greeting ",n.jsx("span",{className:"info-icon",title:"Greeting shown in the morning hours.",children:""})]}),n.jsx("input",{type:"text",id:"widget-greeting-morning",value:m.copy.greetingMorning,onChange:b=>W("copy","greetingMorning",b.target.value)})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-greeting-afternoon",children:["Afternoon Greeting ",n.jsx("span",{className:"info-icon",title:"Greeting shown in the afternoon hours.",children:""})]}),n.jsx("input",{type:"text",id:"widget-greeting-afternoon",value:m.copy.greetingAfternoon,onChange:b=>W("copy","greetingAfternoon",b.target.value)})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-greeting-evening",children:["Evening Greeting ",n.jsx("span",{className:"info-icon",title:"Greeting shown in the evening hours.",children:""})]}),n.jsx("input",{type:"text",id:"widget-greeting-evening",value:m.copy.greetingEvening,onChange:b=>W("copy","greetingEvening",b.target.value)})]})]}),(m.copy.greetingMode==="page"||m.copy.greetingMode==="both")&&n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{children:["Page-Based Greeting Rules ",n.jsx("span",{className:"info-icon",title:"Match URLs to custom greeting text.",children:""})]}),n.jsx("div",{className:"rule-list",children:(m.copy.greetingPageRules||[]).map((b,ee)=>n.jsxs("div",{className:"rule-row",children:[n.jsx("input",{type:"text",placeholder:"URL match (e.g., /pricing)",title:"Page path or pattern to match.",value:b.match,onChange:Ne=>st("copy","greetingPageRules",ee,"match",Ne.target.value)}),n.jsx("input",{type:"text",placeholder:"Greeting text",title:"Greeting shown when the URL matches.",value:b.text,onChange:Ne=>st("copy","greetingPageRules",ee,"text",Ne.target.value)}),n.jsx("button",{type:"button",className:"btn btn-danger btn-sm",title:"Remove this rule",onClick:()=>Ma("copy","greetingPageRules",ee),children:"Remove"})]},`${b.match}-${ee}`))}),n.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",title:"Add a new rule",onClick:()=>En("copy","greetingPageRules",{match:"",text:""}),children:"+ Add Rule"})]})]})]})]}),n.jsxs("details",{children:[n.jsx("summary",{children:"Sound & Feedback"}),n.jsxs("div",{className:"form-section","data-preview-target":"window",children:[n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.sound.chimeOnOpen,onChange:b=>W("sound","chimeOnOpen",b.target.checked)}),n.jsx("span",{children:"Soft chime on first open"}),n.jsx("span",{className:"info-icon",title:"Plays a short sound the first time the widget opens.",children:""})]})}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.sound.messageTicks,onChange:b=>W("sound","messageTicks",b.target.checked)}),n.jsx("span",{children:"Message sent/received ticks"}),n.jsx("span",{className:"info-icon",title:"Adds light tick sounds for send/receive events.",children:""})]})}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.sound.hapticFeedback,onChange:b=>W("sound","hapticFeedback",b.target.checked)}),n.jsx("span",{children:"Haptic feedback (mobile)"}),n.jsx("span",{className:"info-icon",title:"Adds a subtle vibration-style response on mobile.",children:""})]})}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-sound-volume",children:["Volume (0-1) ",n.jsx("span",{className:"info-icon",title:"Set how loud widget sounds should be.",children:""})]}),n.jsx("input",{type:"number",id:"widget-sound-volume",min:"0",max:"1",step:"0.1",value:m.sound.volume,onChange:b=>W("sound","volume",parseFloat(b.target.value)||0)})]})]})]}),n.jsxs("details",{children:[n.jsx("summary",{children:"Social Proof & Trust"}),n.jsxs("div",{className:"form-section","data-preview-target":"window",children:[n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.socialProof.showResponseTime,onChange:b=>W("socialProof","showResponseTime",b.target.checked)}),n.jsx("span",{children:"Show response time"}),n.jsx("span",{className:"info-icon",title:"Shows a response time hint to build trust.",children:""})]})}),m.socialProof.showResponseTime&&n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-response-time",children:["Response Time Text ",n.jsx("span",{className:"info-icon",title:"Text shown under the header to set expectations.",children:""})]}),n.jsx("input",{type:"text",id:"widget-response-time",value:m.socialProof.responseTimeText,onChange:b=>W("socialProof","responseTimeText",b.target.value)})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-availability-text",children:["Availability Text ",n.jsx("span",{className:"info-icon",title:"Short line explaining hours or availability.",children:""})]}),n.jsx("input",{type:"text",id:"widget-availability-text",value:m.socialProof.availabilityText,onChange:b=>W("socialProof","availabilityText",b.target.value)})]}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.socialProof.showAvatar,onChange:b=>W("socialProof","showAvatar",b.target.checked)}),n.jsx("span",{children:"Show avatar + name"}),n.jsx("span",{className:"info-icon",title:"Displays an agent avatar and name in the widget.",children:""})]})}),m.socialProof.showAvatar&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-agent-name",children:["Agent Name ",n.jsx("span",{className:"info-icon",title:"Name shown next to the avatar.",children:""})]}),n.jsx("input",{type:"text",id:"widget-agent-name",value:m.socialProof.agentName,onChange:b=>W("socialProof","agentName",b.target.value)})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-avatar-url",children:["Avatar URL ",n.jsx("span",{className:"info-icon",title:"Image URL for the agent avatar.",children:""})]}),n.jsx("input",{type:"url",id:"widget-avatar-url",value:m.socialProof.avatarUrl,onChange:b=>W("socialProof","avatarUrl",b.target.value),placeholder:"https://example.com/avatar.png"})]})]})]})]}),n.jsxs("details",{children:[n.jsx("summary",{children:"Accessibility"}),n.jsxs("div",{className:"form-section","data-preview-target":"window",children:[n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.accessibility.darkMode,onChange:b=>W("accessibility","darkMode",b.target.checked)}),n.jsx("span",{children:"Dark mode"}),n.jsx("span",{className:"info-icon",title:"Switches the widget to a darker color scheme.",children:""})]})}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.accessibility.highContrast,onChange:b=>W("accessibility","highContrast",b.target.checked)}),n.jsx("span",{children:"High contrast"}),n.jsx("span",{className:"info-icon",title:"Boosts contrast to improve readability.",children:""})]})}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.accessibility.focusOutline,onChange:b=>W("accessibility","focusOutline",b.target.checked)}),n.jsx("span",{children:"Focus outline"}),n.jsx("span",{className:"info-icon",title:"Shows focus outlines for keyboard navigation.",children:""})]})})]})]}),n.jsxs("div",{className:"widget-customization-actions",children:[n.jsx("button",{type:"submit",className:"save-btn",disabled:F,children:F?"Saving...":"Save Changes"}),$&&n.jsx("span",{className:"widget-save-status",role:"status",children:$})]})]}),n.jsx("div",{className:"widget-customization-preview","aria-label":"Widget preview",children:n.jsxs("div",{className:"widget-preview-card",children:[n.jsxs("div",{className:"widget-preview-header",children:[n.jsx("h3",{children:"Live Preview"}),n.jsx("p",{children:"See your widget styles update in real time."})]}),n.jsxs("div",{className:"widget-preview-viewport",children:[n.jsxs("div",{className:`widget-preview-window${Y==="window"?" preview-highlight":""}${ne==="window"?" preview-pulse":""}${we?` ${we}`:""}`,style:{background:m.colors.background,color:m.colors.text,borderColor:m.colors.borderColor,borderRadius:m.layout.borderRadius,boxShadow:m.layout.boxShadow,maxWidth:m.layout.maxWidth,fontFamily:C,fontSize:E},children:[n.jsxs("div",{className:"widget-preview-titlebar",style:{background:m.colors.primary,color:m.colors.buttonText},children:[n.jsx("span",{children:m.messages.welcomeMessage||"Chat with us"}),n.jsx("span",{className:"widget-preview-status",children:"Online"})]}),n.jsxs("div",{className:"widget-preview-body",children:[n.jsx("div",{className:"widget-preview-bubble widget-preview-bubble-in",children:"Hi! Need help getting started?"}),n.jsx("div",{className:"widget-preview-bubble widget-preview-bubble-out",style:{background:m.colors.secondary,color:m.colors.buttonText},children:"I want to customize the widget."})]}),n.jsxs("div",{className:"widget-preview-input",children:[n.jsx("span",{className:"widget-preview-placeholder",children:m.messages.placeholder||"Type your message..."}),n.jsx("button",{type:"button",style:{background:m.colors.primary,color:m.colors.buttonText},children:m.messages.sendButtonText||"Send"})]})]}),n.jsxs("div",{className:"widget-preview-icon-wrap",children:[n.jsxs("div",{className:`widget-preview-icon${Y==="launcher"?" preview-highlight":""}${ne==="launcher"?" preview-pulse":""}${ge?" widget-preview-attention":""}`,"data-attention":ge?pe:void 0,style:{width:ve,height:ve,borderRadius:ie,background:m.colors.primary,color:m.colors.buttonText,"--cc-attention-duration":`${j}s`,"--cc-attention-iterations":q,"--cc-nudge-x":`${te}px`,"--cc-nudge-y":`${fe}px`},children:[m.icon.type==="emoji"&&(m.icon.emoji||""),m.icon.type==="image"&&m.icon.imageUrl&&n.jsx("img",{src:m.icon.imageUrl,alt:"Widget icon preview"}),m.icon.type==="image"&&!m.icon.imageUrl&&n.jsx("span",{children:m.icon.fallbackToEmoji?m.icon.emoji||"":""}),m.attention.unreadDot&&n.jsx("span",{className:`widget-preview-unread widget-preview-unread-${m.attention.unreadDotPosition}`,style:{background:m.attention.unreadDotColor}})]}),m.icon.showLabel&&n.jsx("div",{className:`widget-preview-label widget-preview-label-${le}`,style:{background:m.icon.labelBackgroundColor,color:m.icon.labelTextColor,fontSize:m.icon.labelFontSize},children:m.icon.labelText||"Chat"})]})]})]})})]})]})]})}const So="/api/v1";function mj(){const{token:i,user:r,selectedTenantId:u}=Kt(),[o,f]=v.useState({is_enabled:!1,phone_number:null,auto_reply_enabled:!1,auto_reply_message:"",initial_outreach_message:"Hi! Thanks for reaching out. I'm an AI assistant and happy to help answer your questions. What can I help you with today?",business_hours_enabled:!1,timezone:"America/Chicago"}),[h,g]=v.useState(!0),[N,y]=v.useState(null),[x,m]=v.useState(!1),[S,z]=v.useState({type:"",text:""}),[H,F]=v.useState(""),[B,$]=v.useState(""),[K,V]=v.useState(!1);v.useEffect(()=>{U()},[i]);const U=async()=>{g(!0),y(null);try{const Q=await fetch(`${So}/sms/settings`,{headers:{Authorization:`Bearer ${i}`}});if(Q.ok){const Y=await Q.json();f(Y),$(Y.initial_outreach_message||"")}else if(Q.status===404)f({is_enabled:!1,phone_number:null,auto_reply_enabled:!1,auto_reply_message:"",initial_outreach_message:"Hi! Thanks for reaching out. I'm an AI assistant and happy to help answer your questions. What can I help you with today?",business_hours_enabled:!1,timezone:"America/Chicago"}),$("Hi! Thanks for reaching out. I'm an AI assistant and happy to help answer your questions. What can I help you with today?");else{const Y=await Q.json().catch(()=>({}));y(Y.detail||"Failed to load SMS settings")}}catch(Q){Q.message?.includes("Not Found")||Q.message?.includes("not found")?(f({is_enabled:!1,phone_number:null,auto_reply_enabled:!1,auto_reply_message:"",initial_outreach_message:"Hi! Thanks for reaching out. I'm an AI assistant and happy to help answer your questions. What can I help you with today?",business_hours_enabled:!1,timezone:"America/Chicago"}),$("Hi! Thanks for reaching out. I'm an AI assistant and happy to help answer your questions. What can I help you with today?")):(console.error("Error fetching SMS settings:",Q),y(Q.message||"Failed to load SMS settings"))}finally{g(!1)}},M=async()=>{m(!0),z({type:"",text:""});try{const Q=await fetch(`${So}/sms/settings`,{method:"PUT",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify({is_enabled:o.is_enabled,auto_reply_enabled:o.auto_reply_enabled,auto_reply_message:o.auto_reply_message,initial_outreach_message:o.initial_outreach_message,business_hours_enabled:o.business_hours_enabled,timezone:o.timezone})});if(Q.ok){const Y=await Q.json();f(Y),z({type:"success",text:"Settings saved successfully!"})}else{const Y=await Q.json();z({type:"error",text:Y.detail||"Failed to save settings"})}}catch{z({type:"error",text:"Network error. Please try again."})}finally{m(!1)}},se=async()=>{if(!H.trim()){z({type:"error",text:"Please enter a phone number"});return}V(!0),z({type:"",text:""});try{const Y=await(await fetch(`${So}/sms/outreach`,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify({phone_number:H,custom_message:B||null})})).json();Y.success?(z({type:"success",text:`SMS sent successfully! Message ID: ${Y.message_sid}`}),F("")):z({type:"error",text:Y.error||"Failed to send SMS"})}catch{z({type:"error",text:"Network error. Please try again."})}finally{V(!1)}};if(r?.is_global_admin&&!u)return n.jsx("div",{className:"page-container",children:n.jsx(Qe,{icon:"",title:"Select a tenant to manage SMS settings",description:"Please select a tenant from the dropdown above to manage their SMS settings."})});if(h)return n.jsx("div",{className:"page-container",children:n.jsx(nt,{message:"Loading SMS settings...",fullPage:!0})});if(N){if(N.includes("Tenant context required")||N.includes("Tenant context"))return n.jsx("div",{className:"page-container",children:n.jsx(Qe,{icon:"",title:"Select a tenant to manage SMS settings",description:"Please select a tenant from the dropdown above to manage their SMS settings."})});if(!N.includes("Not Found")&&!N.includes("not found"))return n.jsx("div",{className:"page-container",children:n.jsx(Pt,{message:N,onRetry:U})})}return n.jsxs("div",{className:"page-container",children:[n.jsx("h1",{children:"SMS Settings"}),S.text&&n.jsx("div",{className:`alert ${S.type==="error"?"alert-error":"alert-success"}`,children:S.text}),n.jsxs("div",{className:"card",children:[n.jsx("h2",{children:"Phone Number"}),o.phone_number?n.jsxs("div",{className:"phone-status active",children:[n.jsx("span",{className:"status-dot"}),n.jsx("span",{className:"phone-number",children:o.phone_number}),n.jsx("span",{className:"status-label",children:"Assigned"})]}):n.jsxs("div",{className:"phone-status inactive",children:[n.jsx("span",{className:"status-dot"}),n.jsx("span",{className:"status-label",children:"No phone number assigned"}),n.jsx("p",{className:"help-text",children:"Contact support to get a phone number assigned to your account."})]})]}),n.jsxs("div",{className:"card",children:[n.jsx("h2",{children:"SMS Status"}),n.jsxs("label",{className:"toggle-row",children:[n.jsx("span",{children:"Enable SMS"}),n.jsx("input",{type:"checkbox",checked:o.is_enabled,onChange:Q=>f({...o,is_enabled:Q.target.checked}),disabled:!o.phone_number})]}),!o.phone_number&&n.jsx("p",{className:"help-text",children:"You need an assigned phone number to enable SMS."})]}),n.jsxs("div",{className:"card",children:[n.jsx("h2",{children:"Initial Outreach Message"}),n.jsx("p",{className:"help-text",children:"This message is sent when you manually initiate contact with a customer. The AI will continue the conversation when they reply."}),n.jsx("textarea",{value:o.initial_outreach_message||"",onChange:Q=>f({...o,initial_outreach_message:Q.target.value}),placeholder:"Hi! Thanks for reaching out...",rows:3})]}),n.jsxs("div",{className:"card",children:[n.jsx("h2",{children:"Auto-Reply (Outside Business Hours)"}),n.jsxs("label",{className:"toggle-row",children:[n.jsx("span",{children:"Enable business hours"}),n.jsx("input",{type:"checkbox",checked:o.business_hours_enabled,onChange:Q=>f({...o,business_hours_enabled:Q.target.checked})})]}),o.business_hours_enabled&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Timezone"}),n.jsxs("select",{value:o.timezone,onChange:Q=>f({...o,timezone:Q.target.value}),children:[n.jsx("option",{value:"America/New_York",children:"Eastern Time"}),n.jsx("option",{value:"America/Chicago",children:"Central Time"}),n.jsx("option",{value:"America/Denver",children:"Mountain Time"}),n.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time"})]})]}),n.jsxs("label",{className:"toggle-row",children:[n.jsx("span",{children:"Send auto-reply outside hours"}),n.jsx("input",{type:"checkbox",checked:o.auto_reply_enabled,onChange:Q=>f({...o,auto_reply_enabled:Q.target.checked})})]}),o.auto_reply_enabled&&n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Auto-reply message"}),n.jsx("textarea",{value:o.auto_reply_message||"",onChange:Q=>f({...o,auto_reply_message:Q.target.value}),placeholder:"We're currently outside business hours. We'll respond as soon as we're back!",rows:2})]})]})]}),n.jsx("button",{className:"btn btn-primary",onClick:M,disabled:x,children:x?"Saving...":"Save Settings"}),o.is_enabled&&o.phone_number&&n.jsxs("div",{className:"card",style:{marginTop:"2rem"},children:[n.jsx("h2",{children:"Send AI Follow-up"}),n.jsx("p",{className:"help-text",children:"Send an initial message to a customer. When they reply, the AI will handle the conversation."}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Customer Phone Number"}),n.jsx("input",{type:"tel",value:H,onChange:Q=>F(Q.target.value),placeholder:"+1 (555) 123-4567"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Message (optional - uses default if empty)"}),n.jsx("textarea",{value:B,onChange:Q=>$(Q.target.value),placeholder:o.initial_outreach_message||"Hi! Thanks for reaching out...",rows:3})]}),n.jsx("button",{className:"btn btn-secondary",onClick:se,disabled:K||!H.trim(),children:K?"Sending...":"Send SMS"})]}),n.jsx("style",{children:`
        .page-container {
          max-width: 800px;
          margin: 0 auto;
          padding: 2rem;
        }

        h1 {
          margin-bottom: 1.5rem;
          color: #1a1a1a;
        }

        .card {
          background: #fff;
          border-radius: 8px;
          padding: 1.5rem;
          margin-bottom: 1.5rem;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .card h2 {
          font-size: 1.1rem;
          margin-bottom: 1rem;
          color: #333;
        }

        .phone-status {
          display: flex;
          align-items: center;
          gap: 0.75rem;
          padding: 1rem;
          background: #f5f5f5;
          border-radius: 6px;
        }

        .phone-status.active {
          background: #e6f4ea;
        }

        .phone-status.inactive {
          background: #fef7e0;
          flex-direction: column;
          align-items: flex-start;
        }

        .status-dot {
          width: 10px;
          height: 10px;
          border-radius: 50%;
          background: #ccc;
        }

        .phone-status.active .status-dot {
          background: #34a853;
        }

        .phone-status.inactive .status-dot {
          background: #f9ab00;
        }

        .phone-number {
          font-size: 1.25rem;
          font-weight: 600;
          font-family: monospace;
        }

        .status-label {
          color: #666;
          font-size: 0.9rem;
        }

        .toggle-row {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 0.75rem 0;
          cursor: pointer;
        }

        .toggle-row input[type="checkbox"] {
          width: 20px;
          height: 20px;
          cursor: pointer;
        }

        .form-group {
          margin: 1rem 0;
        }

        .form-group label {
          display: block;
          margin-bottom: 0.5rem;
          font-weight: 500;
          color: #333;
        }

        input[type="tel"],
        textarea,
        select {
          width: 100%;
          padding: 0.75rem;
          border: 1px solid #ddd;
          border-radius: 6px;
          font-size: 1rem;
          font-family: inherit;
        }

        textarea {
          resize: vertical;
        }

        input:focus,
        textarea:focus,
        select:focus {
          outline: none;
          border-color: #4285f4;
          box-shadow: 0 0 0 2px rgba(66, 133, 244, 0.2);
        }

        .help-text {
          font-size: 0.875rem;
          color: #666;
          margin: 0.5rem 0;
        }

        .btn {
          padding: 0.75rem 1.5rem;
          border: none;
          border-radius: 6px;
          font-size: 1rem;
          font-weight: 500;
          cursor: pointer;
          transition: background-color 0.2s;
        }

        .btn:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .btn-primary {
          background: #4285f4;
          color: white;
        }

        .btn-primary:hover:not(:disabled) {
          background: #3367d6;
        }

        .btn-secondary {
          background: #34a853;
          color: white;
        }

        .btn-secondary:hover:not(:disabled) {
          background: #2d8e47;
        }

        .alert {
          padding: 1rem;
          border-radius: 6px;
          margin-bottom: 1.5rem;
        }

        .alert-success {
          background: #e6f4ea;
          color: #1e7e34;
        }

        .alert-error {
          background: #fce8e6;
          color: #c5221f;
        }

        .loading {
          text-align: center;
          padding: 3rem;
          color: #666;
        }
      `})]})}function pj(){const{user:i,selectedTenantId:r}=Kt(),[u]=qm(),[o,f]=v.useState(!1),[h,g]=v.useState(""),[N,y]=v.useState(""),[x,m]=v.useState(!1),[S,z]=v.useState(!1),[H,F]=v.useState(!1),[B,$]=v.useState({lead_capture_subject_prefixes:[]}),[K,V]=v.useState(""),U=v.useCallback(()=>ce.getEmailSettings(),[]),{data:M,loading:se,error:ae,refetch:Q}=Ea(U);v.useEffect(()=>{const C=u.get("connected"),E=u.get("email"),le=u.get("error");C==="true"&&E?(g(`Successfully connected to ${E}!`),Q()):le&&y(`OAuth error: ${le}`)},[u,Q]);const Y=i?.is_global_admin&&!r;v.useEffect(()=>{M&&$({lead_capture_subject_prefixes:M.lead_capture_subject_prefixes||[]})},[M]);const O=()=>{const C=K.trim();C&&!B.lead_capture_subject_prefixes.includes(C)&&($(E=>({...E,lead_capture_subject_prefixes:[...E.lead_capture_subject_prefixes,C]})),V(""))},ne=C=>{$(E=>({...E,lead_capture_subject_prefixes:E.lead_capture_subject_prefixes.filter(le=>le!==C)}))},re=C=>{C.key==="Enter"&&(C.preventDefault(),O())},P=async C=>{C.preventDefault(),y(""),g(""),f(!0);try{await ce.updateEmailSettings(B),g("Settings updated successfully"),Q()}catch(E){y(E.message||"Failed to save settings")}finally{f(!1)}},ye=async()=>{y(""),m(!0);try{const C=await ce.startEmailOAuth();window.location.href=C.authorization_url}catch(C){y(C.message||"Failed to start OAuth flow"),m(!1)}},ve=async()=>{if(window.confirm("Are you sure you want to disconnect Gmail? Lead capture from emails will stop working.")){y(""),z(!0);try{await ce.disconnectEmail(),g("Gmail disconnected successfully"),Q()}catch(C){y(C.message||"Failed to disconnect Gmail")}finally{z(!1)}}},ie=async()=>{y(""),F(!0);try{await ce.refreshEmailWatch(),g("Gmail watch refreshed successfully"),Q()}catch(C){y(C.message||"Failed to refresh Gmail watch")}finally{F(!1)}};return Y?n.jsx("div",{className:"email-settings-page",children:n.jsx(Qe,{icon:"",title:"Select a tenant to manage email settings",description:"Please select a tenant from the dropdown above to manage their email lead capture settings."})}):se?n.jsx("div",{className:"email-settings-page",children:n.jsx(nt,{message:"Loading email settings..."})}):ae&&!M?ae.includes("Tenant context required")||ae.includes("Tenant context")?n.jsx("div",{className:"email-settings-page",children:n.jsx(Qe,{icon:"",title:"Select a tenant to manage email settings",description:"Please select a tenant from the dropdown above to manage their email lead capture settings."})}):n.jsx("div",{className:"email-settings-page",children:n.jsx(Pt,{message:ae,onRetry:Q})}):n.jsxs("div",{className:"email-settings-page",children:[n.jsx("h1",{children:"Email Lead Capture"}),n.jsx("p",{className:"description",children:"Connect your Gmail account to automatically capture leads from incoming emails."}),N&&n.jsx("div",{className:"error-message",children:N}),h&&n.jsx("div",{className:"success-message",children:h}),n.jsxs("section",{className:"settings-section",children:[n.jsx("h2",{children:"Gmail Connection"}),M?.is_connected?n.jsxs("div",{className:"connection-status connected",children:[n.jsxs("div",{className:"status-indicator",children:[n.jsx("span",{className:"status-dot connected"}),n.jsx("span",{children:"Connected"})]}),n.jsxs("div",{className:"connected-email",children:[n.jsx("strong",{children:"Email:"})," ",M.gmail_email]}),n.jsxs("div",{className:"watch-status",children:[n.jsx("strong",{children:"Push Notifications:"})," ",M.watch_active?n.jsx("span",{className:"badge badge-success",children:"Active"}):n.jsx("span",{className:"badge badge-warning",children:"Inactive"}),n.jsx("button",{type:"button",className:"btn-secondary btn-small",onClick:ie,disabled:H,children:H?"Refreshing...":"Refresh Watch"})]}),n.jsx("button",{type:"button",className:"btn-danger",onClick:ve,disabled:S,children:S?"Disconnecting...":"Disconnect Gmail"})]}):n.jsxs("div",{className:"connection-status disconnected",children:[n.jsxs("div",{className:"status-indicator",children:[n.jsx("span",{className:"status-dot disconnected"}),n.jsx("span",{children:"Not Connected"})]}),n.jsx("p",{children:"Connect your Gmail account to enable lead capture from emails."}),n.jsx("button",{type:"button",className:"btn-primary gmail-connect-btn",onClick:ye,disabled:x,children:x?"Connecting...":n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"gmail-icon",viewBox:"0 0 24 24",width:"20",height:"20",children:n.jsx("path",{fill:"currentColor",d:"M20 18h-2V9.25L12 13 6 9.25V18H4V6h1.2l6.8 4.25L18.8 6H20m0-2H4c-1.11 0-2 .89-2 2v12a2 2 0 002 2h16a2 2 0 002-2V6a2 2 0 00-2-2z"})}),"Connect Gmail"]})})]})]}),M?.is_connected&&n.jsxs("form",{onSubmit:P,className:"settings-form",children:[n.jsxs("section",{className:"settings-section",children:[n.jsx("h2",{children:"Lead Capture"}),n.jsx("p",{className:"section-description",children:"Configure which email subjects should create leads. Only emails with subjects that start with one of these prefixes will create leads."}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Subject Prefixes for Lead Capture"}),n.jsx("div",{className:"prefix-list",children:B.lead_capture_subject_prefixes.length===0?n.jsx("div",{className:"prefix-empty",children:"No prefixes configured. No leads will be created from emails."}):B.lead_capture_subject_prefixes.map((C,E)=>n.jsxs("div",{className:"prefix-item",children:[n.jsx("span",{className:"prefix-text",children:C}),n.jsx("button",{type:"button",className:"prefix-remove",onClick:()=>ne(C),title:"Remove prefix",children:""})]},E))}),n.jsxs("div",{className:"prefix-add-row",children:[n.jsx("input",{type:"text",value:K,onChange:C=>V(C.target.value),onKeyDown:re,placeholder:"Enter a subject prefix...",className:"prefix-input"}),n.jsx("button",{type:"button",className:"btn-secondary",onClick:O,disabled:!K.trim(),children:"Add Prefix"})]}),n.jsx("small",{children:'Emails with subjects starting with these prefixes (case-insensitive) will create leads. Examples: "Email Capture from Booking Page", "Get In Touch Form Submission"'})]})]}),n.jsx("button",{type:"submit",className:"save-btn",disabled:o,children:o?"Saving...":"Save Settings"})]})]})}function gj(){const i=Jt(),{selectTenant:r,refreshTenants:u}=Kt(),[o,f]=v.useState([]),[h,g]=v.useState(!0),[N,y]=v.useState(null),[x,m]=v.useState(!1),[S,z]=v.useState({name:"",subdomain:"",is_active:!0}),[H,F]=v.useState(!1),[B,$]=v.useState("list"),[K,V]=v.useState(0),[U,M]=v.useState(null),[se,ae]=v.useState(!1);v.useEffect(()=>{Q()},[]);const Q=async()=>{g(!0),y(null);try{const E=await ce.getTenants();f(Array.isArray(E)?E:[])}catch(E){console.error("Failed to fetch tenants:",E),y(E.message||"Failed to load tenants")}finally{g(!1)}},Y=async E=>{E.preventDefault(),F(!0),y(null);try{const le=await ce.createTenant(S);f([...o,le]),z({name:"",subdomain:"",is_active:!0}),m(!1),u&&u()}catch(le){y(le.message||"Failed to create tenant")}finally{F(!1)}},O=(E,le,de)=>{f(pe=>pe.map(j=>j.id===E?{...j,[le]:de}:j)),U&&U.id===E&&M({...U,[le]:de})},ne=async(E,le,de)=>{const pe=de===""?null:de;y(null);try{const j=await ce.updateTenant(E,{[le]:pe});f(q=>q.map(I=>I.id===E?j:I)),U&&U.id===E&&M(j),u&&u()}catch(j){y(j.message||"Failed to update tenant")}},re=async()=>{if(U){ae(!0),y(null);try{const E=await ce.updateTenant(U.id,{tenant_number:U.tenant_number||null,name:U.name,tier:U.tier||null,end_date:U.end_date||null,is_active:U.is_active});f(le=>le.map(de=>de.id===E.id?E:de)),M(E),u&&u()}catch(E){y(E.message||"Failed to save tenant")}finally{ae(!1)}}},P=E=>{V(E),M({...o[E]}),$("single")},ye=()=>{if(K>0){const E=K-1;V(E),M({...o[E]})}},ve=()=>{if(K<o.length-1){const E=K+1;V(E),M({...o[E]})}},ie=E=>{r(E),i("/")},C=()=>{$("list"),M(null)};return h?n.jsx(nt,{message:"Loading tenants...",fullPage:!0}):N&&o.length===0?n.jsx(Pt,{message:N,onRetry:Q}):B==="single"&&U?n.jsxs("div",{className:"manage-tenants-page",children:[n.jsxs("div",{className:"single-view-header",children:[n.jsx("button",{className:"btn-back",onClick:C,children:" Back to List"}),n.jsxs("div",{className:"tenant-nav",children:[n.jsx("button",{className:"btn-nav",onClick:ye,disabled:K===0,children:" Previous"}),n.jsxs("span",{className:"nav-indicator",children:["Tenant ",K+1," of ",o.length]}),n.jsx("button",{className:"btn-nav",onClick:ve,disabled:K===o.length-1,children:"Next "})]})]}),N&&n.jsx("div",{className:"error-message",children:N}),n.jsxs("div",{className:"tenant-detail-card",children:[n.jsxs("div",{className:"tenant-detail-header",children:[n.jsx("h2",{children:U.name}),n.jsx("span",{className:`status ${U.is_active?"active":"inactive"}`,children:U.is_active?"Active":"Inactive"})]}),n.jsxs("div",{className:"tenant-detail-grid",children:[n.jsxs("div",{className:"detail-field",children:[n.jsx("label",{children:"System ID"}),n.jsx("div",{className:"readonly-value",children:U.id})]}),n.jsxs("div",{className:"detail-field",children:[n.jsx("label",{children:"Tenant Number (Assignable ID)"}),n.jsx("input",{type:"text",value:U.tenant_number||"",onChange:E=>M({...U,tenant_number:E.target.value}),placeholder:"Enter custom tenant ID..."}),n.jsx("small",{children:"Assign a custom identifier for this tenant"})]}),n.jsxs("div",{className:"detail-field",children:[n.jsx("label",{children:"Name"}),n.jsx("input",{type:"text",value:U.name||"",onChange:E=>M({...U,name:E.target.value})})]}),n.jsxs("div",{className:"detail-field",children:[n.jsx("label",{children:"Subdomain"}),n.jsx("div",{className:"readonly-value",children:U.subdomain})]}),n.jsxs("div",{className:"detail-field",children:[n.jsx("label",{children:"Tier"}),n.jsx("input",{type:"text",value:U.tier||"",onChange:E=>M({...U,tier:E.target.value}),placeholder:"e.g., basic, pro, enterprise"})]}),n.jsxs("div",{className:"detail-field",children:[n.jsx("label",{children:"End Date"}),n.jsx("input",{type:"date",value:U.end_date||"",onChange:E=>M({...U,end_date:E.target.value})})]}),n.jsxs("div",{className:"detail-field",children:[n.jsx("label",{children:"Status"}),n.jsxs("select",{value:U.is_active?"active":"inactive",onChange:E=>M({...U,is_active:E.target.value==="active"}),children:[n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"inactive",children:"Inactive"})]})]}),n.jsxs("div",{className:"detail-field",children:[n.jsx("label",{children:"Created"}),n.jsx("div",{className:"readonly-value",children:new Date(U.created_at).toLocaleString()})]})]}),n.jsxs("div",{className:"tenant-detail-actions",children:[n.jsx("button",{className:"btn-primary",onClick:re,disabled:se,children:se?"Saving...":"Save Changes"}),n.jsx("button",{className:"btn-secondary",onClick:()=>ie(U.id),children:"View Tenant Screens "})]})]})]}):n.jsxs("div",{className:"manage-tenants-page",children:[n.jsxs("div",{className:"page-header",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Manage Tenants"}),n.jsx("p",{className:"page-subtitle",children:"Create and manage tenant accounts"})]}),n.jsx("button",{className:"btn-primary",onClick:()=>m(!0),children:"+ Create Tenant"})]}),N&&n.jsx("div",{className:"error-message",children:N}),o.length===0?n.jsx(Qe,{icon:"",title:"No tenants yet",description:"Create your first tenant to get started.",action:{label:"+ Create Tenant",onClick:()=>m(!0)}}):n.jsx("div",{className:"tenants-table-container",children:n.jsxs("table",{className:"tenants-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"ID"}),n.jsx("th",{children:"Tenant #"}),n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Subdomain"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Created"}),n.jsx("th",{children:"End Date"}),n.jsx("th",{children:"Tier"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:o.map((E,le)=>n.jsxs("tr",{children:[n.jsx("td",{children:E.id}),n.jsx("td",{children:n.jsx("input",{className:"tenant-input",type:"text",value:E.tenant_number||"",onChange:de=>O(E.id,"tenant_number",de.target.value),onBlur:de=>{const pe=de.target.value.trim();O(E.id,"tenant_number",pe),ne(E.id,"tenant_number",pe)},placeholder:"Assign..."})}),n.jsx("td",{children:E.name}),n.jsx("td",{children:E.subdomain||"-"}),n.jsx("td",{children:n.jsx("span",{className:`status ${E.is_active?"active":"inactive"}`,children:E.is_active?"Active":"Inactive"})}),n.jsx("td",{children:new Date(E.created_at).toLocaleDateString()}),n.jsx("td",{children:n.jsx("input",{className:"tenant-input",type:"date",value:E.end_date||"",onChange:de=>O(E.id,"end_date",de.target.value),onBlur:de=>ne(E.id,"end_date",de.target.value)})}),n.jsx("td",{children:n.jsx("input",{className:"tenant-input",type:"text",value:E.tier||"",onChange:de=>O(E.id,"tier",de.target.value),onBlur:de=>{const pe=de.target.value.trim();O(E.id,"tier",pe),ne(E.id,"tier",pe)},placeholder:"-"})}),n.jsxs("td",{className:"actions-cell",children:[n.jsx("button",{className:"btn-view",onClick:()=>P(le),title:"View/Edit tenant details",children:"Edit"}),n.jsx("button",{className:"btn-impersonate",onClick:()=>ie(E.id),title:"View this tenant's screens",children:"View "})]})]},E.id))})]})}),x&&n.jsx("div",{className:"modal-overlay",onClick:()=>{m(!1),y(null)},children:n.jsxs("div",{className:"modal",onClick:E=>E.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{children:"Create New Tenant"}),n.jsx("button",{className:"modal-close",onClick:()=>{m(!1),y(null)},children:""})]}),n.jsxs("form",{onSubmit:Y,children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Tenant Name"}),n.jsx("input",{type:"text",value:S.name,onChange:E=>z({...S,name:E.target.value}),placeholder:"e.g., Acme Corporation",required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Subdomain"}),n.jsx("input",{type:"text",value:S.subdomain,onChange:E=>z({...S,subdomain:E.target.value}),placeholder:"e.g., acme",required:!0}),n.jsx("small",{children:"Lowercase letters, numbers, and hyphens only"})]}),n.jsxs("div",{className:"modal-actions",children:[n.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{m(!1),y(null)},children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn-primary",disabled:H,children:H?"Creating...":"Create Tenant"})]})]})]})})]})}function vj(){const i=Jt(),r=v.useRef(null),[u,o]=v.useState([]),[f,h]=v.useState(null),[g,N]=v.useState("text"),[y,x]=v.useState(null),[m,S]=v.useState({}),[z,H]=v.useState(""),[F,B]=v.useState(!1),[$,K]=v.useState(0),[V,U]=v.useState(!1),[M,se]=v.useState(!1),[ae,Q]=v.useState(null),[Y,O]=v.useState(null),[ne,re]=v.useState(!1),[P,ye]=v.useState(!1);v.useEffect(()=>{ve()},[]),v.useEffect(()=>{r.current?.scrollIntoView({behavior:"smooth"})},[u]);const ve=async()=>{U(!0);try{const j=await ce.startPromptInterview();h(j.current_step),N(j.question_type),x(j.choices),K(j.progress),o([{type:"assistant",content:" Hi! I'm going to help you set up your chatbot. I'll ask you a few questions about your business, and then I'll create a customized prompt for your chatbot."},{type:"assistant",content:j.question}])}catch(j){Q(j.message||"Failed to start interview")}finally{U(!1)}},ie=["anything_else","class_url","cancellation_policy","refund_policy","booking_requirements","other_policies","age_requirements","equipment_needed","prerequisites","other_requirements"],C=async j=>{const q=ie.includes(f);if(!j.trim()&&g==="text"&&!q)return;const I=g==="choice"&&y?.find(te=>te.value===j)?.label||j;o(te=>[...te,{type:"user",content:I}]),H(""),U(!0);try{const te=await ce.submitInterviewAnswer({current_step:f,answer:j,collected_data:m});h(te.current_step),N(te.question_type),x(te.choices),S(te.collected_data),K(te.progress);const fe=te.is_complete||te.question_type==="complete";B(fe),o(ge=>[...ge,{type:"assistant",content:te.question}])}catch(te){Q(te.message||"Failed to submit answer"),o(fe=>[...fe,{type:"error",content:"Something went wrong. Please try again."}])}finally{U(!1)}},E=j=>{j.key==="Enter"&&!j.shiftKey&&!V&&(j.preventDefault(),C(z))},le=async()=>{se(!0);try{const j=await ce.generatePromptFromInterview({collected_data:m});O(j),o(q=>[...q,{type:"assistant",content:` ${j.message}`}])}catch(j){Q(j.message||"Failed to generate prompt"),o(q=>[...q,{type:"error",content:"Failed to generate prompt. Please try again."}])}finally{se(!1)}},de=async()=>{if(Y?.bundle_id){re(!0);try{await ce.publishPromptBundle(Y.bundle_id),ye(!0),o(j=>[...j,{type:"assistant",content:" Your chatbot is now live! Visitors to your website will start seeing responses from your new prompt."}])}catch(j){Q(j.message||"Failed to publish prompt"),o(q=>[...q,{type:"error",content:"Failed to publish prompt. Please try again or publish from the Prompts page."}])}finally{re(!1)}}},pe=()=>{i("/settings/prompts")};return n.jsxs("div",{className:"prompt-wizard",children:[n.jsxs("div",{className:"wizard-header",children:[n.jsx("button",{className:"back-button",onClick:()=>i("/settings/prompts"),children:" Back to Prompts"}),n.jsxs("div",{className:"wizard-title",children:[n.jsx("h1",{children:"Create Your Chatbot"}),n.jsx("p",{children:"Answer a few questions to set up your chatbot's personality and knowledge"})]}),n.jsxs("div",{className:"progress-container",children:[n.jsx("div",{className:"progress-bar",children:n.jsx("div",{className:"progress-fill",style:{width:`${$}%`}})}),n.jsxs("span",{className:"progress-text",children:[$,"% complete"]})]})]}),n.jsxs("div",{className:"wizard-chat",children:[n.jsxs("div",{className:"messages-container",children:[u.map((j,q)=>n.jsxs("div",{className:`message ${j.type}`,children:[j.type==="assistant"&&n.jsx("div",{className:"message-avatar",children:""}),n.jsx("div",{className:"message-content",children:j.content})]},q)),V&&n.jsxs("div",{className:"message assistant",children:[n.jsx("div",{className:"message-avatar",children:""}),n.jsxs("div",{className:"message-content typing",children:[n.jsx("span",{}),n.jsx("span",{}),n.jsx("span",{})]})]}),n.jsx("div",{ref:r})]}),n.jsxs("div",{className:"input-area",children:[ae&&n.jsxs("div",{className:"error-banner",children:[ae,n.jsx("button",{onClick:()=>Q(null),children:""})]}),!F&&g!=="complete"?g==="choice"&&y?n.jsx("div",{className:"choices-container",children:y.map(j=>n.jsxs("button",{className:"choice-button",onClick:()=>C(j.value),disabled:V,children:[n.jsx("div",{className:"choice-label",children:j.label}),n.jsx("div",{className:"choice-description",children:j.description}),n.jsxs("div",{className:"choice-example",children:['"',j.example,'"']})]},j.value))}):n.jsxs("div",{className:"text-input-container",children:[n.jsx("textarea",{value:z,onChange:j=>H(j.target.value),onKeyPress:E,placeholder:"Type your answer...",disabled:V,rows:3}),n.jsx("button",{className:"send-button",onClick:()=>C(z),disabled:V||!z.trim()&&!ie.includes(f),children:ie.includes(f)&&!z.trim()?"Skip":"Send"})]}):n.jsx("div",{className:"complete-actions",children:Y?n.jsx("div",{className:"success-actions",children:P?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"success-message published",children:[n.jsx("span",{className:"success-icon",children:""}),"Your chatbot is now live!"]}),n.jsx("p",{className:"published-description",children:"Visitors to your website will now see responses from your new chatbot prompt."}),n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"primary-button",onClick:()=>i(`/settings/prompts?test=${Y.bundle_id}`),children:"Test Your Chatbot"}),n.jsx("button",{className:"secondary-button",onClick:pe,children:"View All Prompts"})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"success-message",children:[n.jsx("span",{className:"success-icon",children:""}),"Prompt created successfully!"]}),n.jsxs("div",{className:"publish-prompt",children:[n.jsx("p",{className:"publish-description",children:"Your prompt is ready! Publish it now to make your chatbot live on your website."}),n.jsx("button",{className:"publish-button",onClick:de,disabled:ne,children:ne?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"spinner"}),"Publishing..."]}):" Publish Now"})]}),n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"secondary-button",onClick:()=>i(`/settings/prompts?test=${Y.bundle_id}`),children:"Test First"}),n.jsx("button",{className:"ghost-button",onClick:pe,children:"Publish Later"})]})]})}):n.jsx("button",{className:"generate-button",onClick:le,disabled:M,children:M?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"spinner"}),"Generating..."]}):" Generate Prompt"})})]})]}),Object.keys(m).filter(j=>!j.startsWith("_")&&!j.startsWith("has_")).length>0&&n.jsxs("div",{className:"preview-panel",children:[n.jsx("h3",{children:" Collected Information"}),n.jsx("div",{className:"collected-data",children:Object.entries(m).filter(([j])=>!j.startsWith("_")&&!j.startsWith("has_")).map(([j,q])=>{const I=xj(j,q);return I===null?null:n.jsxs("div",{className:"data-item",children:[n.jsxs("span",{className:"data-label",children:[yj(j),":"]}),n.jsx("span",{className:"data-value",children:I})]},j)})})]})]})}function yj(i){return{business_name:"Business Name",industry:"Industry",location:"Location",locations:"Locations",phone_number:"Phone",website_url:"Website",business_hours:"Hours",pool_hours:"Pool Hours",classes:"Classes",services_list:"Services",services:"Services",pricing:"Pricing",faqs:"FAQs",faq:"FAQ",policies:"Policies",requirements:"Requirements",tone:"Tone",lead_timing:"Lead Capture",anything_else:"Additional",cancellation_policy:"Cancellation",refund_policy:"Refund",booking_requirements:"Booking Req.",other_policies:"Other Policies",age_requirements:"Age Req.",equipment_needed:"Equipment",prerequisites:"Prerequisites",other_requirements:"Other Req."}[i]||i.replace(/_/g," ").replace(/\b\w/g,u=>u.toUpperCase())}function xj(i,r){return i==="tone"?{friendly_casual:"Friendly & Casual",professional_polished:"Professional & Polished",enthusiastic_energetic:"Enthusiastic & Energetic",warm_nurturing:"Warm & Nurturing",straightforward_efficient:"Straightforward & Efficient"}[r]||r:Array.isArray(r)?r.length===0?"-":i==="locations"?r.filter(u=>u).map((u,o)=>`${o+1}) ${u}`).join("; "):i==="classes"?r.map(u=>u.url?`${u.name} (${u.url})`:u.name).join("; "):i==="services_list"?r.map(u=>u.name).join(", "):i==="faqs"?`${r.length} FAQ${r.length!==1?"s":""}`:i==="pool_hours"?r.map(u=>`${u.name}: ${u.hours}`).join("; "):r.length+" items":i.startsWith("_")?null:typeof r=="string"&&r.length>100?r.substring(0,100)+"...":r||"-"}function bj(){return n.jsx(ax,{children:n.jsx(Zy,{children:n.jsxs(Ny,{children:[n.jsx($e,{path:"/login",element:n.jsx(ix,{})}),n.jsx($e,{path:"/onboarding",element:n.jsx(Ph,{children:n.jsx(cj,{})})}),n.jsxs($e,{path:"/",element:n.jsx(Ph,{requireProfile:!0,children:n.jsx(sx,{})}),children:[n.jsx($e,{index:!0,element:n.jsx(Kb,{})}),n.jsx($e,{path:"contacts",element:n.jsx(tj,{})}),n.jsx($e,{path:"contacts/:id",element:n.jsx(aj,{})}),n.jsx($e,{path:"calls",element:n.jsx(nj,{})}),n.jsx($e,{path:"analytics/unknowns",element:n.jsx(lj,{})}),n.jsx($e,{path:"analytics/unknowns/:id",element:n.jsx(sj,{})}),n.jsx($e,{path:"analytics/plots",element:n.jsx(ij,{})}),n.jsx($e,{path:"sms",element:n.jsx(mj,{})}),n.jsx($e,{path:"settings",element:n.jsx(Tn,{to:"/settings/prompts",replace:!0})}),n.jsx($e,{path:"settings/prompts",element:n.jsx(Wb,{})}),n.jsx($e,{path:"settings/prompts/wizard",element:n.jsx(vj,{})}),n.jsx($e,{path:"settings/widget",element:n.jsx(hj,{})}),n.jsx($e,{path:"settings/email",element:n.jsx(pj,{})}),n.jsx($e,{path:"settings/profile",element:n.jsx(oj,{})}),n.jsx($e,{path:"prompts",element:n.jsx(Tn,{to:"/settings/prompts",replace:!0})}),n.jsx($e,{path:"prompts/wizard",element:n.jsx(Tn,{to:"/settings/prompts/wizard",replace:!0})}),n.jsx($e,{path:"email",element:n.jsx(Tn,{to:"/settings/email",replace:!0})}),n.jsx($e,{path:"admin/tenants",element:n.jsx(gj,{})})]}),n.jsx($e,{path:"*",element:n.jsx(Tn,{to:"/",replace:!0})})]})})})}Tv.createRoot(document.getElementById("root")).render(n.jsx(v.StrictMode,{children:n.jsx(bj,{})}));
