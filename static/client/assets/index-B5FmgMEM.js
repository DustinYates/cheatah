(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))o(f);new MutationObserver(f=>{for(const h of f)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&o(g)}).observe(document,{childList:!0,subtree:!0});function u(f){const h={};return f.integrity&&(h.integrity=f.integrity),f.referrerPolicy&&(h.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?h.credentials="include":f.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(f){if(f.ep)return;f.ep=!0;const h=u(f);fetch(f.href,h)}})();var so={exports:{}},os={};var Uh;function yv(){if(Uh)return os;Uh=1;var i=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function u(o,f,h){var g=null;if(h!==void 0&&(g=""+h),f.key!==void 0&&(g=""+f.key),"key"in f){h={};for(var j in f)j!=="key"&&(h[j]=f[j])}else h=f;return f=h.ref,{$$typeof:i,type:o,key:g,ref:f!==void 0?f:null,props:h}}return os.Fragment=r,os.jsx=u,os.jsxs=u,os}var Lh;function xv(){return Lh||(Lh=1,so.exports=yv()),so.exports}var n=xv(),io={exports:{}},be={};var kh;function bv(){if(kh)return be;kh=1;var i=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),g=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),z=Symbol.iterator;function Y(b){return b===null||typeof b!="object"?null:(b=z&&b[z]||b["@@iterator"],typeof b=="function"?b:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,$={};function P(b,q,ee){this.props=b,this.context=q,this.refs=$,this.updater=ee||J}P.prototype.isReactComponent={},P.prototype.setState=function(b,q){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,q,"setState")},P.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function Q(){}Q.prototype=P.prototype;function U(b,q,ee){this.props=b,this.context=q,this.refs=$,this.updater=ee||J}var E=U.prototype=new Q;E.constructor=U,k(E,P.prototype),E.isPureReactComponent=!0;var le=Array.isArray;function ne(){}var Z={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function R(b,q,ee){var ae=ee.ref;return{$$typeof:i,type:b,key:q,ref:ae!==void 0?ae:null,props:ee}}function te(b,q){return R(b.type,q,b.props)}function re(b){return typeof b=="object"&&b!==null&&b.$$typeof===i}function W(b){var q={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(ee){return q[ee]})}var xe=/\/+/g;function ve(b,q){return typeof b=="object"&&b!==null&&b.key!=null?W(""+b.key):q.toString(36)}function se(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(ne,ne):(b.status="pending",b.then(function(q){b.status==="pending"&&(b.status="fulfilled",b.value=q)},function(q){b.status==="pending"&&(b.status="rejected",b.reason=q)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function M(b,q,ee,ae,H){var ge=typeof b;(ge==="undefined"||ge==="boolean")&&(b=null);var Se=!1;if(b===null)Se=!0;else switch(ge){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(b.$$typeof){case i:case r:Se=!0;break;case m:return Se=b._init,M(Se(b._payload),q,ee,ae,H)}}if(Se)return H=H(b),Se=ae===""?"."+ve(b,0):ae,le(H)?(ee="",Se!=null&&(ee=Se.replace(xe,"$&/")+"/"),M(H,q,ee,"",function(Xe){return Xe})):H!=null&&(re(H)&&(H=te(H,ee+(H.key==null||b&&b.key===H.key?"":(""+H.key).replace(xe,"$&/")+"/")+Se)),q.push(H)),1;Se=0;var qe=ae===""?".":ae+":";if(le(b))for(var V=0;V<b.length;V++)ae=b[V],ge=qe+ve(ae,V),Se+=M(ae,q,ee,ge,H);else if(V=Y(b),typeof V=="function")for(b=V.call(b),V=0;!(ae=b.next()).done;)ae=ae.value,ge=qe+ve(ae,V++),Se+=M(ae,q,ee,ge,H);else if(ge==="object"){if(typeof b.then=="function")return M(se(b),q,ee,ae,H);throw q=String(b),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Se}function C(b,q,ee){if(b==null)return b;var ae=[],H=0;return M(b,ae,"","",function(ge){return q.call(ee,ge,H++)}),ae}function I(b){if(b._status===-1){var q=b._result;q=q(),q.then(function(ee){(b._status===0||b._status===-1)&&(b._status=1,b._result=ee)},function(ee){(b._status===0||b._status===-1)&&(b._status=2,b._result=ee)}),b._status===-1&&(b._status=0,b._result=q)}if(b._status===1)return b._result.default;throw b._result}var ce=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},me={map:C,forEach:function(b,q,ee){C(b,function(){q.apply(this,arguments)},ee)},count:function(b){var q=0;return C(b,function(){q++}),q},toArray:function(b){return C(b,function(q){return q})||[]},only:function(b){if(!re(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return be.Activity=N,be.Children=me,be.Component=P,be.Fragment=u,be.Profiler=f,be.PureComponent=U,be.StrictMode=o,be.Suspense=y,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,be.__COMPILER_RUNTIME={__proto__:null,c:function(b){return Z.H.useMemoCache(b)}},be.cache=function(b){return function(){return b.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(b,q,ee){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var ae=k({},b.props),H=b.key;if(q!=null)for(ge in q.key!==void 0&&(H=""+q.key),q)!G.call(q,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&q.ref===void 0||(ae[ge]=q[ge]);var ge=arguments.length-2;if(ge===1)ae.children=ee;else if(1<ge){for(var Se=Array(ge),qe=0;qe<ge;qe++)Se[qe]=arguments[qe+2];ae.children=Se}return R(b.type,H,ae)},be.createContext=function(b){return b={$$typeof:g,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:h,_context:b},b},be.createElement=function(b,q,ee){var ae,H={},ge=null;if(q!=null)for(ae in q.key!==void 0&&(ge=""+q.key),q)G.call(q,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(H[ae]=q[ae]);var Se=arguments.length-2;if(Se===1)H.children=ee;else if(1<Se){for(var qe=Array(Se),V=0;V<Se;V++)qe[V]=arguments[V+2];H.children=qe}if(b&&b.defaultProps)for(ae in Se=b.defaultProps,Se)H[ae]===void 0&&(H[ae]=Se[ae]);return R(b,ge,H)},be.createRef=function(){return{current:null}},be.forwardRef=function(b){return{$$typeof:j,render:b}},be.isValidElement=re,be.lazy=function(b){return{$$typeof:m,_payload:{_status:-1,_result:b},_init:I}},be.memo=function(b,q){return{$$typeof:x,type:b,compare:q===void 0?null:q}},be.startTransition=function(b){var q=Z.T,ee={};Z.T=ee;try{var ae=b(),H=Z.S;H!==null&&H(ee,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(ne,ce)}catch(ge){ce(ge)}finally{q!==null&&ee.types!==null&&(q.types=ee.types),Z.T=q}},be.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},be.use=function(b){return Z.H.use(b)},be.useActionState=function(b,q,ee){return Z.H.useActionState(b,q,ee)},be.useCallback=function(b,q){return Z.H.useCallback(b,q)},be.useContext=function(b){return Z.H.useContext(b)},be.useDebugValue=function(){},be.useDeferredValue=function(b,q){return Z.H.useDeferredValue(b,q)},be.useEffect=function(b,q){return Z.H.useEffect(b,q)},be.useEffectEvent=function(b){return Z.H.useEffectEvent(b)},be.useId=function(){return Z.H.useId()},be.useImperativeHandle=function(b,q,ee){return Z.H.useImperativeHandle(b,q,ee)},be.useInsertionEffect=function(b,q){return Z.H.useInsertionEffect(b,q)},be.useLayoutEffect=function(b,q){return Z.H.useLayoutEffect(b,q)},be.useMemo=function(b,q){return Z.H.useMemo(b,q)},be.useOptimistic=function(b,q){return Z.H.useOptimistic(b,q)},be.useReducer=function(b,q,ee){return Z.H.useReducer(b,q,ee)},be.useRef=function(b){return Z.H.useRef(b)},be.useState=function(b){return Z.H.useState(b)},be.useSyncExternalStore=function(b,q,ee){return Z.H.useSyncExternalStore(b,q,ee)},be.useTransition=function(){return Z.H.useTransition()},be.version="19.2.3",be}var Bh;function Co(){return Bh||(Bh=1,io.exports=bv()),io.exports}var v=Co(),co={exports:{}},us={},ro={exports:{}},oo={};var qh;function jv(){return qh||(qh=1,(function(i){function r(M,C){var I=M.length;M.push(C);e:for(;0<I;){var ce=I-1>>>1,me=M[ce];if(0<f(me,C))M[ce]=C,M[I]=me,I=ce;else break e}}function u(M){return M.length===0?null:M[0]}function o(M){if(M.length===0)return null;var C=M[0],I=M.pop();if(I!==C){M[0]=I;e:for(var ce=0,me=M.length,b=me>>>1;ce<b;){var q=2*(ce+1)-1,ee=M[q],ae=q+1,H=M[ae];if(0>f(ee,I))ae<me&&0>f(H,ee)?(M[ce]=H,M[ae]=I,ce=ae):(M[ce]=ee,M[q]=I,ce=q);else if(ae<me&&0>f(H,I))M[ce]=H,M[ae]=I,ce=ae;else break e}}return C}function f(M,C){var I=M.sortIndex-C.sortIndex;return I!==0?I:M.id-C.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var g=Date,j=g.now();i.unstable_now=function(){return g.now()-j}}var y=[],x=[],m=1,N=null,z=3,Y=!1,J=!1,k=!1,$=!1,P=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function E(M){for(var C=u(x);C!==null;){if(C.callback===null)o(x);else if(C.startTime<=M)o(x),C.sortIndex=C.expirationTime,r(y,C);else break;C=u(x)}}function le(M){if(k=!1,E(M),!J)if(u(y)!==null)J=!0,ne||(ne=!0,W());else{var C=u(x);C!==null&&se(le,C.startTime-M)}}var ne=!1,Z=-1,G=5,R=-1;function te(){return $?!0:!(i.unstable_now()-R<G)}function re(){if($=!1,ne){var M=i.unstable_now();R=M;var C=!0;try{e:{J=!1,k&&(k=!1,Q(Z),Z=-1),Y=!0;var I=z;try{t:{for(E(M),N=u(y);N!==null&&!(N.expirationTime>M&&te());){var ce=N.callback;if(typeof ce=="function"){N.callback=null,z=N.priorityLevel;var me=ce(N.expirationTime<=M);if(M=i.unstable_now(),typeof me=="function"){N.callback=me,E(M),C=!0;break t}N===u(y)&&o(y),E(M)}else o(y);N=u(y)}if(N!==null)C=!0;else{var b=u(x);b!==null&&se(le,b.startTime-M),C=!1}}break e}finally{N=null,z=I,Y=!1}C=void 0}}finally{C?W():ne=!1}}}var W;if(typeof U=="function")W=function(){U(re)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,ve=xe.port2;xe.port1.onmessage=re,W=function(){ve.postMessage(null)}}else W=function(){P(re,0)};function se(M,C){Z=P(function(){M(i.unstable_now())},C)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(M){M.callback=null},i.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<M?Math.floor(1e3/M):5},i.unstable_getCurrentPriorityLevel=function(){return z},i.unstable_next=function(M){switch(z){case 1:case 2:case 3:var C=3;break;default:C=z}var I=z;z=C;try{return M()}finally{z=I}},i.unstable_requestPaint=function(){$=!0},i.unstable_runWithPriority=function(M,C){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var I=z;z=M;try{return C()}finally{z=I}},i.unstable_scheduleCallback=function(M,C,I){var ce=i.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?ce+I:ce):I=ce,M){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=I+me,M={id:m++,callback:C,priorityLevel:M,startTime:I,expirationTime:me,sortIndex:-1},I>ce?(M.sortIndex=I,r(x,M),u(y)===null&&M===u(x)&&(k?(Q(Z),Z=-1):k=!0,se(le,I-ce))):(M.sortIndex=me,r(y,M),J||Y||(J=!0,ne||(ne=!0,W()))),M},i.unstable_shouldYield=te,i.unstable_wrapCallback=function(M){var C=z;return function(){var I=z;z=C;try{return M.apply(this,arguments)}finally{z=I}}}})(oo)),oo}var Hh;function Nv(){return Hh||(Hh=1,ro.exports=jv()),ro.exports}var uo={exports:{}},gt={};var Yh;function Sv(){if(Yh)return gt;Yh=1;var i=Co();function r(y){var x="https://react.dev/errors/"+y;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)x+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+y+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(){}var o={d:{f:u,r:function(){throw Error(r(522))},D:u,C:u,L:u,m:u,X:u,S:u,M:u},p:0,findDOMNode:null},f=Symbol.for("react.portal");function h(y,x,m){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:N==null?null:""+N,children:y,containerInfo:x,implementation:m}}var g=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function j(y,x){if(y==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,gt.createPortal=function(y,x){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(r(299));return h(y,x,null,m)},gt.flushSync=function(y){var x=g.T,m=o.p;try{if(g.T=null,o.p=2,y)return y()}finally{g.T=x,o.p=m,o.d.f()}},gt.preconnect=function(y,x){typeof y=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,o.d.C(y,x))},gt.prefetchDNS=function(y){typeof y=="string"&&o.d.D(y)},gt.preinit=function(y,x){if(typeof y=="string"&&x&&typeof x.as=="string"){var m=x.as,N=j(m,x.crossOrigin),z=typeof x.integrity=="string"?x.integrity:void 0,Y=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;m==="style"?o.d.S(y,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:N,integrity:z,fetchPriority:Y}):m==="script"&&o.d.X(y,{crossOrigin:N,integrity:z,fetchPriority:Y,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},gt.preinitModule=function(y,x){if(typeof y=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var m=j(x.as,x.crossOrigin);o.d.M(y,{crossOrigin:m,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&o.d.M(y)},gt.preload=function(y,x){if(typeof y=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var m=x.as,N=j(m,x.crossOrigin);o.d.L(y,m,{crossOrigin:N,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},gt.preloadModule=function(y,x){if(typeof y=="string")if(x){var m=j(x.as,x.crossOrigin);o.d.m(y,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:m,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else o.d.m(y)},gt.requestFormReset=function(y){o.d.r(y)},gt.unstable_batchedUpdates=function(y,x){return y(x)},gt.useFormState=function(y,x,m){return g.H.useFormState(y,x,m)},gt.useFormStatus=function(){return g.H.useHostTransitionStatus()},gt.version="19.2.3",gt}var Gh;function wv(){if(Gh)return uo.exports;Gh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(r){console.error(r)}}return i(),uo.exports=Sv(),uo.exports}var Xh;function _v(){if(Xh)return us;Xh=1;var i=Nv(),r=Co(),u=wv();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function g(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function j(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(h(e)!==e)throw Error(o(188))}function x(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(o(188));return t!==e?null:e}for(var a=e,l=t;;){var s=a.return;if(s===null)break;var c=s.alternate;if(c===null){if(l=s.return,l!==null){a=l;continue}break}if(s.child===c.child){for(c=s.child;c;){if(c===a)return y(s),e;if(c===l)return y(s),t;c=c.sibling}throw Error(o(188))}if(a.return!==l.return)a=s,l=c;else{for(var d=!1,p=s.child;p;){if(p===a){d=!0,a=s,l=c;break}if(p===l){d=!0,l=s,a=c;break}p=p.sibling}if(!d){for(p=c.child;p;){if(p===a){d=!0,a=c,l=s;break}if(p===l){d=!0,l=c,a=s;break}p=p.sibling}if(!d)throw Error(o(189))}}if(a.alternate!==l)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:t}function m(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=m(e),t!==null)return t;e=e.sibling}return null}var N=Object.assign,z=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),U=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function W(e){return e===null||typeof e!="object"?null:(e=re&&e[re]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Symbol.for("react.client.reference");function ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===xe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case P:return"Profiler";case $:return"StrictMode";case le:return"Suspense";case ne:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case U:return e.displayName||"Context";case Q:return(e._context.displayName||"Context")+".Consumer";case E:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return t=e.displayName||null,t!==null?t:ve(e.type)||"Memo";case G:t=e._payload,e=e._init;try{return ve(e(t))}catch{}}return null}var se=Array.isArray,M=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},ce=[],me=-1;function b(e){return{current:e}}function q(e){0>me||(e.current=ce[me],ce[me]=null,me--)}function ee(e,t){me++,ce[me]=e.current,e.current=t}var ae=b(null),H=b(null),ge=b(null),Se=b(null);function qe(e,t){switch(ee(ge,t),ee(H,e),ee(ae,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?lh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=lh(t),e=sh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(ae),ee(ae,e)}function V(){q(ae),q(H),q(ge)}function Xe(e){e.memoizedState!==null&&ee(Se,e);var t=ae.current,a=sh(t,e.type);t!==a&&(ee(H,e),ee(ae,a))}function S(e){H.current===e&&(q(ae),q(H)),Se.current===e&&(q(Se),ss._currentValue=I)}var ye,Fe;function He(e){if(ye===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ye=t&&t[1]||"",Fe=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ye+e+Fe}var ra=!1;function ct(e,t){if(!e||ra)return"";ra=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(L){var O=L}Reflect.construct(e,[],K)}else{try{K.call()}catch(L){O=L}e.call(K.prototype)}}else{try{throw Error()}catch(L){O=L}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(L){if(L&&O&&typeof L.stack=="string")return[L.stack,O.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=l.DetermineComponentFrameRoot(),d=c[0],p=c[1];if(d&&p){var w=d.split(`
`),D=p.split(`
`);for(s=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;s<D.length&&!D[s].includes("DetermineComponentFrameRoot");)s++;if(l===w.length||s===D.length)for(l=w.length-1,s=D.length-1;1<=l&&0<=s&&w[l]!==D[s];)s--;for(;1<=l&&0<=s;l--,s--)if(w[l]!==D[s]){if(l!==1||s!==1)do if(l--,s--,0>s||w[l]!==D[s]){var X=`
`+w[l].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=l&&0<=s);break}}}finally{ra=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?He(a):""}function Tn(e,t){switch(e.tag){case 26:case 27:case 5:return He(e.type);case 16:return He("Lazy");case 13:return e.child!==t&&t!==null?He("Suspense Fallback"):He("Suspense");case 19:return He("SuspenseList");case 0:case 15:return ct(e.type,!1);case 11:return ct(e.type.render,!1);case 1:return ct(e.type,!0);case 31:return He("Activity");default:return""}}function an(e){try{var t="",a=null;do t+=Tn(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var B=Object.prototype.hasOwnProperty,oe=i.unstable_scheduleCallback,pe=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Ge=i.unstable_requestPaint,Ue=i.unstable_now,xs=i.unstable_getCurrentPriorityLevel,Uo=i.unstable_ImmediatePriority,Lo=i.unstable_UserBlockingPriority,bs=i.unstable_NormalPriority,Im=i.unstable_LowPriority,ko=i.unstable_IdlePriority,ep=i.log,tp=i.unstable_setDisableYieldValue,vl=null,Ct=null;function Da(e){if(typeof ep=="function"&&tp(e),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(vl,e)}catch{}}var Tt=Math.clz32?Math.clz32:lp,ap=Math.log,np=Math.LN2;function lp(e){return e>>>=0,e===0?32:31-(ap(e)/np|0)|0}var js=256,Ns=262144,Ss=4194304;function nn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ws(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var s=0,c=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var p=l&134217727;return p!==0?(l=p&~c,l!==0?s=nn(l):(d&=p,d!==0?s=nn(d):a||(a=p&~e,a!==0&&(s=nn(a))))):(p=l&~c,p!==0?s=nn(p):d!==0?s=nn(d):a||(a=l&~e,a!==0&&(s=nn(a)))),s===0?0:t!==0&&t!==s&&(t&c)===0&&(c=s&-s,a=t&-t,c>=a||c===32&&(a&4194048)!==0)?t:s}function yl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function sp(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bo(){var e=Ss;return Ss<<=1,(Ss&62914560)===0&&(Ss=4194304),e}function Fi(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function xl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ip(e,t,a,l,s,c){var d=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var p=e.entanglements,w=e.expirationTimes,D=e.hiddenUpdates;for(a=d&~a;0<a;){var X=31-Tt(a),K=1<<X;p[X]=0,w[X]=-1;var O=D[X];if(O!==null)for(D[X]=null,X=0;X<O.length;X++){var L=O[X];L!==null&&(L.lane&=-536870913)}a&=~K}l!==0&&qo(e,l,0),c!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=c&~(d&~t))}function qo(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Tt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Ho(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-Tt(a),s=1<<l;s&t|e[l]&t&&(e[l]|=t),a&=~s}}function Yo(e,t){var a=t&-t;return a=(a&42)!==0?1:$i(a),(a&(e.suspendedLanes|t))!==0?0:a}function $i(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ji(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Go(){var e=C.p;return e!==0?e:(e=window.event,e===void 0?32:Eh(e.type))}function Xo(e,t){var a=C.p;try{return C.p=e,t()}finally{C.p=a}}var Ma=Math.random().toString(36).slice(2),dt="__reactFiber$"+Ma,xt="__reactProps$"+Ma,En="__reactContainer$"+Ma,Ki="__reactEvents$"+Ma,cp="__reactListeners$"+Ma,rp="__reactHandles$"+Ma,Vo="__reactResources$"+Ma,bl="__reactMarker$"+Ma;function Pi(e){delete e[dt],delete e[xt],delete e[Ki],delete e[cp],delete e[rp]}function An(e){var t=e[dt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[En]||a[dt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=fh(e);e!==null;){if(a=e[dt])return a;e=fh(e)}return t}e=a,a=e.parentNode}return null}function Dn(e){if(e=e[dt]||e[En]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function jl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function Mn(e){var t=e[Vo];return t||(t=e[Vo]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ot(e){e[bl]=!0}var Qo=new Set,Zo={};function ln(e,t){zn(e,t),zn(e+"Capture",t)}function zn(e,t){for(Zo[e]=t,e=0;e<t.length;e++)Qo.add(t[e])}var op=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fo={},$o={};function up(e){return B.call($o,e)?!0:B.call(Fo,e)?!1:op.test(e)?$o[e]=!0:(Fo[e]=!0,!1)}function _s(e,t,a){if(up(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Cs(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function oa(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function Lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jo(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dp(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var s=l.get,c=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(d){a=""+d,c.call(this,d)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(d){a=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wi(e){if(!e._valueTracker){var t=Jo(e)?"checked":"value";e._valueTracker=dp(e,t,""+e[t])}}function Ko(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=Jo(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function Ts(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fp=/[\n"\\]/g;function kt(e){return e.replace(fp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ii(e,t,a,l,s,c,d,p){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Lt(t)):e.value!==""+Lt(t)&&(e.value=""+Lt(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?ec(e,d,Lt(t)):a!=null?ec(e,d,Lt(a)):l!=null&&e.removeAttribute("value"),s==null&&c!=null&&(e.defaultChecked=!!c),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+Lt(p):e.removeAttribute("name")}function Po(e,t,a,l,s,c,d,p){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||a!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){Wi(e);return}a=a!=null?""+Lt(a):"",t=t!=null?""+Lt(t):a,p||t===e.value||(e.value=t),e.defaultValue=t}l=l??s,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=p?e.checked:!!l,e.defaultChecked=!!l,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),Wi(e)}function ec(e,t,a){t==="number"&&Ts(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function On(e,t,a,l){if(e=e.options,t){t={};for(var s=0;s<a.length;s++)t["$"+a[s]]=!0;for(a=0;a<e.length;a++)s=t.hasOwnProperty("$"+e[a].value),e[a].selected!==s&&(e[a].selected=s),s&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Lt(a),t=null,s=0;s<e.length;s++){if(e[s].value===a){e[s].selected=!0,l&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Wo(e,t,a){if(t!=null&&(t=""+Lt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Lt(a):""}function Io(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(o(92));if(se(l)){if(1<l.length)throw Error(o(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=Lt(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Wi(e)}function Rn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var hp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eu(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||hp.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function tu(e,t,a){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var s in t)l=t[s],t.hasOwnProperty(s)&&a[s]!==l&&eu(e,s,l)}else for(var c in t)t.hasOwnProperty(c)&&eu(e,c,t[c])}function tc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Es(e){return pp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ua(){}var ac=null;function nc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Un=null,Ln=null;function au(e){var t=Dn(e);if(t&&(e=t.stateNode)){var a=e[xt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ii(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+kt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var s=l[xt]||null;if(!s)throw Error(o(90));Ii(l,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&Ko(l)}break e;case"textarea":Wo(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&On(e,!!a.multiple,t,!1)}}}var lc=!1;function nu(e,t,a){if(lc)return e(t,a);lc=!0;try{var l=e(t);return l}finally{if(lc=!1,(Un!==null||Ln!==null)&&(pi(),Un&&(t=Un,e=Ln,Ln=Un=null,au(t),e)))for(t=0;t<e.length;t++)au(e[t])}}function Nl(e,t){var a=e.stateNode;if(a===null)return null;var l=a[xt]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,t,typeof a));return a}var da=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sc=!1;if(da)try{var Sl={};Object.defineProperty(Sl,"passive",{get:function(){sc=!0}}),window.addEventListener("test",Sl,Sl),window.removeEventListener("test",Sl,Sl)}catch{sc=!1}var za=null,ic=null,As=null;function lu(){if(As)return As;var e,t=ic,a=t.length,l,s="value"in za?za.value:za.textContent,c=s.length;for(e=0;e<a&&t[e]===s[e];e++);var d=a-e;for(l=1;l<=d&&t[a-l]===s[c-l];l++);return As=s.slice(e,1<l?1-l:void 0)}function Ds(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ms(){return!0}function su(){return!1}function bt(e){function t(a,l,s,c,d){this._reactName=a,this._targetInst=s,this.type=l,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(a=e[p],this[p]=a?a(c):c[p]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Ms:su,this.isPropagationStopped=su,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ms)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ms)},persist:function(){},isPersistent:Ms}),t}var sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zs=bt(sn),wl=N({},sn,{view:0,detail:0}),gp=bt(wl),cc,rc,_l,Os=N({},wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_l&&(_l&&e.type==="mousemove"?(cc=e.screenX-_l.screenX,rc=e.screenY-_l.screenY):rc=cc=0,_l=e),cc)},movementY:function(e){return"movementY"in e?e.movementY:rc}}),iu=bt(Os),vp=N({},Os,{dataTransfer:0}),yp=bt(vp),xp=N({},wl,{relatedTarget:0}),oc=bt(xp),bp=N({},sn,{animationName:0,elapsedTime:0,pseudoElement:0}),jp=bt(bp),Np=N({},sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sp=bt(Np),wp=N({},sn,{data:0}),cu=bt(wp),_p={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ep(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Tp[e])?!!t[e]:!1}function uc(){return Ep}var Ap=N({},wl,{key:function(e){if(e.key){var t=_p[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ds(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uc,charCode:function(e){return e.type==="keypress"?Ds(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ds(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Dp=bt(Ap),Mp=N({},Os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ru=bt(Mp),zp=N({},wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uc}),Op=bt(zp),Rp=N({},sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Up=bt(Rp),Lp=N({},Os,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kp=bt(Lp),Bp=N({},sn,{newState:0,oldState:0}),qp=bt(Bp),Hp=[9,13,27,32],dc=da&&"CompositionEvent"in window,Cl=null;da&&"documentMode"in document&&(Cl=document.documentMode);var Yp=da&&"TextEvent"in window&&!Cl,ou=da&&(!dc||Cl&&8<Cl&&11>=Cl),uu=" ",du=!1;function fu(e,t){switch(e){case"keyup":return Hp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kn=!1;function Gp(e,t){switch(e){case"compositionend":return hu(t);case"keypress":return t.which!==32?null:(du=!0,uu);case"textInput":return e=t.data,e===uu&&du?null:e;default:return null}}function Xp(e,t){if(kn)return e==="compositionend"||!dc&&fu(e,t)?(e=lu(),As=ic=za=null,kn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ou&&t.locale!=="ko"?null:t.data;default:return null}}var Vp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vp[e.type]:t==="textarea"}function pu(e,t,a,l){Un?Ln?Ln.push(l):Ln=[l]:Un=l,t=Ni(t,"onChange"),0<t.length&&(a=new zs("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var Tl=null,El=null;function Qp(e){Wf(e,0)}function Rs(e){var t=jl(e);if(Ko(t))return e}function gu(e,t){if(e==="change")return t}var vu=!1;if(da){var fc;if(da){var hc="oninput"in document;if(!hc){var yu=document.createElement("div");yu.setAttribute("oninput","return;"),hc=typeof yu.oninput=="function"}fc=hc}else fc=!1;vu=fc&&(!document.documentMode||9<document.documentMode)}function xu(){Tl&&(Tl.detachEvent("onpropertychange",bu),El=Tl=null)}function bu(e){if(e.propertyName==="value"&&Rs(El)){var t=[];pu(t,El,e,nc(e)),nu(Qp,t)}}function Zp(e,t,a){e==="focusin"?(xu(),Tl=t,El=a,Tl.attachEvent("onpropertychange",bu)):e==="focusout"&&xu()}function Fp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rs(El)}function $p(e,t){if(e==="click")return Rs(t)}function Jp(e,t){if(e==="input"||e==="change")return Rs(t)}function Kp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:Kp;function Al(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var s=a[l];if(!B.call(t,s)||!Et(e[s],t[s]))return!1}return!0}function ju(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nu(e,t){var a=ju(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ju(a)}}function Su(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Su(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ts(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ts(e.document)}return t}function mc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Pp=da&&"documentMode"in document&&11>=document.documentMode,Bn=null,pc=null,Dl=null,gc=!1;function _u(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gc||Bn==null||Bn!==Ts(l)||(l=Bn,"selectionStart"in l&&mc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Dl&&Al(Dl,l)||(Dl=l,l=Ni(pc,"onSelect"),0<l.length&&(t=new zs("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=Bn)))}function cn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var qn={animationend:cn("Animation","AnimationEnd"),animationiteration:cn("Animation","AnimationIteration"),animationstart:cn("Animation","AnimationStart"),transitionrun:cn("Transition","TransitionRun"),transitionstart:cn("Transition","TransitionStart"),transitioncancel:cn("Transition","TransitionCancel"),transitionend:cn("Transition","TransitionEnd")},vc={},Cu={};da&&(Cu=document.createElement("div").style,"AnimationEvent"in window||(delete qn.animationend.animation,delete qn.animationiteration.animation,delete qn.animationstart.animation),"TransitionEvent"in window||delete qn.transitionend.transition);function rn(e){if(vc[e])return vc[e];if(!qn[e])return e;var t=qn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Cu)return vc[e]=t[a];return e}var Tu=rn("animationend"),Eu=rn("animationiteration"),Au=rn("animationstart"),Wp=rn("transitionrun"),Ip=rn("transitionstart"),eg=rn("transitioncancel"),Du=rn("transitionend"),Mu=new Map,yc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yc.push("scrollEnd");function ea(e,t){Mu.set(e,t),ln(t,[e])}var Us=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bt=[],Hn=0,xc=0;function Ls(){for(var e=Hn,t=xc=Hn=0;t<e;){var a=Bt[t];Bt[t++]=null;var l=Bt[t];Bt[t++]=null;var s=Bt[t];Bt[t++]=null;var c=Bt[t];if(Bt[t++]=null,l!==null&&s!==null){var d=l.pending;d===null?s.next=s:(s.next=d.next,d.next=s),l.pending=s}c!==0&&zu(a,s,c)}}function ks(e,t,a,l){Bt[Hn++]=e,Bt[Hn++]=t,Bt[Hn++]=a,Bt[Hn++]=l,xc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function bc(e,t,a,l){return ks(e,t,a,l),Bs(e)}function on(e,t){return ks(e,null,null,t),Bs(e)}function zu(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var s=!1,c=e.return;c!==null;)c.childLanes|=a,l=c.alternate,l!==null&&(l.childLanes|=a),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(s=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,s&&t!==null&&(s=31-Tt(a),e=c.hiddenUpdates,l=e[s],l===null?e[s]=[t]:l.push(t),t.lane=a|536870912),c):null}function Bs(e){if(50<Wl)throw Wl=0,Ar=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Yn={};function tg(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,t,a,l){return new tg(e,t,a,l)}function jc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fa(e,t){var a=e.alternate;return a===null?(a=At(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ou(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qs(e,t,a,l,s,c){var d=0;if(l=e,typeof e=="function")jc(e)&&(d=1);else if(typeof e=="string")d=iv(e,a,ae.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case R:return e=At(31,a,t,s),e.elementType=R,e.lanes=c,e;case k:return un(a.children,s,c,t);case $:d=8,s|=24;break;case P:return e=At(12,a,t,s|2),e.elementType=P,e.lanes=c,e;case le:return e=At(13,a,t,s),e.elementType=le,e.lanes=c,e;case ne:return e=At(19,a,t,s),e.elementType=ne,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:d=10;break e;case Q:d=9;break e;case E:d=11;break e;case Z:d=14;break e;case G:d=16,l=null;break e}d=29,a=Error(o(130,e===null?"null":typeof e,"")),l=null}return t=At(d,a,t,s),t.elementType=e,t.type=l,t.lanes=c,t}function un(e,t,a,l){return e=At(7,e,l,t),e.lanes=a,e}function Nc(e,t,a){return e=At(6,e,null,t),e.lanes=a,e}function Ru(e){var t=At(18,null,null,0);return t.stateNode=e,t}function Sc(e,t,a){return t=At(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Uu=new WeakMap;function qt(e,t){if(typeof e=="object"&&e!==null){var a=Uu.get(e);return a!==void 0?a:(t={value:e,source:t,stack:an(t)},Uu.set(e,t),t)}return{value:e,source:t,stack:an(t)}}var Gn=[],Xn=0,Hs=null,Ml=0,Ht=[],Yt=0,Oa=null,la=1,sa="";function ha(e,t){Gn[Xn++]=Ml,Gn[Xn++]=Hs,Hs=e,Ml=t}function Lu(e,t,a){Ht[Yt++]=la,Ht[Yt++]=sa,Ht[Yt++]=Oa,Oa=e;var l=la;e=sa;var s=32-Tt(l)-1;l&=~(1<<s),a+=1;var c=32-Tt(t)+s;if(30<c){var d=s-s%5;c=(l&(1<<d)-1).toString(32),l>>=d,s-=d,la=1<<32-Tt(t)+s|a<<s|l,sa=c+e}else la=1<<c|a<<s|l,sa=e}function wc(e){e.return!==null&&(ha(e,1),Lu(e,1,0))}function _c(e){for(;e===Hs;)Hs=Gn[--Xn],Gn[Xn]=null,Ml=Gn[--Xn],Gn[Xn]=null;for(;e===Oa;)Oa=Ht[--Yt],Ht[Yt]=null,sa=Ht[--Yt],Ht[Yt]=null,la=Ht[--Yt],Ht[Yt]=null}function ku(e,t){Ht[Yt++]=la,Ht[Yt++]=sa,Ht[Yt++]=Oa,la=t.id,sa=t.overflow,Oa=e}var ft=null,Ve=null,Ee=!1,Ra=null,Gt=!1,Cc=Error(o(519));function Ua(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zl(qt(t,e)),Cc}function Bu(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[dt]=e,t[xt]=l,a){case"dialog":_e("cancel",t),_e("close",t);break;case"iframe":case"object":case"embed":_e("load",t);break;case"video":case"audio":for(a=0;a<es.length;a++)_e(es[a],t);break;case"source":_e("error",t);break;case"img":case"image":case"link":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"input":_e("invalid",t),Po(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":_e("invalid",t);break;case"textarea":_e("invalid",t),Io(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||ah(t.textContent,a)?(l.popover!=null&&(_e("beforetoggle",t),_e("toggle",t)),l.onScroll!=null&&_e("scroll",t),l.onScrollEnd!=null&&_e("scrollend",t),l.onClick!=null&&(t.onclick=ua),t=!0):t=!1,t||Ua(e,!0)}function qu(e){for(ft=e.return;ft;)switch(ft.tag){case 5:case 31:case 13:Gt=!1;return;case 27:case 3:Gt=!0;return;default:ft=ft.return}}function Vn(e){if(e!==ft)return!1;if(!Ee)return qu(e),Ee=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Vr(e.type,e.memoizedProps)),a=!a),a&&Ve&&Ua(e),qu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ve=dh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ve=dh(e)}else t===27?(t=Ve,Ja(e.type)?(e=Jr,Jr=null,Ve=e):Ve=t):Ve=ft?Vt(e.stateNode.nextSibling):null;return!0}function dn(){Ve=ft=null,Ee=!1}function Tc(){var e=Ra;return e!==null&&(wt===null?wt=e:wt.push.apply(wt,e),Ra=null),e}function zl(e){Ra===null?Ra=[e]:Ra.push(e)}var Ec=b(null),fn=null,ma=null;function La(e,t,a){ee(Ec,t._currentValue),t._currentValue=a}function pa(e){e._currentValue=Ec.current,q(Ec)}function Ac(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function Dc(e,t,a,l){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var c=s.dependencies;if(c!==null){var d=s.child;c=c.firstContext;e:for(;c!==null;){var p=c;c=s;for(var w=0;w<t.length;w++)if(p.context===t[w]){c.lanes|=a,p=c.alternate,p!==null&&(p.lanes|=a),Ac(c.return,a,e),l||(d=null);break e}c=p.next}}else if(s.tag===18){if(d=s.return,d===null)throw Error(o(341));d.lanes|=a,c=d.alternate,c!==null&&(c.lanes|=a),Ac(d,a,e),d=null}else d=s.child;if(d!==null)d.return=s;else for(d=s;d!==null;){if(d===e){d=null;break}if(s=d.sibling,s!==null){s.return=d.return,d=s;break}d=d.return}s=d}}function Qn(e,t,a,l){e=null;for(var s=t,c=!1;s!==null;){if(!c){if((s.flags&524288)!==0)c=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var d=s.alternate;if(d===null)throw Error(o(387));if(d=d.memoizedProps,d!==null){var p=s.type;Et(s.pendingProps.value,d.value)||(e!==null?e.push(p):e=[p])}}else if(s===Se.current){if(d=s.alternate,d===null)throw Error(o(387));d.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(ss):e=[ss])}s=s.return}e!==null&&Dc(t,e,a,l),t.flags|=262144}function Ys(e){for(e=e.firstContext;e!==null;){if(!Et(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function hn(e){fn=e,ma=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ht(e){return Hu(fn,e)}function Gs(e,t){return fn===null&&hn(e),Hu(e,t)}function Hu(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ma===null){if(e===null)throw Error(o(308));ma=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ma=ma.next=t;return a}var ag=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},ng=i.unstable_scheduleCallback,lg=i.unstable_NormalPriority,at={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mc(){return{controller:new ag,data:new Map,refCount:0}}function Ol(e){e.refCount--,e.refCount===0&&ng(lg,function(){e.controller.abort()})}var Rl=null,zc=0,Zn=0,Fn=null;function sg(e,t){if(Rl===null){var a=Rl=[];zc=0,Zn=Ur(),Fn={status:"pending",value:void 0,then:function(l){a.push(l)}}}return zc++,t.then(Yu,Yu),t}function Yu(){if(--zc===0&&Rl!==null){Fn!==null&&(Fn.status="fulfilled");var e=Rl;Rl=null,Zn=0,Fn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ig(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(s){a.push(s)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var s=0;s<a.length;s++)(0,a[s])(t)},function(s){for(l.status="rejected",l.reason=s,s=0;s<a.length;s++)(0,a[s])(void 0)}),l}var Gu=M.S;M.S=function(e,t){Cf=Ue(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&sg(e,t),Gu!==null&&Gu(e,t)};var mn=b(null);function Oc(){var e=mn.current;return e!==null?e:Ye.pooledCache}function Xs(e,t){t===null?ee(mn,mn.current):ee(mn,t.pool)}function Xu(){var e=Oc();return e===null?null:{parent:at._currentValue,pool:e}}var $n=Error(o(460)),Rc=Error(o(474)),Vs=Error(o(542)),Qs={then:function(){}};function Vu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qu(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ua,ua),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Fu(e),e;default:if(typeof t.status=="string")t.then(ua,ua);else{if(e=Ye,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=l}},function(l){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Fu(e),e}throw gn=t,$n}}function pn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(gn=a,$n):a}}var gn=null;function Zu(){if(gn===null)throw Error(o(459));var e=gn;return gn=null,e}function Fu(e){if(e===$n||e===Vs)throw Error(o(483))}var Jn=null,Ul=0;function Zs(e){var t=Ul;return Ul+=1,Jn===null&&(Jn=[]),Qu(Jn,e,t)}function Ll(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Fs(e,t){throw t.$$typeof===z?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function $u(e){function t(T,_){if(e){var A=T.deletions;A===null?(T.deletions=[_],T.flags|=16):A.push(_)}}function a(T,_){if(!e)return null;for(;_!==null;)t(T,_),_=_.sibling;return null}function l(T){for(var _=new Map;T!==null;)T.key!==null?_.set(T.key,T):_.set(T.index,T),T=T.sibling;return _}function s(T,_){return T=fa(T,_),T.index=0,T.sibling=null,T}function c(T,_,A){return T.index=A,e?(A=T.alternate,A!==null?(A=A.index,A<_?(T.flags|=67108866,_):A):(T.flags|=67108866,_)):(T.flags|=1048576,_)}function d(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function p(T,_,A,F){return _===null||_.tag!==6?(_=Nc(A,T.mode,F),_.return=T,_):(_=s(_,A),_.return=T,_)}function w(T,_,A,F){var fe=A.type;return fe===k?X(T,_,A.props.children,F,A.key):_!==null&&(_.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===G&&pn(fe)===_.type)?(_=s(_,A.props),Ll(_,A),_.return=T,_):(_=qs(A.type,A.key,A.props,null,T.mode,F),Ll(_,A),_.return=T,_)}function D(T,_,A,F){return _===null||_.tag!==4||_.stateNode.containerInfo!==A.containerInfo||_.stateNode.implementation!==A.implementation?(_=Sc(A,T.mode,F),_.return=T,_):(_=s(_,A.children||[]),_.return=T,_)}function X(T,_,A,F,fe){return _===null||_.tag!==7?(_=un(A,T.mode,F,fe),_.return=T,_):(_=s(_,A),_.return=T,_)}function K(T,_,A){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Nc(""+_,T.mode,A),_.return=T,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Y:return A=qs(_.type,_.key,_.props,null,T.mode,A),Ll(A,_),A.return=T,A;case J:return _=Sc(_,T.mode,A),_.return=T,_;case G:return _=pn(_),K(T,_,A)}if(se(_)||W(_))return _=un(_,T.mode,A,null),_.return=T,_;if(typeof _.then=="function")return K(T,Zs(_),A);if(_.$$typeof===U)return K(T,Gs(T,_),A);Fs(T,_)}return null}function O(T,_,A,F){var fe=_!==null?_.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return fe!==null?null:p(T,_,""+A,F);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Y:return A.key===fe?w(T,_,A,F):null;case J:return A.key===fe?D(T,_,A,F):null;case G:return A=pn(A),O(T,_,A,F)}if(se(A)||W(A))return fe!==null?null:X(T,_,A,F,null);if(typeof A.then=="function")return O(T,_,Zs(A),F);if(A.$$typeof===U)return O(T,_,Gs(T,A),F);Fs(T,A)}return null}function L(T,_,A,F,fe){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return T=T.get(A)||null,p(_,T,""+F,fe);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Y:return T=T.get(F.key===null?A:F.key)||null,w(_,T,F,fe);case J:return T=T.get(F.key===null?A:F.key)||null,D(_,T,F,fe);case G:return F=pn(F),L(T,_,A,F,fe)}if(se(F)||W(F))return T=T.get(A)||null,X(_,T,F,fe,null);if(typeof F.then=="function")return L(T,_,A,Zs(F),fe);if(F.$$typeof===U)return L(T,_,A,Gs(_,F),fe);Fs(_,F)}return null}function ue(T,_,A,F){for(var fe=null,Ae=null,de=_,Ne=_=0,Te=null;de!==null&&Ne<A.length;Ne++){de.index>Ne?(Te=de,de=null):Te=de.sibling;var De=O(T,de,A[Ne],F);if(De===null){de===null&&(de=Te);break}e&&de&&De.alternate===null&&t(T,de),_=c(De,_,Ne),Ae===null?fe=De:Ae.sibling=De,Ae=De,de=Te}if(Ne===A.length)return a(T,de),Ee&&ha(T,Ne),fe;if(de===null){for(;Ne<A.length;Ne++)de=K(T,A[Ne],F),de!==null&&(_=c(de,_,Ne),Ae===null?fe=de:Ae.sibling=de,Ae=de);return Ee&&ha(T,Ne),fe}for(de=l(de);Ne<A.length;Ne++)Te=L(de,T,Ne,A[Ne],F),Te!==null&&(e&&Te.alternate!==null&&de.delete(Te.key===null?Ne:Te.key),_=c(Te,_,Ne),Ae===null?fe=Te:Ae.sibling=Te,Ae=Te);return e&&de.forEach(function(en){return t(T,en)}),Ee&&ha(T,Ne),fe}function he(T,_,A,F){if(A==null)throw Error(o(151));for(var fe=null,Ae=null,de=_,Ne=_=0,Te=null,De=A.next();de!==null&&!De.done;Ne++,De=A.next()){de.index>Ne?(Te=de,de=null):Te=de.sibling;var en=O(T,de,De.value,F);if(en===null){de===null&&(de=Te);break}e&&de&&en.alternate===null&&t(T,de),_=c(en,_,Ne),Ae===null?fe=en:Ae.sibling=en,Ae=en,de=Te}if(De.done)return a(T,de),Ee&&ha(T,Ne),fe;if(de===null){for(;!De.done;Ne++,De=A.next())De=K(T,De.value,F),De!==null&&(_=c(De,_,Ne),Ae===null?fe=De:Ae.sibling=De,Ae=De);return Ee&&ha(T,Ne),fe}for(de=l(de);!De.done;Ne++,De=A.next())De=L(de,T,Ne,De.value,F),De!==null&&(e&&De.alternate!==null&&de.delete(De.key===null?Ne:De.key),_=c(De,_,Ne),Ae===null?fe=De:Ae.sibling=De,Ae=De);return e&&de.forEach(function(vv){return t(T,vv)}),Ee&&ha(T,Ne),fe}function Be(T,_,A,F){if(typeof A=="object"&&A!==null&&A.type===k&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Y:e:{for(var fe=A.key;_!==null;){if(_.key===fe){if(fe=A.type,fe===k){if(_.tag===7){a(T,_.sibling),F=s(_,A.props.children),F.return=T,T=F;break e}}else if(_.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===G&&pn(fe)===_.type){a(T,_.sibling),F=s(_,A.props),Ll(F,A),F.return=T,T=F;break e}a(T,_);break}else t(T,_);_=_.sibling}A.type===k?(F=un(A.props.children,T.mode,F,A.key),F.return=T,T=F):(F=qs(A.type,A.key,A.props,null,T.mode,F),Ll(F,A),F.return=T,T=F)}return d(T);case J:e:{for(fe=A.key;_!==null;){if(_.key===fe)if(_.tag===4&&_.stateNode.containerInfo===A.containerInfo&&_.stateNode.implementation===A.implementation){a(T,_.sibling),F=s(_,A.children||[]),F.return=T,T=F;break e}else{a(T,_);break}else t(T,_);_=_.sibling}F=Sc(A,T.mode,F),F.return=T,T=F}return d(T);case G:return A=pn(A),Be(T,_,A,F)}if(se(A))return ue(T,_,A,F);if(W(A)){if(fe=W(A),typeof fe!="function")throw Error(o(150));return A=fe.call(A),he(T,_,A,F)}if(typeof A.then=="function")return Be(T,_,Zs(A),F);if(A.$$typeof===U)return Be(T,_,Gs(T,A),F);Fs(T,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,_!==null&&_.tag===6?(a(T,_.sibling),F=s(_,A),F.return=T,T=F):(a(T,_),F=Nc(A,T.mode,F),F.return=T,T=F),d(T)):a(T,_)}return function(T,_,A,F){try{Ul=0;var fe=Be(T,_,A,F);return Jn=null,fe}catch(de){if(de===$n||de===Vs)throw de;var Ae=At(29,de,null,T.mode);return Ae.lanes=F,Ae.return=T,Ae}finally{}}}var vn=$u(!0),Ju=$u(!1),ka=!1;function Uc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ba(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function qa(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Me&2)!==0){var s=l.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),l.pending=t,t=Bs(e),zu(e,null,a),t}return ks(e,l,t,a),Bs(e)}function kl(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Ho(e,a)}}function kc(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var s=null,c=null;if(a=a.firstBaseUpdate,a!==null){do{var d={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};c===null?s=c=d:c=c.next=d,a=a.next}while(a!==null);c===null?s=c=t:c=c.next=t}else s=c=t;a={baseState:l.baseState,firstBaseUpdate:s,lastBaseUpdate:c,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Bc=!1;function Bl(){if(Bc){var e=Fn;if(e!==null)throw e}}function ql(e,t,a,l){Bc=!1;var s=e.updateQueue;ka=!1;var c=s.firstBaseUpdate,d=s.lastBaseUpdate,p=s.shared.pending;if(p!==null){s.shared.pending=null;var w=p,D=w.next;w.next=null,d===null?c=D:d.next=D,d=w;var X=e.alternate;X!==null&&(X=X.updateQueue,p=X.lastBaseUpdate,p!==d&&(p===null?X.firstBaseUpdate=D:p.next=D,X.lastBaseUpdate=w))}if(c!==null){var K=s.baseState;d=0,X=D=w=null,p=c;do{var O=p.lane&-536870913,L=O!==p.lane;if(L?(Ce&O)===O:(l&O)===O){O!==0&&O===Zn&&(Bc=!0),X!==null&&(X=X.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var ue=e,he=p;O=t;var Be=a;switch(he.tag){case 1:if(ue=he.payload,typeof ue=="function"){K=ue.call(Be,K,O);break e}K=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=he.payload,O=typeof ue=="function"?ue.call(Be,K,O):ue,O==null)break e;K=N({},K,O);break e;case 2:ka=!0}}O=p.callback,O!==null&&(e.flags|=64,L&&(e.flags|=8192),L=s.callbacks,L===null?s.callbacks=[O]:L.push(O))}else L={lane:O,tag:p.tag,payload:p.payload,callback:p.callback,next:null},X===null?(D=X=L,w=K):X=X.next=L,d|=O;if(p=p.next,p===null){if(p=s.shared.pending,p===null)break;L=p,p=L.next,L.next=null,s.lastBaseUpdate=L,s.shared.pending=null}}while(!0);X===null&&(w=K),s.baseState=w,s.firstBaseUpdate=D,s.lastBaseUpdate=X,c===null&&(s.shared.lanes=0),Va|=d,e.lanes=d,e.memoizedState=K}}function Ku(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Pu(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ku(a[e],t)}var Kn=b(null),$s=b(0);function Wu(e,t){e=wa,ee($s,e),ee(Kn,t),wa=e|t.baseLanes}function qc(){ee($s,wa),ee(Kn,Kn.current)}function Hc(){wa=$s.current,q(Kn),q($s)}var Dt=b(null),Xt=null;function Ha(e){var t=e.alternate;ee(et,et.current&1),ee(Dt,e),Xt===null&&(t===null||Kn.current!==null||t.memoizedState!==null)&&(Xt=e)}function Yc(e){ee(et,et.current),ee(Dt,e),Xt===null&&(Xt=e)}function Iu(e){e.tag===22?(ee(et,et.current),ee(Dt,e),Xt===null&&(Xt=e)):Ya()}function Ya(){ee(et,et.current),ee(Dt,Dt.current)}function Mt(e){q(Dt),Xt===e&&(Xt=null),q(et)}var et=b(0);function Js(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Fr(a)||$r(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ga=0,je=null,Le=null,nt=null,Ks=!1,Pn=!1,yn=!1,Ps=0,Hl=0,Wn=null,cg=0;function We(){throw Error(o(321))}function Gc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Et(e[a],t[a]))return!1;return!0}function Xc(e,t,a,l,s,c){return ga=c,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?Ld:lr,yn=!1,c=a(l,s),yn=!1,Pn&&(c=td(t,a,l,s)),ed(e),c}function ed(e){M.H=Xl;var t=Le!==null&&Le.next!==null;if(ga=0,nt=Le=je=null,Ks=!1,Hl=0,Wn=null,t)throw Error(o(300));e===null||lt||(e=e.dependencies,e!==null&&Ys(e)&&(lt=!0))}function td(e,t,a,l){je=e;var s=0;do{if(Pn&&(Wn=null),Hl=0,Pn=!1,25<=s)throw Error(o(301));if(s+=1,nt=Le=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}M.H=kd,c=t(a,l)}while(Pn);return c}function rg(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?Yl(t):t,e=e.useState()[0],(Le!==null?Le.memoizedState:null)!==e&&(je.flags|=1024),t}function Vc(){var e=Ps!==0;return Ps=0,e}function Qc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Zc(e){if(Ks){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ks=!1}ga=0,nt=Le=je=null,Pn=!1,Hl=Ps=0,Wn=null}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?je.memoizedState=nt=e:nt=nt.next=e,nt}function tt(){if(Le===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=nt===null?je.memoizedState:nt.next;if(t!==null)nt=t,Le=e;else{if(e===null)throw je.alternate===null?Error(o(467)):Error(o(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},nt===null?je.memoizedState=nt=e:nt=nt.next=e}return nt}function Ws(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yl(e){var t=Hl;return Hl+=1,Wn===null&&(Wn=[]),e=Qu(Wn,e,t),t=je,(nt===null?t.memoizedState:nt.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?Ld:lr),e}function Is(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Yl(e);if(e.$$typeof===U)return ht(e)}throw Error(o(438,String(e)))}function Fc(e){var t=null,a=je.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Ws(),je.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=te;return t.index++,a}function va(e,t){return typeof t=="function"?t(e):t}function ei(e){var t=tt();return $c(t,Le,e)}function $c(e,t,a){var l=e.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=a;var s=e.baseQueue,c=l.pending;if(c!==null){if(s!==null){var d=s.next;s.next=c.next,c.next=d}t.baseQueue=s=c,l.pending=null}if(c=e.baseState,s===null)e.memoizedState=c;else{t=s.next;var p=d=null,w=null,D=t,X=!1;do{var K=D.lane&-536870913;if(K!==D.lane?(Ce&K)===K:(ga&K)===K){var O=D.revertLane;if(O===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),K===Zn&&(X=!0);else if((ga&O)===O){D=D.next,O===Zn&&(X=!0);continue}else K={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},w===null?(p=w=K,d=c):w=w.next=K,je.lanes|=O,Va|=O;K=D.action,yn&&a(c,K),c=D.hasEagerState?D.eagerState:a(c,K)}else O={lane:K,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},w===null?(p=w=O,d=c):w=w.next=O,je.lanes|=K,Va|=K;D=D.next}while(D!==null&&D!==t);if(w===null?d=c:w.next=p,!Et(c,e.memoizedState)&&(lt=!0,X&&(a=Fn,a!==null)))throw a;e.memoizedState=c,e.baseState=d,e.baseQueue=w,l.lastRenderedState=c}return s===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Jc(e){var t=tt(),a=t.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var l=a.dispatch,s=a.pending,c=t.memoizedState;if(s!==null){a.pending=null;var d=s=s.next;do c=e(c,d.action),d=d.next;while(d!==s);Et(c,t.memoizedState)||(lt=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),a.lastRenderedState=c}return[c,l]}function ad(e,t,a){var l=je,s=tt(),c=Ee;if(c){if(a===void 0)throw Error(o(407));a=a()}else a=t();var d=!Et((Le||s).memoizedState,a);if(d&&(s.memoizedState=a,lt=!0),s=s.queue,Wc(sd.bind(null,l,s,e),[e]),s.getSnapshot!==t||d||nt!==null&&nt.memoizedState.tag&1){if(l.flags|=2048,In(9,{destroy:void 0},ld.bind(null,l,s,a,t),null),Ye===null)throw Error(o(349));c||(ga&127)!==0||nd(l,t,a)}return a}function nd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=je.updateQueue,t===null?(t=Ws(),je.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function ld(e,t,a,l){t.value=a,t.getSnapshot=l,id(t)&&cd(e)}function sd(e,t,a){return a(function(){id(t)&&cd(e)})}function id(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Et(e,a)}catch{return!0}}function cd(e){var t=on(e,2);t!==null&&_t(t,e,2)}function Kc(e){var t=vt();if(typeof e=="function"){var a=e;if(e=a(),yn){Da(!0);try{a()}finally{Da(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:e},t}function rd(e,t,a,l){return e.baseState=a,$c(e,Le,typeof l=="function"?l:va)}function og(e,t,a,l,s){if(ni(e))throw Error(o(485));if(e=t.action,e!==null){var c={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){c.listeners.push(d)}};M.T!==null?a(!0):c.isTransition=!1,l(c),a=t.pending,a===null?(c.next=t.pending=c,od(t,c)):(c.next=a.next,t.pending=a.next=c)}}function od(e,t){var a=t.action,l=t.payload,s=e.state;if(t.isTransition){var c=M.T,d={};M.T=d;try{var p=a(s,l),w=M.S;w!==null&&w(d,p),ud(e,t,p)}catch(D){Pc(e,t,D)}finally{c!==null&&d.types!==null&&(c.types=d.types),M.T=c}}else try{c=a(s,l),ud(e,t,c)}catch(D){Pc(e,t,D)}}function ud(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){dd(e,t,l)},function(l){return Pc(e,t,l)}):dd(e,t,a)}function dd(e,t,a){t.status="fulfilled",t.value=a,fd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,od(e,a)))}function Pc(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,fd(t),t=t.next;while(t!==l)}e.action=null}function fd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function hd(e,t){return t}function md(e,t){if(Ee){var a=Ye.formState;if(a!==null){e:{var l=je;if(Ee){if(Ve){t:{for(var s=Ve,c=Gt;s.nodeType!==8;){if(!c){s=null;break t}if(s=Vt(s.nextSibling),s===null){s=null;break t}}c=s.data,s=c==="F!"||c==="F"?s:null}if(s){Ve=Vt(s.nextSibling),l=s.data==="F!";break e}}Ua(l)}l=!1}l&&(t=a[0])}}return a=vt(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hd,lastRenderedState:t},a.queue=l,a=Od.bind(null,je,l),l.dispatch=a,l=Kc(!1),c=nr.bind(null,je,!1,l.queue),l=vt(),s={state:t,dispatch:null,action:e,pending:null},l.queue=s,a=og.bind(null,je,s,c,a),s.dispatch=a,l.memoizedState=e,[t,a,!1]}function pd(e){var t=tt();return gd(t,Le,e)}function gd(e,t,a){if(t=$c(e,t,hd)[0],e=ei(va)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Yl(t)}catch(d){throw d===$n?Vs:d}else l=t;t=tt();var s=t.queue,c=s.dispatch;return a!==t.memoizedState&&(je.flags|=2048,In(9,{destroy:void 0},ug.bind(null,s,a),null)),[l,c,e]}function ug(e,t){e.action=t}function vd(e){var t=tt(),a=Le;if(a!==null)return gd(t,a,e);tt(),t=t.memoizedState,a=tt();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function In(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=je.updateQueue,t===null&&(t=Ws(),je.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function yd(){return tt().memoizedState}function ti(e,t,a,l){var s=vt();je.flags|=e,s.memoizedState=In(1|t,{destroy:void 0},a,l===void 0?null:l)}function ai(e,t,a,l){var s=tt();l=l===void 0?null:l;var c=s.memoizedState.inst;Le!==null&&l!==null&&Gc(l,Le.memoizedState.deps)?s.memoizedState=In(t,c,a,l):(je.flags|=e,s.memoizedState=In(1|t,c,a,l))}function xd(e,t){ti(8390656,8,e,t)}function Wc(e,t){ai(2048,8,e,t)}function dg(e){je.flags|=4;var t=je.updateQueue;if(t===null)t=Ws(),je.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function bd(e){var t=tt().memoizedState;return dg({ref:t,nextImpl:e}),function(){if((Me&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function jd(e,t){return ai(4,2,e,t)}function Nd(e,t){return ai(4,4,e,t)}function Sd(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wd(e,t,a){a=a!=null?a.concat([e]):null,ai(4,4,Sd.bind(null,t,e),a)}function Ic(){}function _d(e,t){var a=tt();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&Gc(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function Cd(e,t){var a=tt();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&Gc(t,l[1]))return l[0];if(l=e(),yn){Da(!0);try{e()}finally{Da(!1)}}return a.memoizedState=[l,t],l}function er(e,t,a){return a===void 0||(ga&1073741824)!==0&&(Ce&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Ef(),je.lanes|=e,Va|=e,a)}function Td(e,t,a,l){return Et(a,t)?a:Kn.current!==null?(e=er(e,a,l),Et(e,t)||(lt=!0),e):(ga&42)===0||(ga&1073741824)!==0&&(Ce&261930)===0?(lt=!0,e.memoizedState=a):(e=Ef(),je.lanes|=e,Va|=e,t)}function Ed(e,t,a,l,s){var c=C.p;C.p=c!==0&&8>c?c:8;var d=M.T,p={};M.T=p,nr(e,!1,t,a);try{var w=s(),D=M.S;if(D!==null&&D(p,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var X=ig(w,l);Gl(e,t,X,Rt(e))}else Gl(e,t,l,Rt(e))}catch(K){Gl(e,t,{then:function(){},status:"rejected",reason:K},Rt())}finally{C.p=c,d!==null&&p.types!==null&&(d.types=p.types),M.T=d}}function fg(){}function tr(e,t,a,l){if(e.tag!==5)throw Error(o(476));var s=Ad(e).queue;Ed(e,s,t,I,a===null?fg:function(){return Dd(e),a(l)})}function Ad(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:I},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Dd(e){var t=Ad(e);t.next===null&&(t=e.alternate.memoizedState),Gl(e,t.next.queue,{},Rt())}function ar(){return ht(ss)}function Md(){return tt().memoizedState}function zd(){return tt().memoizedState}function hg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Rt();e=Ba(a);var l=qa(t,e,a);l!==null&&(_t(l,t,a),kl(l,t,a)),t={cache:Mc()},e.payload=t;return}t=t.return}}function mg(e,t,a){var l=Rt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ni(e)?Rd(t,a):(a=bc(e,t,a,l),a!==null&&(_t(a,e,l),Ud(a,t,l)))}function Od(e,t,a){var l=Rt();Gl(e,t,a,l)}function Gl(e,t,a,l){var s={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ni(e))Rd(t,s);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var d=t.lastRenderedState,p=c(d,a);if(s.hasEagerState=!0,s.eagerState=p,Et(p,d))return ks(e,t,s,0),Ye===null&&Ls(),!1}catch{}finally{}if(a=bc(e,t,s,l),a!==null)return _t(a,e,l),Ud(a,t,l),!0}return!1}function nr(e,t,a,l){if(l={lane:2,revertLane:Ur(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ni(e)){if(t)throw Error(o(479))}else t=bc(e,a,l,2),t!==null&&_t(t,e,2)}function ni(e){var t=e.alternate;return e===je||t!==null&&t===je}function Rd(e,t){Pn=Ks=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Ud(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Ho(e,a)}}var Xl={readContext:ht,use:Is,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We};Xl.useEffectEvent=We;var Ld={readContext:ht,use:Is,useCallback:function(e,t){return vt().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:xd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,ti(4194308,4,Sd.bind(null,t,e),a)},useLayoutEffect:function(e,t){return ti(4194308,4,e,t)},useInsertionEffect:function(e,t){ti(4,2,e,t)},useMemo:function(e,t){var a=vt();t=t===void 0?null:t;var l=e();if(yn){Da(!0);try{e()}finally{Da(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=vt();if(a!==void 0){var s=a(t);if(yn){Da(!0);try{a(t)}finally{Da(!1)}}}else s=t;return l.memoizedState=l.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},l.queue=e,e=e.dispatch=mg.bind(null,je,e),[l.memoizedState,e]},useRef:function(e){var t=vt();return e={current:e},t.memoizedState=e},useState:function(e){e=Kc(e);var t=e.queue,a=Od.bind(null,je,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Ic,useDeferredValue:function(e,t){var a=vt();return er(a,e,t)},useTransition:function(){var e=Kc(!1);return e=Ed.bind(null,je,e.queue,!0,!1),vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=je,s=vt();if(Ee){if(a===void 0)throw Error(o(407));a=a()}else{if(a=t(),Ye===null)throw Error(o(349));(Ce&127)!==0||nd(l,t,a)}s.memoizedState=a;var c={value:a,getSnapshot:t};return s.queue=c,xd(sd.bind(null,l,c,e),[e]),l.flags|=2048,In(9,{destroy:void 0},ld.bind(null,l,c,a,t),null),a},useId:function(){var e=vt(),t=Ye.identifierPrefix;if(Ee){var a=sa,l=la;a=(l&~(1<<32-Tt(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Ps++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=cg++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ar,useFormState:md,useActionState:md,useOptimistic:function(e){var t=vt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=nr.bind(null,je,!0,a),a.dispatch=t,[e,t]},useMemoCache:Fc,useCacheRefresh:function(){return vt().memoizedState=hg.bind(null,je)},useEffectEvent:function(e){var t=vt(),a={impl:e};return t.memoizedState=a,function(){if((Me&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},lr={readContext:ht,use:Is,useCallback:_d,useContext:ht,useEffect:Wc,useImperativeHandle:wd,useInsertionEffect:jd,useLayoutEffect:Nd,useMemo:Cd,useReducer:ei,useRef:yd,useState:function(){return ei(va)},useDebugValue:Ic,useDeferredValue:function(e,t){var a=tt();return Td(a,Le.memoizedState,e,t)},useTransition:function(){var e=ei(va)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:Yl(e),t]},useSyncExternalStore:ad,useId:Md,useHostTransitionStatus:ar,useFormState:pd,useActionState:pd,useOptimistic:function(e,t){var a=tt();return rd(a,Le,e,t)},useMemoCache:Fc,useCacheRefresh:zd};lr.useEffectEvent=bd;var kd={readContext:ht,use:Is,useCallback:_d,useContext:ht,useEffect:Wc,useImperativeHandle:wd,useInsertionEffect:jd,useLayoutEffect:Nd,useMemo:Cd,useReducer:Jc,useRef:yd,useState:function(){return Jc(va)},useDebugValue:Ic,useDeferredValue:function(e,t){var a=tt();return Le===null?er(a,e,t):Td(a,Le.memoizedState,e,t)},useTransition:function(){var e=Jc(va)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:Yl(e),t]},useSyncExternalStore:ad,useId:Md,useHostTransitionStatus:ar,useFormState:vd,useActionState:vd,useOptimistic:function(e,t){var a=tt();return Le!==null?rd(a,Le,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Fc,useCacheRefresh:zd};kd.useEffectEvent=bd;function sr(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:N({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ir={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=Rt(),s=Ba(l);s.payload=t,a!=null&&(s.callback=a),t=qa(e,s,l),t!==null&&(_t(t,e,l),kl(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=Rt(),s=Ba(l);s.tag=1,s.payload=t,a!=null&&(s.callback=a),t=qa(e,s,l),t!==null&&(_t(t,e,l),kl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Rt(),l=Ba(a);l.tag=2,t!=null&&(l.callback=t),t=qa(e,l,a),t!==null&&(_t(t,e,a),kl(t,e,a))}};function Bd(e,t,a,l,s,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,c,d):t.prototype&&t.prototype.isPureReactComponent?!Al(a,l)||!Al(s,c):!0}function qd(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&ir.enqueueReplaceState(t,t.state,null)}function xn(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=N({},a));for(var s in e)a[s]===void 0&&(a[s]=e[s])}return a}function Hd(e){Us(e)}function Yd(e){console.error(e)}function Gd(e){Us(e)}function li(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Xd(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function cr(e,t,a){return a=Ba(a),a.tag=3,a.payload={element:null},a.callback=function(){li(e,t)},a}function Vd(e){return e=Ba(e),e.tag=3,e}function Qd(e,t,a,l){var s=a.type.getDerivedStateFromError;if(typeof s=="function"){var c=l.value;e.payload=function(){return s(c)},e.callback=function(){Xd(t,a,l)}}var d=a.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){Xd(t,a,l),typeof s!="function"&&(Qa===null?Qa=new Set([this]):Qa.add(this));var p=l.stack;this.componentDidCatch(l.value,{componentStack:p!==null?p:""})})}function pg(e,t,a,l,s){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&Qn(t,a,s,!0),a=Dt.current,a!==null){switch(a.tag){case 31:case 13:return Xt===null?gi():a.alternate===null&&Ie===0&&(Ie=3),a.flags&=-257,a.flags|=65536,a.lanes=s,l===Qs?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),zr(e,l,s)),!1;case 22:return a.flags|=65536,l===Qs?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),zr(e,l,s)),!1}throw Error(o(435,a.tag))}return zr(e,l,s),gi(),!1}if(Ee)return t=Dt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,l!==Cc&&(e=Error(o(422),{cause:l}),zl(qt(e,a)))):(l!==Cc&&(t=Error(o(423),{cause:l}),zl(qt(t,a))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,l=qt(l,a),s=cr(e.stateNode,l,s),kc(e,s),Ie!==4&&(Ie=2)),!1;var c=Error(o(520),{cause:l});if(c=qt(c,a),Pl===null?Pl=[c]:Pl.push(c),Ie!==4&&(Ie=2),t===null)return!0;l=qt(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=s&-s,a.lanes|=e,e=cr(a.stateNode,l,e),kc(a,e),!1;case 1:if(t=a.type,c=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Qa===null||!Qa.has(c))))return a.flags|=65536,s&=-s,a.lanes|=s,s=Vd(s),Qd(s,e,a,l),kc(a,s),!1}a=a.return}while(a!==null);return!1}var rr=Error(o(461)),lt=!1;function mt(e,t,a,l){t.child=e===null?Ju(t,null,a,l):vn(t,e.child,a,l)}function Zd(e,t,a,l,s){a=a.render;var c=t.ref;if("ref"in l){var d={};for(var p in l)p!=="ref"&&(d[p]=l[p])}else d=l;return hn(t),l=Xc(e,t,a,d,c,s),p=Vc(),e!==null&&!lt?(Qc(e,t,s),ya(e,t,s)):(Ee&&p&&wc(t),t.flags|=1,mt(e,t,l,s),t.child)}function Fd(e,t,a,l,s){if(e===null){var c=a.type;return typeof c=="function"&&!jc(c)&&c.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=c,$d(e,t,c,l,s)):(e=qs(a.type,null,l,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!gr(e,s)){var d=c.memoizedProps;if(a=a.compare,a=a!==null?a:Al,a(d,l)&&e.ref===t.ref)return ya(e,t,s)}return t.flags|=1,e=fa(c,l),e.ref=t.ref,e.return=t,t.child=e}function $d(e,t,a,l,s){if(e!==null){var c=e.memoizedProps;if(Al(c,l)&&e.ref===t.ref)if(lt=!1,t.pendingProps=l=c,gr(e,s))(e.flags&131072)!==0&&(lt=!0);else return t.lanes=e.lanes,ya(e,t,s)}return or(e,t,a,l,s)}function Jd(e,t,a,l){var s=l.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|a:a,e!==null){for(l=t.child=e.child,s=0;l!==null;)s=s|l.lanes|l.childLanes,l=l.sibling;l=s&~c}else l=0,t.child=null;return Kd(e,t,c,a,l)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Xs(t,c!==null?c.cachePool:null),c!==null?Wu(t,c):qc(),Iu(t);else return l=t.lanes=536870912,Kd(e,t,c!==null?c.baseLanes|a:a,a,l)}else c!==null?(Xs(t,c.cachePool),Wu(t,c),Ya(),t.memoizedState=null):(e!==null&&Xs(t,null),qc(),Ya());return mt(e,t,s,a),t.child}function Vl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Kd(e,t,a,l,s){var c=Oc();return c=c===null?null:{parent:at._currentValue,pool:c},t.memoizedState={baseLanes:a,cachePool:c},e!==null&&Xs(t,null),qc(),Iu(t),e!==null&&Qn(e,t,l,!0),t.childLanes=s,null}function si(e,t){return t=ci({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Pd(e,t,a){return vn(t,e.child,null,a),e=si(t,t.pendingProps),e.flags|=2,Mt(t),t.memoizedState=null,e}function gg(e,t,a){var l=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ee){if(l.mode==="hidden")return e=si(t,l),t.lanes=536870912,Vl(null,e);if(Yc(t),(e=Ve)?(e=uh(e,Gt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Oa!==null?{id:la,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},a=Ru(e),a.return=t,t.child=a,ft=t,Ve=null)):e=null,e===null)throw Ua(t);return t.lanes=536870912,null}return si(t,l)}var c=e.memoizedState;if(c!==null){var d=c.dehydrated;if(Yc(t),s)if(t.flags&256)t.flags&=-257,t=Pd(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(lt||Qn(e,t,a,!1),s=(a&e.childLanes)!==0,lt||s){if(l=Ye,l!==null&&(d=Yo(l,a),d!==0&&d!==c.retryLane))throw c.retryLane=d,on(e,d),_t(l,e,d),rr;gi(),t=Pd(e,t,a)}else e=c.treeContext,Ve=Vt(d.nextSibling),ft=t,Ee=!0,Ra=null,Gt=!1,e!==null&&ku(t,e),t=si(t,l),t.flags|=4096;return t}return e=fa(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ii(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function or(e,t,a,l,s){return hn(t),a=Xc(e,t,a,l,void 0,s),l=Vc(),e!==null&&!lt?(Qc(e,t,s),ya(e,t,s)):(Ee&&l&&wc(t),t.flags|=1,mt(e,t,a,s),t.child)}function Wd(e,t,a,l,s,c){return hn(t),t.updateQueue=null,a=td(t,l,a,s),ed(e),l=Vc(),e!==null&&!lt?(Qc(e,t,c),ya(e,t,c)):(Ee&&l&&wc(t),t.flags|=1,mt(e,t,a,c),t.child)}function Id(e,t,a,l,s){if(hn(t),t.stateNode===null){var c=Yn,d=a.contextType;typeof d=="object"&&d!==null&&(c=ht(d)),c=new a(l,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=ir,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=l,c.state=t.memoizedState,c.refs={},Uc(t),d=a.contextType,c.context=typeof d=="object"&&d!==null?ht(d):Yn,c.state=t.memoizedState,d=a.getDerivedStateFromProps,typeof d=="function"&&(sr(t,a,d,l),c.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(d=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),d!==c.state&&ir.enqueueReplaceState(c,c.state,null),ql(t,l,c,s),Bl(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){c=t.stateNode;var p=t.memoizedProps,w=xn(a,p);c.props=w;var D=c.context,X=a.contextType;d=Yn,typeof X=="object"&&X!==null&&(d=ht(X));var K=a.getDerivedStateFromProps;X=typeof K=="function"||typeof c.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,X||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p||D!==d)&&qd(t,c,l,d),ka=!1;var O=t.memoizedState;c.state=O,ql(t,l,c,s),Bl(),D=t.memoizedState,p||O!==D||ka?(typeof K=="function"&&(sr(t,a,K,l),D=t.memoizedState),(w=ka||Bd(t,a,w,l,O,D,d))?(X||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=D),c.props=l,c.state=D,c.context=d,l=w):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{c=t.stateNode,Lc(e,t),d=t.memoizedProps,X=xn(a,d),c.props=X,K=t.pendingProps,O=c.context,D=a.contextType,w=Yn,typeof D=="object"&&D!==null&&(w=ht(D)),p=a.getDerivedStateFromProps,(D=typeof p=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==K||O!==w)&&qd(t,c,l,w),ka=!1,O=t.memoizedState,c.state=O,ql(t,l,c,s),Bl();var L=t.memoizedState;d!==K||O!==L||ka||e!==null&&e.dependencies!==null&&Ys(e.dependencies)?(typeof p=="function"&&(sr(t,a,p,l),L=t.memoizedState),(X=ka||Bd(t,a,X,l,O,L,w)||e!==null&&e.dependencies!==null&&Ys(e.dependencies))?(D||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(l,L,w),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(l,L,w)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=L),c.props=l,c.state=L,c.context=w,l=X):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),l=!1)}return c=l,ii(e,t),l=(t.flags&128)!==0,c||l?(c=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&l?(t.child=vn(t,e.child,null,s),t.child=vn(t,null,a,s)):mt(e,t,a,s),t.memoizedState=c.state,e=t.child):e=ya(e,t,s),e}function ef(e,t,a,l){return dn(),t.flags|=256,mt(e,t,a,l),t.child}var ur={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dr(e){return{baseLanes:e,cachePool:Xu()}}function fr(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Ot),e}function tf(e,t,a){var l=t.pendingProps,s=!1,c=(t.flags&128)!==0,d;if((d=c)||(d=e!==null&&e.memoizedState===null?!1:(et.current&2)!==0),d&&(s=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ee){if(s?Ha(t):Ya(),(e=Ve)?(e=uh(e,Gt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Oa!==null?{id:la,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},a=Ru(e),a.return=t,t.child=a,ft=t,Ve=null)):e=null,e===null)throw Ua(t);return $r(e)?t.lanes=32:t.lanes=536870912,null}var p=l.children;return l=l.fallback,s?(Ya(),s=t.mode,p=ci({mode:"hidden",children:p},s),l=un(l,s,a,null),p.return=t,l.return=t,p.sibling=l,t.child=p,l=t.child,l.memoizedState=dr(a),l.childLanes=fr(e,d,a),t.memoizedState=ur,Vl(null,l)):(Ha(t),hr(t,p))}var w=e.memoizedState;if(w!==null&&(p=w.dehydrated,p!==null)){if(c)t.flags&256?(Ha(t),t.flags&=-257,t=mr(e,t,a)):t.memoizedState!==null?(Ya(),t.child=e.child,t.flags|=128,t=null):(Ya(),p=l.fallback,s=t.mode,l=ci({mode:"visible",children:l.children},s),p=un(p,s,a,null),p.flags|=2,l.return=t,p.return=t,l.sibling=p,t.child=l,vn(t,e.child,null,a),l=t.child,l.memoizedState=dr(a),l.childLanes=fr(e,d,a),t.memoizedState=ur,t=Vl(null,l));else if(Ha(t),$r(p)){if(d=p.nextSibling&&p.nextSibling.dataset,d)var D=d.dgst;d=D,l=Error(o(419)),l.stack="",l.digest=d,zl({value:l,source:null,stack:null}),t=mr(e,t,a)}else if(lt||Qn(e,t,a,!1),d=(a&e.childLanes)!==0,lt||d){if(d=Ye,d!==null&&(l=Yo(d,a),l!==0&&l!==w.retryLane))throw w.retryLane=l,on(e,l),_t(d,e,l),rr;Fr(p)||gi(),t=mr(e,t,a)}else Fr(p)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,Ve=Vt(p.nextSibling),ft=t,Ee=!0,Ra=null,Gt=!1,e!==null&&ku(t,e),t=hr(t,l.children),t.flags|=4096);return t}return s?(Ya(),p=l.fallback,s=t.mode,w=e.child,D=w.sibling,l=fa(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,D!==null?p=fa(D,p):(p=un(p,s,a,null),p.flags|=2),p.return=t,l.return=t,l.sibling=p,t.child=l,Vl(null,l),l=t.child,p=e.child.memoizedState,p===null?p=dr(a):(s=p.cachePool,s!==null?(w=at._currentValue,s=s.parent!==w?{parent:w,pool:w}:s):s=Xu(),p={baseLanes:p.baseLanes|a,cachePool:s}),l.memoizedState=p,l.childLanes=fr(e,d,a),t.memoizedState=ur,Vl(e.child,l)):(Ha(t),a=e.child,e=a.sibling,a=fa(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=a,t.memoizedState=null,a)}function hr(e,t){return t=ci({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ci(e,t){return e=At(22,e,null,t),e.lanes=0,e}function mr(e,t,a){return vn(t,e.child,null,a),e=hr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function af(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Ac(e.return,t,a)}function pr(e,t,a,l,s,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:s,treeForkCount:c}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=s,d.treeForkCount=c)}function nf(e,t,a){var l=t.pendingProps,s=l.revealOrder,c=l.tail;l=l.children;var d=et.current,p=(d&2)!==0;if(p?(d=d&1|2,t.flags|=128):d&=1,ee(et,d),mt(e,t,l,a),l=Ee?Ml:0,!p&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&af(e,a,t);else if(e.tag===19)af(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(a=t.child,s=null;a!==null;)e=a.alternate,e!==null&&Js(e)===null&&(s=a),a=a.sibling;a=s,a===null?(s=t.child,t.child=null):(s=a.sibling,a.sibling=null),pr(t,!1,s,a,c,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Js(e)===null){t.child=s;break}e=s.sibling,s.sibling=a,a=s,s=e}pr(t,!0,a,null,c,l);break;case"together":pr(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function ya(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Va|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Qn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,a=fa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=fa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function gr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ys(e)))}function vg(e,t,a){switch(t.tag){case 3:qe(t,t.stateNode.containerInfo),La(t,at,e.memoizedState.cache),dn();break;case 27:case 5:Xe(t);break;case 4:qe(t,t.stateNode.containerInfo);break;case 10:La(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Yc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Ha(t),t.flags|=128,null):(a&t.child.childLanes)!==0?tf(e,t,a):(Ha(t),e=ya(e,t,a),e!==null?e.sibling:null);Ha(t);break;case 19:var s=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(Qn(e,t,a,!1),l=(a&t.childLanes)!==0),s){if(l)return nf(e,t,a);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ee(et,et.current),l)break;return null;case 22:return t.lanes=0,Jd(e,t,a,t.pendingProps);case 24:La(t,at,e.memoizedState.cache)}return ya(e,t,a)}function lf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)lt=!0;else{if(!gr(e,a)&&(t.flags&128)===0)return lt=!1,vg(e,t,a);lt=(e.flags&131072)!==0}else lt=!1,Ee&&(t.flags&1048576)!==0&&Lu(t,Ml,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=pn(t.elementType),t.type=e,typeof e=="function")jc(e)?(l=xn(e,l),t.tag=1,t=Id(null,t,e,l,a)):(t.tag=0,t=or(null,t,e,l,a));else{if(e!=null){var s=e.$$typeof;if(s===E){t.tag=11,t=Zd(null,t,e,l,a);break e}else if(s===Z){t.tag=14,t=Fd(null,t,e,l,a);break e}}throw t=ve(e)||e,Error(o(306,t,""))}}return t;case 0:return or(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,s=xn(l,t.pendingProps),Id(e,t,l,s,a);case 3:e:{if(qe(t,t.stateNode.containerInfo),e===null)throw Error(o(387));l=t.pendingProps;var c=t.memoizedState;s=c.element,Lc(e,t),ql(t,l,null,a);var d=t.memoizedState;if(l=d.cache,La(t,at,l),l!==c.cache&&Dc(t,[at],a,!0),Bl(),l=d.element,c.isDehydrated)if(c={element:l,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=ef(e,t,l,a);break e}else if(l!==s){s=qt(Error(o(424)),t),zl(s),t=ef(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ve=Vt(e.firstChild),ft=t,Ee=!0,Ra=null,Gt=!0,a=Ju(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(dn(),l===s){t=ya(e,t,a);break e}mt(e,t,l,a)}t=t.child}return t;case 26:return ii(e,t),e===null?(a=gh(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ee||(a=t.type,e=t.pendingProps,l=Si(ge.current).createElement(a),l[dt]=t,l[xt]=e,pt(l,a,e),ot(l),t.stateNode=l):t.memoizedState=gh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Xe(t),e===null&&Ee&&(l=t.stateNode=hh(t.type,t.pendingProps,ge.current),ft=t,Gt=!0,s=Ve,Ja(t.type)?(Jr=s,Ve=Vt(l.firstChild)):Ve=s),mt(e,t,t.pendingProps.children,a),ii(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ee&&((s=l=Ve)&&(l=Fg(l,t.type,t.pendingProps,Gt),l!==null?(t.stateNode=l,ft=t,Ve=Vt(l.firstChild),Gt=!1,s=!0):s=!1),s||Ua(t)),Xe(t),s=t.type,c=t.pendingProps,d=e!==null?e.memoizedProps:null,l=c.children,Vr(s,c)?l=null:d!==null&&Vr(s,d)&&(t.flags|=32),t.memoizedState!==null&&(s=Xc(e,t,rg,null,null,a),ss._currentValue=s),ii(e,t),mt(e,t,l,a),t.child;case 6:return e===null&&Ee&&((e=a=Ve)&&(a=$g(a,t.pendingProps,Gt),a!==null?(t.stateNode=a,ft=t,Ve=null,e=!0):e=!1),e||Ua(t)),null;case 13:return tf(e,t,a);case 4:return qe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=vn(t,null,l,a):mt(e,t,l,a),t.child;case 11:return Zd(e,t,t.type,t.pendingProps,a);case 7:return mt(e,t,t.pendingProps,a),t.child;case 8:return mt(e,t,t.pendingProps.children,a),t.child;case 12:return mt(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,La(t,t.type,l.value),mt(e,t,l.children,a),t.child;case 9:return s=t.type._context,l=t.pendingProps.children,hn(t),s=ht(s),l=l(s),t.flags|=1,mt(e,t,l,a),t.child;case 14:return Fd(e,t,t.type,t.pendingProps,a);case 15:return $d(e,t,t.type,t.pendingProps,a);case 19:return nf(e,t,a);case 31:return gg(e,t,a);case 22:return Jd(e,t,a,t.pendingProps);case 24:return hn(t),l=ht(at),e===null?(s=Oc(),s===null&&(s=Ye,c=Mc(),s.pooledCache=c,c.refCount++,c!==null&&(s.pooledCacheLanes|=a),s=c),t.memoizedState={parent:l,cache:s},Uc(t),La(t,at,s)):((e.lanes&a)!==0&&(Lc(e,t),ql(t,null,null,a),Bl()),s=e.memoizedState,c=t.memoizedState,s.parent!==l?(s={parent:l,cache:l},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),La(t,at,l)):(l=c.cache,La(t,at,l),l!==s.cache&&Dc(t,[at],a,!0))),mt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function xa(e){e.flags|=4}function vr(e,t,a,l,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(zf())e.flags|=8192;else throw gn=Qs,Rc}else e.flags&=-16777217}function sf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!jh(t))if(zf())e.flags|=8192;else throw gn=Qs,Rc}function ri(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Bo():536870912,e.lanes|=t,nl|=t)}function Ql(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var s=e.child;s!==null;)a|=s.lanes|s.childLanes,l|=s.subtreeFlags&65011712,l|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)a|=s.lanes|s.childLanes,l|=s.subtreeFlags,l|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function yg(e,t,a){var l=t.pendingProps;switch(_c(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return Qe(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),pa(at),V(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Vn(t)?xa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Tc())),Qe(t),null;case 26:var s=t.type,c=t.memoizedState;return e===null?(xa(t),c!==null?(Qe(t),sf(t,c)):(Qe(t),vr(t,s,null,l,a))):c?c!==e.memoizedState?(xa(t),Qe(t),sf(t,c)):(Qe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&xa(t),Qe(t),vr(t,s,e,l,a)),null;case 27:if(S(t),a=ge.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&xa(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return Qe(t),null}e=ae.current,Vn(t)?Bu(t):(e=hh(s,l,a),t.stateNode=e,xa(t))}return Qe(t),null;case 5:if(S(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&xa(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return Qe(t),null}if(c=ae.current,Vn(t))Bu(t);else{var d=Si(ge.current);switch(c){case 1:c=d.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:c=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":c=d.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":c=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":c=d.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?c.multiple=!0:l.size&&(c.size=l.size);break;default:c=typeof l.is=="string"?d.createElement(s,{is:l.is}):d.createElement(s)}}c[dt]=t,c[xt]=l;e:for(d=t.child;d!==null;){if(d.tag===5||d.tag===6)c.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}t.stateNode=c;e:switch(pt(c,s,l),s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&xa(t)}}return Qe(t),vr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&xa(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(o(166));if(e=ge.current,Vn(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,s=ft,s!==null)switch(s.tag){case 27:case 5:l=s.memoizedProps}e[dt]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ah(e.nodeValue,a)),e||Ua(t,!0)}else e=Si(e).createTextNode(l),e[dt]=t,t.stateNode=e}return Qe(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=Vn(t),a!==null){if(e===null){if(!l)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[dt]=t}else dn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),e=!1}else a=Tc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Mt(t),t):(Mt(t),null);if((t.flags&128)!==0)throw Error(o(558))}return Qe(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Vn(t),l!==null&&l.dehydrated!==null){if(e===null){if(!s)throw Error(o(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(o(317));s[dt]=t}else dn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),s=!1}else s=Tc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Mt(t),t):(Mt(t),null)}return Mt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,s=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(s=l.alternate.memoizedState.cachePool.pool),c=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(c=l.memoizedState.cachePool.pool),c!==s&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),ri(t,t.updateQueue),Qe(t),null);case 4:return V(),e===null&&qr(t.stateNode.containerInfo),Qe(t),null;case 10:return pa(t.type),Qe(t),null;case 19:if(q(et),l=t.memoizedState,l===null)return Qe(t),null;if(s=(t.flags&128)!==0,c=l.rendering,c===null)if(s)Ql(l,!1);else{if(Ie!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=Js(e),c!==null){for(t.flags|=128,Ql(l,!1),e=c.updateQueue,t.updateQueue=e,ri(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Ou(a,e),a=a.sibling;return ee(et,et.current&1|2),Ee&&ha(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Ue()>hi&&(t.flags|=128,s=!0,Ql(l,!1),t.lanes=4194304)}else{if(!s)if(e=Js(c),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,ri(t,e),Ql(l,!0),l.tail===null&&l.tailMode==="hidden"&&!c.alternate&&!Ee)return Qe(t),null}else 2*Ue()-l.renderingStartTime>hi&&a!==536870912&&(t.flags|=128,s=!0,Ql(l,!1),t.lanes=4194304);l.isBackwards?(c.sibling=t.child,t.child=c):(e=l.last,e!==null?e.sibling=c:t.child=c,l.last=c)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ue(),e.sibling=null,a=et.current,ee(et,s?a&1|2:a&1),Ee&&ha(t,l.treeForkCount),e):(Qe(t),null);case 22:case 23:return Mt(t),Hc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),a=t.updateQueue,a!==null&&ri(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&q(mn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),pa(at),Qe(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function xg(e,t){switch(_c(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pa(at),V(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return S(t),null;case 31:if(t.memoizedState!==null){if(Mt(t),t.alternate===null)throw Error(o(340));dn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Mt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));dn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(et),null;case 4:return V(),null;case 10:return pa(t.type),null;case 22:case 23:return Mt(t),Hc(),e!==null&&q(mn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return pa(at),null;case 25:return null;default:return null}}function cf(e,t){switch(_c(t),t.tag){case 3:pa(at),V();break;case 26:case 27:case 5:S(t);break;case 4:V();break;case 31:t.memoizedState!==null&&Mt(t);break;case 13:Mt(t);break;case 19:q(et);break;case 10:pa(t.type);break;case 22:case 23:Mt(t),Hc(),e!==null&&q(mn);break;case 24:pa(at)}}function Zl(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var s=l.next;a=s;do{if((a.tag&e)===e){l=void 0;var c=a.create,d=a.inst;l=c(),d.destroy=l}a=a.next}while(a!==s)}}catch(p){Oe(t,t.return,p)}}function Ga(e,t,a){try{var l=t.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var c=s.next;l=c;do{if((l.tag&e)===e){var d=l.inst,p=d.destroy;if(p!==void 0){d.destroy=void 0,s=t;var w=a,D=p;try{D()}catch(X){Oe(s,w,X)}}}l=l.next}while(l!==c)}}catch(X){Oe(t,t.return,X)}}function rf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Pu(t,a)}catch(l){Oe(e,e.return,l)}}}function of(e,t,a){a.props=xn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Oe(e,t,l)}}function Fl(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(s){Oe(e,t,s)}}function ia(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(s){Oe(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(s){Oe(e,t,s)}else a.current=null}function uf(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(s){Oe(e,e.return,s)}}function yr(e,t,a){try{var l=e.stateNode;Yg(l,e.type,a,t),l[xt]=t}catch(s){Oe(e,e.return,s)}}function df(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ja(e.type)||e.tag===4}function xr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||df(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ja(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function br(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ua));else if(l!==4&&(l===27&&Ja(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(br(e,t,a),e=e.sibling;e!==null;)br(e,t,a),e=e.sibling}function oi(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&Ja(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(oi(e,t,a),e=e.sibling;e!==null;)oi(e,t,a),e=e.sibling}function ff(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);pt(t,l,a),t[dt]=e,t[xt]=a}catch(c){Oe(e,e.return,c)}}var ba=!1,st=!1,jr=!1,hf=typeof WeakSet=="function"?WeakSet:Set,ut=null;function bg(e,t){if(e=e.containerInfo,Gr=Di,e=wu(e),mc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var s=l.anchorOffset,c=l.focusNode;l=l.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break e}var d=0,p=-1,w=-1,D=0,X=0,K=e,O=null;t:for(;;){for(var L;K!==a||s!==0&&K.nodeType!==3||(p=d+s),K!==c||l!==0&&K.nodeType!==3||(w=d+l),K.nodeType===3&&(d+=K.nodeValue.length),(L=K.firstChild)!==null;)O=K,K=L;for(;;){if(K===e)break t;if(O===a&&++D===s&&(p=d),O===c&&++X===l&&(w=d),(L=K.nextSibling)!==null)break;K=O,O=K.parentNode}K=L}a=p===-1||w===-1?null:{start:p,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xr={focusedElem:e,selectionRange:a},Di=!1,ut=t;ut!==null;)if(t=ut,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ut=e;else for(;ut!==null;){switch(t=ut,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)s=e[a],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,a=t,s=c.memoizedProps,c=c.memoizedState,l=a.stateNode;try{var ue=xn(a.type,s);e=l.getSnapshotBeforeUpdate(ue,c),l.__reactInternalSnapshotBeforeUpdate=e}catch(he){Oe(a,a.return,he)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Zr(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,ut=e;break}ut=t.return}}function mf(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Na(e,a),l&4&&Zl(5,a);break;case 1:if(Na(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(d){Oe(a,a.return,d)}else{var s=xn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){Oe(a,a.return,d)}}l&64&&rf(a),l&512&&Fl(a,a.return);break;case 3:if(Na(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Pu(e,t)}catch(d){Oe(a,a.return,d)}}break;case 27:t===null&&l&4&&ff(a);case 26:case 5:Na(e,a),t===null&&l&4&&uf(a),l&512&&Fl(a,a.return);break;case 12:Na(e,a);break;case 31:Na(e,a),l&4&&vf(e,a);break;case 13:Na(e,a),l&4&&yf(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Ag.bind(null,a),Jg(e,a))));break;case 22:if(l=a.memoizedState!==null||ba,!l){t=t!==null&&t.memoizedState!==null||st,s=ba;var c=st;ba=l,(st=t)&&!c?Sa(e,a,(a.subtreeFlags&8772)!==0):Na(e,a),ba=s,st=c}break;case 30:break;default:Na(e,a)}}function pf(e){var t=e.alternate;t!==null&&(e.alternate=null,pf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Pi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $e=null,jt=!1;function ja(e,t,a){for(a=a.child;a!==null;)gf(e,t,a),a=a.sibling}function gf(e,t,a){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(vl,a)}catch{}switch(a.tag){case 26:st||ia(a,t),ja(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:st||ia(a,t);var l=$e,s=jt;Ja(a.type)&&($e=a.stateNode,jt=!1),ja(e,t,a),as(a.stateNode),$e=l,jt=s;break;case 5:st||ia(a,t);case 6:if(l=$e,s=jt,$e=null,ja(e,t,a),$e=l,jt=s,$e!==null)if(jt)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(a.stateNode)}catch(c){Oe(a,t,c)}else try{$e.removeChild(a.stateNode)}catch(c){Oe(a,t,c)}break;case 18:$e!==null&&(jt?(e=$e,rh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),dl(e)):rh($e,a.stateNode));break;case 4:l=$e,s=jt,$e=a.stateNode.containerInfo,jt=!0,ja(e,t,a),$e=l,jt=s;break;case 0:case 11:case 14:case 15:Ga(2,a,t),st||Ga(4,a,t),ja(e,t,a);break;case 1:st||(ia(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&of(a,t,l)),ja(e,t,a);break;case 21:ja(e,t,a);break;case 22:st=(l=st)||a.memoizedState!==null,ja(e,t,a),st=l;break;default:ja(e,t,a)}}function vf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{dl(e)}catch(a){Oe(t,t.return,a)}}}function yf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{dl(e)}catch(a){Oe(t,t.return,a)}}function jg(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new hf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new hf),t;default:throw Error(o(435,e.tag))}}function ui(e,t){var a=jg(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var s=Dg.bind(null,e,l);l.then(s,s)}})}function Nt(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var s=a[l],c=e,d=t,p=d;e:for(;p!==null;){switch(p.tag){case 27:if(Ja(p.type)){$e=p.stateNode,jt=!1;break e}break;case 5:$e=p.stateNode,jt=!1;break e;case 3:case 4:$e=p.stateNode.containerInfo,jt=!0;break e}p=p.return}if($e===null)throw Error(o(160));gf(c,d,s),$e=null,jt=!1,c=s.alternate,c!==null&&(c.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)xf(t,e),t=t.sibling}var ta=null;function xf(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nt(t,e),St(e),l&4&&(Ga(3,e,e.return),Zl(3,e),Ga(5,e,e.return));break;case 1:Nt(t,e),St(e),l&512&&(st||a===null||ia(a,a.return)),l&64&&ba&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var s=ta;if(Nt(t,e),St(e),l&512&&(st||a===null||ia(a,a.return)),l&4){var c=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,s=s.ownerDocument||s;t:switch(l){case"title":c=s.getElementsByTagName("title")[0],(!c||c[bl]||c[dt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=s.createElement(l),s.head.insertBefore(c,s.querySelector("head > title"))),pt(c,l,a),c[dt]=e,ot(c),l=c;break e;case"link":var d=xh("link","href",s).get(l+(a.href||""));if(d){for(var p=0;p<d.length;p++)if(c=d[p],c.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&c.getAttribute("rel")===(a.rel==null?null:a.rel)&&c.getAttribute("title")===(a.title==null?null:a.title)&&c.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){d.splice(p,1);break t}}c=s.createElement(l),pt(c,l,a),s.head.appendChild(c);break;case"meta":if(d=xh("meta","content",s).get(l+(a.content||""))){for(p=0;p<d.length;p++)if(c=d[p],c.getAttribute("content")===(a.content==null?null:""+a.content)&&c.getAttribute("name")===(a.name==null?null:a.name)&&c.getAttribute("property")===(a.property==null?null:a.property)&&c.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&c.getAttribute("charset")===(a.charSet==null?null:a.charSet)){d.splice(p,1);break t}}c=s.createElement(l),pt(c,l,a),s.head.appendChild(c);break;default:throw Error(o(468,l))}c[dt]=e,ot(c),l=c}e.stateNode=l}else bh(s,e.type,e.stateNode);else e.stateNode=yh(s,l,e.memoizedProps);else c!==l?(c===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):c.count--,l===null?bh(s,e.type,e.stateNode):yh(s,l,e.memoizedProps)):l===null&&e.stateNode!==null&&yr(e,e.memoizedProps,a.memoizedProps)}break;case 27:Nt(t,e),St(e),l&512&&(st||a===null||ia(a,a.return)),a!==null&&l&4&&yr(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Nt(t,e),St(e),l&512&&(st||a===null||ia(a,a.return)),e.flags&32){s=e.stateNode;try{Rn(s,"")}catch(ue){Oe(e,e.return,ue)}}l&4&&e.stateNode!=null&&(s=e.memoizedProps,yr(e,s,a!==null?a.memoizedProps:s)),l&1024&&(jr=!0);break;case 6:if(Nt(t,e),St(e),l&4){if(e.stateNode===null)throw Error(o(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ue){Oe(e,e.return,ue)}}break;case 3:if(Ci=null,s=ta,ta=wi(t.containerInfo),Nt(t,e),ta=s,St(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{dl(t.containerInfo)}catch(ue){Oe(e,e.return,ue)}jr&&(jr=!1,bf(e));break;case 4:l=ta,ta=wi(e.stateNode.containerInfo),Nt(t,e),St(e),ta=l;break;case 12:Nt(t,e),St(e);break;case 31:Nt(t,e),St(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ui(e,l)));break;case 13:Nt(t,e),St(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(fi=Ue()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ui(e,l)));break;case 22:s=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,D=ba,X=st;if(ba=D||s,st=X||w,Nt(t,e),st=X,ba=D,St(e),l&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(a===null||w||ba||st||bn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){w=a=t;try{if(c=w.stateNode,s)d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{p=w.stateNode;var K=w.memoizedProps.style,O=K!=null&&K.hasOwnProperty("display")?K.display:null;p.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(ue){Oe(w,w.return,ue)}}}else if(t.tag===6){if(a===null){w=t;try{w.stateNode.nodeValue=s?"":w.memoizedProps}catch(ue){Oe(w,w.return,ue)}}}else if(t.tag===18){if(a===null){w=t;try{var L=w.stateNode;s?oh(L,!0):oh(w.stateNode,!1)}catch(ue){Oe(w,w.return,ue)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ui(e,a))));break;case 19:Nt(t,e),St(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ui(e,l)));break;case 30:break;case 21:break;default:Nt(t,e),St(e)}}function St(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(df(l)){a=l;break}l=l.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var s=a.stateNode,c=xr(e);oi(e,c,s);break;case 5:var d=a.stateNode;a.flags&32&&(Rn(d,""),a.flags&=-33);var p=xr(e);oi(e,p,d);break;case 3:case 4:var w=a.stateNode.containerInfo,D=xr(e);br(e,D,w);break;default:throw Error(o(161))}}catch(X){Oe(e,e.return,X)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;bf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Na(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)mf(e,t.alternate,t),t=t.sibling}function bn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ga(4,t,t.return),bn(t);break;case 1:ia(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&of(t,t.return,a),bn(t);break;case 27:as(t.stateNode);case 26:case 5:ia(t,t.return),bn(t);break;case 22:t.memoizedState===null&&bn(t);break;case 30:bn(t);break;default:bn(t)}e=e.sibling}}function Sa(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,s=e,c=t,d=c.flags;switch(c.tag){case 0:case 11:case 15:Sa(s,c,a),Zl(4,c);break;case 1:if(Sa(s,c,a),l=c,s=l.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(D){Oe(l,l.return,D)}if(l=c,s=l.updateQueue,s!==null){var p=l.stateNode;try{var w=s.shared.hiddenCallbacks;if(w!==null)for(s.shared.hiddenCallbacks=null,s=0;s<w.length;s++)Ku(w[s],p)}catch(D){Oe(l,l.return,D)}}a&&d&64&&rf(c),Fl(c,c.return);break;case 27:ff(c);case 26:case 5:Sa(s,c,a),a&&l===null&&d&4&&uf(c),Fl(c,c.return);break;case 12:Sa(s,c,a);break;case 31:Sa(s,c,a),a&&d&4&&vf(s,c);break;case 13:Sa(s,c,a),a&&d&4&&yf(s,c);break;case 22:c.memoizedState===null&&Sa(s,c,a),Fl(c,c.return);break;case 30:break;default:Sa(s,c,a)}t=t.sibling}}function Nr(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ol(a))}function Sr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ol(e))}function aa(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jf(e,t,a,l),t=t.sibling}function jf(e,t,a,l){var s=t.flags;switch(t.tag){case 0:case 11:case 15:aa(e,t,a,l),s&2048&&Zl(9,t);break;case 1:aa(e,t,a,l);break;case 3:aa(e,t,a,l),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ol(e)));break;case 12:if(s&2048){aa(e,t,a,l),e=t.stateNode;try{var c=t.memoizedProps,d=c.id,p=c.onPostCommit;typeof p=="function"&&p(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Oe(t,t.return,w)}}else aa(e,t,a,l);break;case 31:aa(e,t,a,l);break;case 13:aa(e,t,a,l);break;case 23:break;case 22:c=t.stateNode,d=t.alternate,t.memoizedState!==null?c._visibility&2?aa(e,t,a,l):$l(e,t):c._visibility&2?aa(e,t,a,l):(c._visibility|=2,el(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Nr(d,t);break;case 24:aa(e,t,a,l),s&2048&&Sr(t.alternate,t);break;default:aa(e,t,a,l)}}function el(e,t,a,l,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,d=t,p=a,w=l,D=d.flags;switch(d.tag){case 0:case 11:case 15:el(c,d,p,w,s),Zl(8,d);break;case 23:break;case 22:var X=d.stateNode;d.memoizedState!==null?X._visibility&2?el(c,d,p,w,s):$l(c,d):(X._visibility|=2,el(c,d,p,w,s)),s&&D&2048&&Nr(d.alternate,d);break;case 24:el(c,d,p,w,s),s&&D&2048&&Sr(d.alternate,d);break;default:el(c,d,p,w,s)}t=t.sibling}}function $l(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,s=l.flags;switch(l.tag){case 22:$l(a,l),s&2048&&Nr(l.alternate,l);break;case 24:$l(a,l),s&2048&&Sr(l.alternate,l);break;default:$l(a,l)}t=t.sibling}}var Jl=8192;function tl(e,t,a){if(e.subtreeFlags&Jl)for(e=e.child;e!==null;)Nf(e,t,a),e=e.sibling}function Nf(e,t,a){switch(e.tag){case 26:tl(e,t,a),e.flags&Jl&&e.memoizedState!==null&&cv(a,ta,e.memoizedState,e.memoizedProps);break;case 5:tl(e,t,a);break;case 3:case 4:var l=ta;ta=wi(e.stateNode.containerInfo),tl(e,t,a),ta=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Jl,Jl=16777216,tl(e,t,a),Jl=l):tl(e,t,a));break;default:tl(e,t,a)}}function Sf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Kl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];ut=l,_f(l,e)}Sf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)wf(e),e=e.sibling}function wf(e){switch(e.tag){case 0:case 11:case 15:Kl(e),e.flags&2048&&Ga(9,e,e.return);break;case 3:Kl(e);break;case 12:Kl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,di(e)):Kl(e);break;default:Kl(e)}}function di(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];ut=l,_f(l,e)}Sf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ga(8,t,t.return),di(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,di(t));break;default:di(t)}e=e.sibling}}function _f(e,t){for(;ut!==null;){var a=ut;switch(a.tag){case 0:case 11:case 15:Ga(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ut=l;else e:for(a=e;ut!==null;){l=ut;var s=l.sibling,c=l.return;if(pf(l),l===a){ut=null;break e}if(s!==null){s.return=c,ut=s;break e}ut=c}}}var Ng={getCacheForType:function(e){var t=ht(at),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return ht(at).controller.signal}},Sg=typeof WeakMap=="function"?WeakMap:Map,Me=0,Ye=null,we=null,Ce=0,ze=0,zt=null,Xa=!1,al=!1,wr=!1,wa=0,Ie=0,Va=0,jn=0,_r=0,Ot=0,nl=0,Pl=null,wt=null,Cr=!1,fi=0,Cf=0,hi=1/0,mi=null,Qa=null,rt=0,Za=null,ll=null,_a=0,Tr=0,Er=null,Tf=null,Wl=0,Ar=null;function Rt(){return(Me&2)!==0&&Ce!==0?Ce&-Ce:M.T!==null?Ur():Go()}function Ef(){if(Ot===0)if((Ce&536870912)===0||Ee){var e=Ns;Ns<<=1,(Ns&3932160)===0&&(Ns=262144),Ot=e}else Ot=536870912;return e=Dt.current,e!==null&&(e.flags|=32),Ot}function _t(e,t,a){(e===Ye&&(ze===2||ze===9)||e.cancelPendingCommit!==null)&&(sl(e,0),Fa(e,Ce,Ot,!1)),xl(e,a),((Me&2)===0||e!==Ye)&&(e===Ye&&((Me&2)===0&&(jn|=a),Ie===4&&Fa(e,Ce,Ot,!1)),ca(e))}function Af(e,t,a){if((Me&6)!==0)throw Error(o(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||yl(e,t),s=l?Cg(e,t):Mr(e,t,!0),c=l;do{if(s===0){al&&!l&&Fa(e,t,0,!1);break}else{if(a=e.current.alternate,c&&!wg(a)){s=Mr(e,t,!1),c=!1;continue}if(s===2){if(c=t,e.errorRecoveryDisabledLanes&c)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var p=e;s=Pl;var w=p.current.memoizedState.isDehydrated;if(w&&(sl(p,d).flags|=256),d=Mr(p,d,!1),d!==2){if(wr&&!w){p.errorRecoveryDisabledLanes|=c,jn|=c,s=4;break e}c=wt,wt=s,c!==null&&(wt===null?wt=c:wt.push.apply(wt,c))}s=d}if(c=!1,s!==2)continue}}if(s===1){sl(e,0),Fa(e,t,0,!0);break}e:{switch(l=e,c=s,c){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:Fa(l,t,Ot,!Xa);break e;case 2:wt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(s=fi+300-Ue(),10<s)){if(Fa(l,t,Ot,!Xa),ws(l,0,!0)!==0)break e;_a=t,l.timeoutHandle=ih(Df.bind(null,l,a,wt,mi,Cr,t,Ot,jn,nl,Xa,c,"Throttled",-0,0),s);break e}Df(l,a,wt,mi,Cr,t,Ot,jn,nl,Xa,c,null,-0,0)}}break}while(!0);ca(e)}function Df(e,t,a,l,s,c,d,p,w,D,X,K,O,L){if(e.timeoutHandle=-1,K=t.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ua},Nf(t,c,K);var ue=(c&62914560)===c?fi-Ue():(c&4194048)===c?Cf-Ue():0;if(ue=rv(K,ue),ue!==null){_a=c,e.cancelPendingCommit=ue(Bf.bind(null,e,t,c,a,l,s,d,p,w,X,K,null,O,L)),Fa(e,c,d,!D);return}}Bf(e,t,c,a,l,s,d,p,w)}function wg(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var s=a[l],c=s.getSnapshot;s=s.value;try{if(!Et(c(),s))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fa(e,t,a,l){t&=~_r,t&=~jn,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var s=t;0<s;){var c=31-Tt(s),d=1<<c;l[c]=-1,s&=~d}a!==0&&qo(e,a,t)}function pi(){return(Me&6)===0?(Il(0),!1):!0}function Dr(){if(we!==null){if(ze===0)var e=we.return;else e=we,ma=fn=null,Zc(e),Jn=null,Ul=0,e=we;for(;e!==null;)cf(e.alternate,e),e=e.return;we=null}}function sl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Vg(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),_a=0,Dr(),Ye=e,we=a=fa(e.current,null),Ce=t,ze=0,zt=null,Xa=!1,al=yl(e,t),wr=!1,nl=Ot=_r=jn=Va=Ie=0,wt=Pl=null,Cr=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var s=31-Tt(l),c=1<<s;t|=e[s],l&=~c}return wa=t,Ls(),a}function Mf(e,t){je=null,M.H=Xl,t===$n||t===Vs?(t=Zu(),ze=3):t===Rc?(t=Zu(),ze=4):ze=t===rr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,zt=t,we===null&&(Ie=1,li(e,qt(t,e.current)))}function zf(){var e=Dt.current;return e===null?!0:(Ce&4194048)===Ce?Xt===null:(Ce&62914560)===Ce||(Ce&536870912)!==0?e===Xt:!1}function Of(){var e=M.H;return M.H=Xl,e===null?Xl:e}function Rf(){var e=M.A;return M.A=Ng,e}function gi(){Ie=4,Xa||(Ce&4194048)!==Ce&&Dt.current!==null||(al=!0),(Va&134217727)===0&&(jn&134217727)===0||Ye===null||Fa(Ye,Ce,Ot,!1)}function Mr(e,t,a){var l=Me;Me|=2;var s=Of(),c=Rf();(Ye!==e||Ce!==t)&&(mi=null,sl(e,t)),t=!1;var d=Ie;e:do try{if(ze!==0&&we!==null){var p=we,w=zt;switch(ze){case 8:Dr(),d=6;break e;case 3:case 2:case 9:case 6:Dt.current===null&&(t=!0);var D=ze;if(ze=0,zt=null,il(e,p,w,D),a&&al){d=0;break e}break;default:D=ze,ze=0,zt=null,il(e,p,w,D)}}_g(),d=Ie;break}catch(X){Mf(e,X)}while(!0);return t&&e.shellSuspendCounter++,ma=fn=null,Me=l,M.H=s,M.A=c,we===null&&(Ye=null,Ce=0,Ls()),d}function _g(){for(;we!==null;)Uf(we)}function Cg(e,t){var a=Me;Me|=2;var l=Of(),s=Rf();Ye!==e||Ce!==t?(mi=null,hi=Ue()+500,sl(e,t)):al=yl(e,t);e:do try{if(ze!==0&&we!==null){t=we;var c=zt;t:switch(ze){case 1:ze=0,zt=null,il(e,t,c,1);break;case 2:case 9:if(Vu(c)){ze=0,zt=null,Lf(t);break}t=function(){ze!==2&&ze!==9||Ye!==e||(ze=7),ca(e)},c.then(t,t);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:Vu(c)?(ze=0,zt=null,Lf(t)):(ze=0,zt=null,il(e,t,c,7));break;case 5:var d=null;switch(we.tag){case 26:d=we.memoizedState;case 5:case 27:var p=we;if(d?jh(d):p.stateNode.complete){ze=0,zt=null;var w=p.sibling;if(w!==null)we=w;else{var D=p.return;D!==null?(we=D,vi(D)):we=null}break t}}ze=0,zt=null,il(e,t,c,5);break;case 6:ze=0,zt=null,il(e,t,c,6);break;case 8:Dr(),Ie=6;break e;default:throw Error(o(462))}}Tg();break}catch(X){Mf(e,X)}while(!0);return ma=fn=null,M.H=l,M.A=s,Me=a,we!==null?0:(Ye=null,Ce=0,Ls(),Ie)}function Tg(){for(;we!==null&&!Ke();)Uf(we)}function Uf(e){var t=lf(e.alternate,e,wa);e.memoizedProps=e.pendingProps,t===null?vi(e):we=t}function Lf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Wd(a,t,t.pendingProps,t.type,void 0,Ce);break;case 11:t=Wd(a,t,t.pendingProps,t.type.render,t.ref,Ce);break;case 5:Zc(t);default:cf(a,t),t=we=Ou(t,wa),t=lf(a,t,wa)}e.memoizedProps=e.pendingProps,t===null?vi(e):we=t}function il(e,t,a,l){ma=fn=null,Zc(t),Jn=null,Ul=0;var s=t.return;try{if(pg(e,s,t,a,Ce)){Ie=1,li(e,qt(a,e.current)),we=null;return}}catch(c){if(s!==null)throw we=s,c;Ie=1,li(e,qt(a,e.current)),we=null;return}t.flags&32768?(Ee||l===1?e=!0:al||(Ce&536870912)!==0?e=!1:(Xa=e=!0,(l===2||l===9||l===3||l===6)&&(l=Dt.current,l!==null&&l.tag===13&&(l.flags|=16384))),kf(t,e)):vi(t)}function vi(e){var t=e;do{if((t.flags&32768)!==0){kf(t,Xa);return}e=t.return;var a=yg(t.alternate,t,wa);if(a!==null){we=a;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);Ie===0&&(Ie=5)}function kf(e,t){do{var a=xg(e.alternate,e);if(a!==null){a.flags&=32767,we=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){we=e;return}we=e=a}while(e!==null);Ie=6,we=null}function Bf(e,t,a,l,s,c,d,p,w){e.cancelPendingCommit=null;do yi();while(rt!==0);if((Me&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(c=t.lanes|t.childLanes,c|=xc,ip(e,a,c,d,p,w),e===Ye&&(we=Ye=null,Ce=0),ll=t,Za=e,_a=a,Tr=c,Er=s,Tf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Mg(bs,function(){return Xf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,s=C.p,C.p=2,d=Me,Me|=4;try{bg(e,t,a)}finally{Me=d,C.p=s,M.T=l}}rt=1,qf(),Hf(),Yf()}}function qf(){if(rt===1){rt=0;var e=Za,t=ll,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=M.T,M.T=null;var l=C.p;C.p=2;var s=Me;Me|=4;try{xf(t,e);var c=Xr,d=wu(e.containerInfo),p=c.focusedElem,w=c.selectionRange;if(d!==p&&p&&p.ownerDocument&&Su(p.ownerDocument.documentElement,p)){if(w!==null&&mc(p)){var D=w.start,X=w.end;if(X===void 0&&(X=D),"selectionStart"in p)p.selectionStart=D,p.selectionEnd=Math.min(X,p.value.length);else{var K=p.ownerDocument||document,O=K&&K.defaultView||window;if(O.getSelection){var L=O.getSelection(),ue=p.textContent.length,he=Math.min(w.start,ue),Be=w.end===void 0?he:Math.min(w.end,ue);!L.extend&&he>Be&&(d=Be,Be=he,he=d);var T=Nu(p,he),_=Nu(p,Be);if(T&&_&&(L.rangeCount!==1||L.anchorNode!==T.node||L.anchorOffset!==T.offset||L.focusNode!==_.node||L.focusOffset!==_.offset)){var A=K.createRange();A.setStart(T.node,T.offset),L.removeAllRanges(),he>Be?(L.addRange(A),L.extend(_.node,_.offset)):(A.setEnd(_.node,_.offset),L.addRange(A))}}}}for(K=[],L=p;L=L.parentNode;)L.nodeType===1&&K.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<K.length;p++){var F=K[p];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Di=!!Gr,Xr=Gr=null}finally{Me=s,C.p=l,M.T=a}}e.current=t,rt=2}}function Hf(){if(rt===2){rt=0;var e=Za,t=ll,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=M.T,M.T=null;var l=C.p;C.p=2;var s=Me;Me|=4;try{mf(e,t.alternate,t)}finally{Me=s,C.p=l,M.T=a}}rt=3}}function Yf(){if(rt===4||rt===3){rt=0,Ge();var e=Za,t=ll,a=_a,l=Tf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?rt=5:(rt=0,ll=Za=null,Gf(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(Qa=null),Ji(a),t=t.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(vl,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=M.T,s=C.p,C.p=2,M.T=null;try{for(var c=e.onRecoverableError,d=0;d<l.length;d++){var p=l[d];c(p.value,{componentStack:p.stack})}}finally{M.T=t,C.p=s}}(_a&3)!==0&&yi(),ca(e),s=e.pendingLanes,(a&261930)!==0&&(s&42)!==0?e===Ar?Wl++:(Wl=0,Ar=e):Wl=0,Il(0)}}function Gf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ol(t)))}function yi(){return qf(),Hf(),Yf(),Xf()}function Xf(){if(rt!==5)return!1;var e=Za,t=Tr;Tr=0;var a=Ji(_a),l=M.T,s=C.p;try{C.p=32>a?32:a,M.T=null,a=Er,Er=null;var c=Za,d=_a;if(rt=0,ll=Za=null,_a=0,(Me&6)!==0)throw Error(o(331));var p=Me;if(Me|=4,wf(c.current),jf(c,c.current,d,a),Me=p,Il(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(vl,c)}catch{}return!0}finally{C.p=s,M.T=l,Gf(e,t)}}function Vf(e,t,a){t=qt(a,t),t=cr(e.stateNode,t,2),e=qa(e,t,2),e!==null&&(xl(e,2),ca(e))}function Oe(e,t,a){if(e.tag===3)Vf(e,e,a);else for(;t!==null;){if(t.tag===3){Vf(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Qa===null||!Qa.has(l))){e=qt(a,e),a=Vd(2),l=qa(t,a,2),l!==null&&(Qd(a,l,t,e),xl(l,2),ca(l));break}}t=t.return}}function zr(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Sg;var s=new Set;l.set(t,s)}else s=l.get(t),s===void 0&&(s=new Set,l.set(t,s));s.has(a)||(wr=!0,s.add(a),e=Eg.bind(null,e,t,a),t.then(e,e))}function Eg(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ye===e&&(Ce&a)===a&&(Ie===4||Ie===3&&(Ce&62914560)===Ce&&300>Ue()-fi?(Me&2)===0&&sl(e,0):_r|=a,nl===Ce&&(nl=0)),ca(e)}function Qf(e,t){t===0&&(t=Bo()),e=on(e,t),e!==null&&(xl(e,t),ca(e))}function Ag(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Qf(e,a)}function Dg(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,s=e.memoizedState;s!==null&&(a=s.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(t),Qf(e,a)}function Mg(e,t){return oe(e,t)}var xi=null,cl=null,Or=!1,bi=!1,Rr=!1,$a=0;function ca(e){e!==cl&&e.next===null&&(cl===null?xi=cl=e:cl=cl.next=e),bi=!0,Or||(Or=!0,Og())}function Il(e,t){if(!Rr&&bi){Rr=!0;do for(var a=!1,l=xi;l!==null;){if(e!==0){var s=l.pendingLanes;if(s===0)var c=0;else{var d=l.suspendedLanes,p=l.pingedLanes;c=(1<<31-Tt(42|e)+1)-1,c&=s&~(d&~p),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(a=!0,Jf(l,c))}else c=Ce,c=ws(l,l===Ye?c:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(c&3)===0||yl(l,c)||(a=!0,Jf(l,c));l=l.next}while(a);Rr=!1}}function zg(){Zf()}function Zf(){bi=Or=!1;var e=0;$a!==0&&Xg()&&(e=$a);for(var t=Ue(),a=null,l=xi;l!==null;){var s=l.next,c=Ff(l,t);c===0?(l.next=null,a===null?xi=s:a.next=s,s===null&&(cl=a)):(a=l,(e!==0||(c&3)!==0)&&(bi=!0)),l=s}rt!==0&&rt!==5||Il(e),$a!==0&&($a=0)}function Ff(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,s=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var d=31-Tt(c),p=1<<d,w=s[d];w===-1?((p&a)===0||(p&l)!==0)&&(s[d]=sp(p,t)):w<=t&&(e.expiredLanes|=p),c&=~p}if(t=Ye,a=Ce,a=ws(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(ze===2||ze===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&pe(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||yl(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&pe(l),Ji(a)){case 2:case 8:a=Lo;break;case 32:a=bs;break;case 268435456:a=ko;break;default:a=bs}return l=$f.bind(null,e),a=oe(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&pe(l),e.callbackPriority=2,e.callbackNode=null,2}function $f(e,t){if(rt!==0&&rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(yi()&&e.callbackNode!==a)return null;var l=Ce;return l=ws(e,e===Ye?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Af(e,l,t),Ff(e,Ue()),e.callbackNode!=null&&e.callbackNode===a?$f.bind(null,e):null)}function Jf(e,t){if(yi())return null;Af(e,t,!0)}function Og(){Qg(function(){(Me&6)!==0?oe(Uo,zg):Zf()})}function Ur(){if($a===0){var e=Zn;e===0&&(e=js,js<<=1,(js&261888)===0&&(js=256)),$a=e}return $a}function Kf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Es(""+e)}function Pf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Rg(e,t,a,l,s){if(t==="submit"&&a&&a.stateNode===s){var c=Kf((s[xt]||null).action),d=l.submitter;d&&(t=(t=d[xt]||null)?Kf(t.formAction):d.getAttribute("formAction"),t!==null&&(c=t,d=null));var p=new zs("action","action",null,l,s);e.push({event:p,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($a!==0){var w=d?Pf(s,d):new FormData(s);tr(a,{pending:!0,data:w,method:s.method,action:c},null,w)}}else typeof c=="function"&&(p.preventDefault(),w=d?Pf(s,d):new FormData(s),tr(a,{pending:!0,data:w,method:s.method,action:c},c,w))},currentTarget:s}]})}}for(var Lr=0;Lr<yc.length;Lr++){var kr=yc[Lr],Ug=kr.toLowerCase(),Lg=kr[0].toUpperCase()+kr.slice(1);ea(Ug,"on"+Lg)}ea(Tu,"onAnimationEnd"),ea(Eu,"onAnimationIteration"),ea(Au,"onAnimationStart"),ea("dblclick","onDoubleClick"),ea("focusin","onFocus"),ea("focusout","onBlur"),ea(Wp,"onTransitionRun"),ea(Ip,"onTransitionStart"),ea(eg,"onTransitionCancel"),ea(Du,"onTransitionEnd"),zn("onMouseEnter",["mouseout","mouseover"]),zn("onMouseLeave",["mouseout","mouseover"]),zn("onPointerEnter",["pointerout","pointerover"]),zn("onPointerLeave",["pointerout","pointerover"]),ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(es));function Wf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],s=l.event;l=l.listeners;e:{var c=void 0;if(t)for(var d=l.length-1;0<=d;d--){var p=l[d],w=p.instance,D=p.currentTarget;if(p=p.listener,w!==c&&s.isPropagationStopped())break e;c=p,s.currentTarget=D;try{c(s)}catch(X){Us(X)}s.currentTarget=null,c=w}else for(d=0;d<l.length;d++){if(p=l[d],w=p.instance,D=p.currentTarget,p=p.listener,w!==c&&s.isPropagationStopped())break e;c=p,s.currentTarget=D;try{c(s)}catch(X){Us(X)}s.currentTarget=null,c=w}}}}function _e(e,t){var a=t[Ki];a===void 0&&(a=t[Ki]=new Set);var l=e+"__bubble";a.has(l)||(If(t,e,2,!1),a.add(l))}function Br(e,t,a){var l=0;t&&(l|=4),If(a,e,l,t)}var ji="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[ji]){e[ji]=!0,Qo.forEach(function(a){a!=="selectionchange"&&(kg.has(a)||Br(a,!1,e),Br(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ji]||(t[ji]=!0,Br("selectionchange",!1,t))}}function If(e,t,a,l){switch(Eh(t)){case 2:var s=dv;break;case 8:s=fv;break;default:s=eo}a=s.bind(null,t,a,e),s=void 0,!sc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),l?s!==void 0?e.addEventListener(t,a,{capture:!0,passive:s}):e.addEventListener(t,a,!0):s!==void 0?e.addEventListener(t,a,{passive:s}):e.addEventListener(t,a,!1)}function Hr(e,t,a,l,s){var c=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var d=l.tag;if(d===3||d===4){var p=l.stateNode.containerInfo;if(p===s)break;if(d===4)for(d=l.return;d!==null;){var w=d.tag;if((w===3||w===4)&&d.stateNode.containerInfo===s)return;d=d.return}for(;p!==null;){if(d=An(p),d===null)return;if(w=d.tag,w===5||w===6||w===26||w===27){l=c=d;continue e}p=p.parentNode}}l=l.return}nu(function(){var D=c,X=nc(a),K=[];e:{var O=Mu.get(e);if(O!==void 0){var L=zs,ue=e;switch(e){case"keypress":if(Ds(a)===0)break e;case"keydown":case"keyup":L=Dp;break;case"focusin":ue="focus",L=oc;break;case"focusout":ue="blur",L=oc;break;case"beforeblur":case"afterblur":L=oc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=iu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=yp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=Op;break;case Tu:case Eu:case Au:L=jp;break;case Du:L=Up;break;case"scroll":case"scrollend":L=gp;break;case"wheel":L=kp;break;case"copy":case"cut":case"paste":L=Sp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=ru;break;case"toggle":case"beforetoggle":L=qp}var he=(t&4)!==0,Be=!he&&(e==="scroll"||e==="scrollend"),T=he?O!==null?O+"Capture":null:O;he=[];for(var _=D,A;_!==null;){var F=_;if(A=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||A===null||T===null||(F=Nl(_,T),F!=null&&he.push(ts(_,F,A))),Be)break;_=_.return}0<he.length&&(O=new L(O,ue,null,a,X),K.push({event:O,listeners:he}))}}if((t&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",O&&a!==ac&&(ue=a.relatedTarget||a.fromElement)&&(An(ue)||ue[En]))break e;if((L||O)&&(O=X.window===X?X:(O=X.ownerDocument)?O.defaultView||O.parentWindow:window,L?(ue=a.relatedTarget||a.toElement,L=D,ue=ue?An(ue):null,ue!==null&&(Be=h(ue),he=ue.tag,ue!==Be||he!==5&&he!==27&&he!==6)&&(ue=null)):(L=null,ue=D),L!==ue)){if(he=iu,F="onMouseLeave",T="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(he=ru,F="onPointerLeave",T="onPointerEnter",_="pointer"),Be=L==null?O:jl(L),A=ue==null?O:jl(ue),O=new he(F,_+"leave",L,a,X),O.target=Be,O.relatedTarget=A,F=null,An(X)===D&&(he=new he(T,_+"enter",ue,a,X),he.target=A,he.relatedTarget=Be,F=he),Be=F,L&&ue)t:{for(he=Bg,T=L,_=ue,A=0,F=T;F;F=he(F))A++;F=0;for(var fe=_;fe;fe=he(fe))F++;for(;0<A-F;)T=he(T),A--;for(;0<F-A;)_=he(_),F--;for(;A--;){if(T===_||_!==null&&T===_.alternate){he=T;break t}T=he(T),_=he(_)}he=null}else he=null;L!==null&&eh(K,O,L,he,!1),ue!==null&&Be!==null&&eh(K,Be,ue,he,!0)}}e:{if(O=D?jl(D):window,L=O.nodeName&&O.nodeName.toLowerCase(),L==="select"||L==="input"&&O.type==="file")var Ae=gu;else if(mu(O))if(vu)Ae=Jp;else{Ae=Fp;var de=Zp}else L=O.nodeName,!L||L.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?D&&tc(D.elementType)&&(Ae=gu):Ae=$p;if(Ae&&(Ae=Ae(e,D))){pu(K,Ae,a,X);break e}de&&de(e,O,D),e==="focusout"&&D&&O.type==="number"&&D.memoizedProps.value!=null&&ec(O,"number",O.value)}switch(de=D?jl(D):window,e){case"focusin":(mu(de)||de.contentEditable==="true")&&(Bn=de,pc=D,Dl=null);break;case"focusout":Dl=pc=Bn=null;break;case"mousedown":gc=!0;break;case"contextmenu":case"mouseup":case"dragend":gc=!1,_u(K,a,X);break;case"selectionchange":if(Pp)break;case"keydown":case"keyup":_u(K,a,X)}var Ne;if(dc)e:{switch(e){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else kn?fu(e,a)&&(Te="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(ou&&a.locale!=="ko"&&(kn||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&kn&&(Ne=lu()):(za=X,ic="value"in za?za.value:za.textContent,kn=!0)),de=Ni(D,Te),0<de.length&&(Te=new cu(Te,e,null,a,X),K.push({event:Te,listeners:de}),Ne?Te.data=Ne:(Ne=hu(a),Ne!==null&&(Te.data=Ne)))),(Ne=Yp?Gp(e,a):Xp(e,a))&&(Te=Ni(D,"onBeforeInput"),0<Te.length&&(de=new cu("onBeforeInput","beforeinput",null,a,X),K.push({event:de,listeners:Te}),de.data=Ne)),Rg(K,e,D,a,X)}Wf(K,t)})}function ts(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Ni(e,t){for(var a=t+"Capture",l=[];e!==null;){var s=e,c=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||c===null||(s=Nl(e,a),s!=null&&l.unshift(ts(e,s,c)),s=Nl(e,t),s!=null&&l.push(ts(e,s,c))),e.tag===3)return l;e=e.return}return[]}function Bg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function eh(e,t,a,l,s){for(var c=t._reactName,d=[];a!==null&&a!==l;){var p=a,w=p.alternate,D=p.stateNode;if(p=p.tag,w!==null&&w===l)break;p!==5&&p!==26&&p!==27||D===null||(w=D,s?(D=Nl(a,c),D!=null&&d.unshift(ts(a,D,w))):s||(D=Nl(a,c),D!=null&&d.push(ts(a,D,w)))),a=a.return}d.length!==0&&e.push({event:t,listeners:d})}var qg=/\r\n?/g,Hg=/\u0000|\uFFFD/g;function th(e){return(typeof e=="string"?e:""+e).replace(qg,`
`).replace(Hg,"")}function ah(e,t){return t=th(t),th(e)===t}function ke(e,t,a,l,s,c){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Rn(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Rn(e,""+l);break;case"className":Cs(e,"class",l);break;case"tabIndex":Cs(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Cs(e,a,l);break;case"style":tu(e,l,c);break;case"data":if(t!=="object"){Cs(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Es(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(a==="formAction"?(t!=="input"&&ke(e,t,"name",s.name,s,null),ke(e,t,"formEncType",s.formEncType,s,null),ke(e,t,"formMethod",s.formMethod,s,null),ke(e,t,"formTarget",s.formTarget,s,null)):(ke(e,t,"encType",s.encType,s,null),ke(e,t,"method",s.method,s,null),ke(e,t,"target",s.target,s,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Es(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=ua);break;case"onScroll":l!=null&&_e("scroll",e);break;case"onScrollEnd":l!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(a=l.__html,a!=null){if(s.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Es(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":_e("beforetoggle",e),_e("toggle",e),_s(e,"popover",l);break;case"xlinkActuate":oa(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":oa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":oa(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":oa(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":oa(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":oa(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":oa(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":oa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":oa(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_s(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mp.get(a)||a,_s(e,a,l))}}function Yr(e,t,a,l,s,c){switch(a){case"style":tu(e,l,c);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(a=l.__html,a!=null){if(s.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Rn(e,l):(typeof l=="number"||typeof l=="bigint")&&Rn(e,""+l);break;case"onScroll":l!=null&&_e("scroll",e);break;case"onScrollEnd":l!=null&&_e("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ua);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(s=a.endsWith("Capture"),t=a.slice(2,s?a.length-7:void 0),c=e[xt]||null,c=c!=null?c[a]:null,typeof c=="function"&&e.removeEventListener(t,c,s),typeof l=="function")){typeof c!="function"&&c!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,s);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):_s(e,a,l)}}}function pt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var l=!1,s=!1,c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];if(d!=null)switch(c){case"src":l=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ke(e,t,c,d,a,null)}}s&&ke(e,t,"srcSet",a.srcSet,a,null),l&&ke(e,t,"src",a.src,a,null);return;case"input":_e("invalid",e);var p=c=d=s=null,w=null,D=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":s=X;break;case"type":d=X;break;case"checked":w=X;break;case"defaultChecked":D=X;break;case"value":c=X;break;case"defaultValue":p=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(o(137,t));break;default:ke(e,t,l,X,a,null)}}Po(e,c,p,w,D,d,s,!1);return;case"select":_e("invalid",e),l=d=c=null;for(s in a)if(a.hasOwnProperty(s)&&(p=a[s],p!=null))switch(s){case"value":c=p;break;case"defaultValue":d=p;break;case"multiple":l=p;default:ke(e,t,s,p,a,null)}t=c,a=d,e.multiple=!!l,t!=null?On(e,!!l,t,!1):a!=null&&On(e,!!l,a,!0);return;case"textarea":_e("invalid",e),c=s=l=null;for(d in a)if(a.hasOwnProperty(d)&&(p=a[d],p!=null))switch(d){case"value":l=p;break;case"defaultValue":s=p;break;case"children":c=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(o(91));break;default:ke(e,t,d,p,a,null)}Io(e,l,s,c);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ke(e,t,w,l,a,null)}return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(l=0;l<es.length;l++)_e(es[l],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ke(e,t,D,l,a,null)}return;default:if(tc(t)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Yr(e,t,X,l,a,void 0));return}}for(p in a)a.hasOwnProperty(p)&&(l=a[p],l!=null&&ke(e,t,p,l,a,null))}function Yg(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,c=null,d=null,p=null,w=null,D=null,X=null;for(L in a){var K=a[L];if(a.hasOwnProperty(L)&&K!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":w=K;default:l.hasOwnProperty(L)||ke(e,t,L,null,l,K)}}for(var O in l){var L=l[O];if(K=a[O],l.hasOwnProperty(O)&&(L!=null||K!=null))switch(O){case"type":c=L;break;case"name":s=L;break;case"checked":D=L;break;case"defaultChecked":X=L;break;case"value":d=L;break;case"defaultValue":p=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(o(137,t));break;default:L!==K&&ke(e,t,O,L,l,K)}}Ii(e,d,p,w,D,X,c,s);return;case"select":L=d=p=O=null;for(c in a)if(w=a[c],a.hasOwnProperty(c)&&w!=null)switch(c){case"value":break;case"multiple":L=w;default:l.hasOwnProperty(c)||ke(e,t,c,null,l,w)}for(s in l)if(c=l[s],w=a[s],l.hasOwnProperty(s)&&(c!=null||w!=null))switch(s){case"value":O=c;break;case"defaultValue":p=c;break;case"multiple":d=c;default:c!==w&&ke(e,t,s,c,l,w)}t=p,a=d,l=L,O!=null?On(e,!!a,O,!1):!!l!=!!a&&(t!=null?On(e,!!a,t,!0):On(e,!!a,a?[]:"",!1));return;case"textarea":L=O=null;for(p in a)if(s=a[p],a.hasOwnProperty(p)&&s!=null&&!l.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:ke(e,t,p,null,l,s)}for(d in l)if(s=l[d],c=a[d],l.hasOwnProperty(d)&&(s!=null||c!=null))switch(d){case"value":O=s;break;case"defaultValue":L=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(o(91));break;default:s!==c&&ke(e,t,d,s,l,c)}Wo(e,O,L);return;case"option":for(var ue in a)if(O=a[ue],a.hasOwnProperty(ue)&&O!=null&&!l.hasOwnProperty(ue))switch(ue){case"selected":e.selected=!1;break;default:ke(e,t,ue,null,l,O)}for(w in l)if(O=l[w],L=a[w],l.hasOwnProperty(w)&&O!==L&&(O!=null||L!=null))switch(w){case"selected":e.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:ke(e,t,w,O,l,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in a)O=a[he],a.hasOwnProperty(he)&&O!=null&&!l.hasOwnProperty(he)&&ke(e,t,he,null,l,O);for(D in l)if(O=l[D],L=a[D],l.hasOwnProperty(D)&&O!==L&&(O!=null||L!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(o(137,t));break;default:ke(e,t,D,O,l,L)}return;default:if(tc(t)){for(var Be in a)O=a[Be],a.hasOwnProperty(Be)&&O!==void 0&&!l.hasOwnProperty(Be)&&Yr(e,t,Be,void 0,l,O);for(X in l)O=l[X],L=a[X],!l.hasOwnProperty(X)||O===L||O===void 0&&L===void 0||Yr(e,t,X,O,l,L);return}}for(var T in a)O=a[T],a.hasOwnProperty(T)&&O!=null&&!l.hasOwnProperty(T)&&ke(e,t,T,null,l,O);for(K in l)O=l[K],L=a[K],!l.hasOwnProperty(K)||O===L||O==null&&L==null||ke(e,t,K,O,l,L)}function nh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gg(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var s=a[l],c=s.transferSize,d=s.initiatorType,p=s.duration;if(c&&p&&nh(d)){for(d=0,p=s.responseEnd,l+=1;l<a.length;l++){var w=a[l],D=w.startTime;if(D>p)break;var X=w.transferSize,K=w.initiatorType;X&&nh(K)&&(w=w.responseEnd,d+=X*(w<p?1:(p-D)/(w-D)))}if(--l,t+=8*(c+d)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Gr=null,Xr=null;function Si(e){return e.nodeType===9?e:e.ownerDocument}function lh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Vr(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qr=null;function Xg(){var e=window.event;return e&&e.type==="popstate"?e===Qr?!1:(Qr=e,!0):(Qr=null,!1)}var ih=typeof setTimeout=="function"?setTimeout:void 0,Vg=typeof clearTimeout=="function"?clearTimeout:void 0,ch=typeof Promise=="function"?Promise:void 0,Qg=typeof queueMicrotask=="function"?queueMicrotask:typeof ch<"u"?function(e){return ch.resolve(null).then(e).catch(Zg)}:ih;function Zg(e){setTimeout(function(){throw e})}function Ja(e){return e==="head"}function rh(e,t){var a=t,l=0;do{var s=a.nextSibling;if(e.removeChild(a),s&&s.nodeType===8)if(a=s.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(s),dl(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")as(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,as(a);for(var c=a.firstChild;c;){var d=c.nextSibling,p=c.nodeName;c[bl]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&c.rel.toLowerCase()==="stylesheet"||a.removeChild(c),c=d}}else a==="body"&&as(e.ownerDocument.body);a=s}while(a);dl(t)}function oh(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Zr(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zr(a),Pi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Fg(e,t,a,l){for(;e.nodeType===1;){var s=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[bl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Vt(e.nextSibling),e===null)break}return null}function $g(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Vt(e.nextSibling),e===null))return null;return e}function uh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Vt(e.nextSibling),e===null))return null;return e}function Fr(e){return e.data==="$?"||e.data==="$~"}function $r(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Jg(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Vt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Jr=null;function dh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Vt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function fh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function hh(e,t,a){switch(t=Si(a),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function as(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Pi(e)}var Qt=new Map,mh=new Set;function wi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ca=C.d;C.d={f:Kg,r:Pg,D:Wg,C:Ig,L:ev,m:tv,X:nv,S:av,M:lv};function Kg(){var e=Ca.f(),t=pi();return e||t}function Pg(e){var t=Dn(e);t!==null&&t.tag===5&&t.type==="form"?Dd(t):Ca.r(e)}var rl=typeof document>"u"?null:document;function ph(e,t,a){var l=rl;if(l&&typeof t=="string"&&t){var s=kt(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof a=="string"&&(s+='[crossorigin="'+a+'"]'),mh.has(s)||(mh.add(s),e={rel:e,crossOrigin:a,href:t},l.querySelector(s)===null&&(t=l.createElement("link"),pt(t,"link",e),ot(t),l.head.appendChild(t)))}}function Wg(e){Ca.D(e),ph("dns-prefetch",e,null)}function Ig(e,t){Ca.C(e,t),ph("preconnect",e,t)}function ev(e,t,a){Ca.L(e,t,a);var l=rl;if(l&&e&&t){var s='link[rel="preload"][as="'+kt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(s+='[imagesrcset="'+kt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(s+='[imagesizes="'+kt(a.imageSizes)+'"]')):s+='[href="'+kt(e)+'"]';var c=s;switch(t){case"style":c=ol(e);break;case"script":c=ul(e)}Qt.has(c)||(e=N({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Qt.set(c,e),l.querySelector(s)!==null||t==="style"&&l.querySelector(ns(c))||t==="script"&&l.querySelector(ls(c))||(t=l.createElement("link"),pt(t,"link",e),ot(t),l.head.appendChild(t)))}}function tv(e,t){Ca.m(e,t);var a=rl;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+kt(l)+'"][href="'+kt(e)+'"]',c=s;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=ul(e)}if(!Qt.has(c)&&(e=N({rel:"modulepreload",href:e},t),Qt.set(c,e),a.querySelector(s)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ls(c)))return}l=a.createElement("link"),pt(l,"link",e),ot(l),a.head.appendChild(l)}}}function av(e,t,a){Ca.S(e,t,a);var l=rl;if(l&&e){var s=Mn(l).hoistableStyles,c=ol(e);t=t||"default";var d=s.get(c);if(!d){var p={loading:0,preload:null};if(d=l.querySelector(ns(c)))p.loading=5;else{e=N({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Qt.get(c))&&Kr(e,a);var w=d=l.createElement("link");ot(w),pt(w,"link",e),w._p=new Promise(function(D,X){w.onload=D,w.onerror=X}),w.addEventListener("load",function(){p.loading|=1}),w.addEventListener("error",function(){p.loading|=2}),p.loading|=4,_i(d,t,l)}d={type:"stylesheet",instance:d,count:1,state:p},s.set(c,d)}}}function nv(e,t){Ca.X(e,t);var a=rl;if(a&&e){var l=Mn(a).hoistableScripts,s=ul(e),c=l.get(s);c||(c=a.querySelector(ls(s)),c||(e=N({src:e,async:!0},t),(t=Qt.get(s))&&Pr(e,t),c=a.createElement("script"),ot(c),pt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},l.set(s,c))}}function lv(e,t){Ca.M(e,t);var a=rl;if(a&&e){var l=Mn(a).hoistableScripts,s=ul(e),c=l.get(s);c||(c=a.querySelector(ls(s)),c||(e=N({src:e,async:!0,type:"module"},t),(t=Qt.get(s))&&Pr(e,t),c=a.createElement("script"),ot(c),pt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},l.set(s,c))}}function gh(e,t,a,l){var s=(s=ge.current)?wi(s):null;if(!s)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ol(a.href),a=Mn(s).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ol(a.href);var c=Mn(s).hoistableStyles,d=c.get(e);if(d||(s=s.ownerDocument||s,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=s.querySelector(ns(e)))&&!c._p&&(d.instance=c,d.state.loading=5),Qt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qt.set(e,a),c||sv(s,e,a,d.state))),t&&l===null)throw Error(o(528,""));return d}if(t&&l!==null)throw Error(o(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ul(a),a=Mn(s).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function ol(e){return'href="'+kt(e)+'"'}function ns(e){return'link[rel="stylesheet"]['+e+"]"}function vh(e){return N({},e,{"data-precedence":e.precedence,precedence:null})}function sv(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),pt(t,"link",a),ot(t),e.head.appendChild(t))}function ul(e){return'[src="'+kt(e)+'"]'}function ls(e){return"script[async]"+e}function yh(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+kt(a.href)+'"]');if(l)return t.instance=l,ot(l),l;var s=N({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ot(l),pt(l,"style",s),_i(l,a.precedence,e),t.instance=l;case"stylesheet":s=ol(a.href);var c=e.querySelector(ns(s));if(c)return t.state.loading|=4,t.instance=c,ot(c),c;l=vh(a),(s=Qt.get(s))&&Kr(l,s),c=(e.ownerDocument||e).createElement("link"),ot(c);var d=c;return d._p=new Promise(function(p,w){d.onload=p,d.onerror=w}),pt(c,"link",l),t.state.loading|=4,_i(c,a.precedence,e),t.instance=c;case"script":return c=ul(a.src),(s=e.querySelector(ls(c)))?(t.instance=s,ot(s),s):(l=a,(s=Qt.get(c))&&(l=N({},a),Pr(l,s)),e=e.ownerDocument||e,s=e.createElement("script"),ot(s),pt(s,"link",l),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,_i(l,a.precedence,e));return t.instance}function _i(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=l.length?l[l.length-1]:null,c=s,d=0;d<l.length;d++){var p=l[d];if(p.dataset.precedence===t)c=p;else if(c!==s)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Kr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Pr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ci=null;function xh(e,t,a){if(Ci===null){var l=new Map,s=Ci=new Map;s.set(a,l)}else s=Ci,l=s.get(a),l||(l=new Map,s.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),s=0;s<a.length;s++){var c=a[s];if(!(c[bl]||c[dt]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var d=c.getAttribute(t)||"";d=e+d;var p=l.get(d);p?p.push(c):l.set(d,[c])}}return l}function bh(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function iv(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function jh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function cv(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var s=ol(l.href),c=t.querySelector(ns(s));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ti.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=c,ot(c);return}c=t.ownerDocument||t,l=vh(l),(s=Qt.get(s))&&Kr(l,s),c=c.createElement("link"),ot(c);var d=c;d._p=new Promise(function(p,w){d.onload=p,d.onerror=w}),pt(c,"link",l),a.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ti.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Wr=0;function rv(e,t){return e.stylesheets&&e.count===0&&Ai(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Ai(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&Wr===0&&(Wr=62500*Gg());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ai(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>Wr?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(s)}}:null}function Ti(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ai(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ei=null;function Ai(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ei=new Map,t.forEach(ov,e),Ei=null,Ti.call(e))}function ov(e,t){if(!(t.state.loading&4)){var a=Ei.get(e);if(a)var l=a.get(null);else{a=new Map,Ei.set(e,a);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<s.length;c++){var d=s[c];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(a.set(d.dataset.precedence,d),l=d)}l&&a.set(null,l)}s=t.instance,d=s.getAttribute("data-precedence"),c=a.get(d)||l,c===l&&a.set(null,s),a.set(d,s),this.count++,l=Ti.bind(this),s.addEventListener("load",l),s.addEventListener("error",l),c?c.parentNode.insertBefore(s,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var ss={$$typeof:U,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function uv(e,t,a,l,s,c,d,p,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fi(0),this.hiddenUpdates=Fi(null),this.identifierPrefix=l,this.onUncaughtError=s,this.onCaughtError=c,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Nh(e,t,a,l,s,c,d,p,w,D,X,K){return e=new uv(e,t,a,d,w,D,X,K,p),t=1,c===!0&&(t|=24),c=At(3,null,null,t),e.current=c,c.stateNode=e,t=Mc(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:l,isDehydrated:a,cache:t},Uc(c),e}function Sh(e){return e?(e=Yn,e):Yn}function wh(e,t,a,l,s,c){s=Sh(s),l.context===null?l.context=s:l.pendingContext=s,l=Ba(t),l.payload={element:a},c=c===void 0?null:c,c!==null&&(l.callback=c),a=qa(e,l,t),a!==null&&(_t(a,e,t),kl(a,e,t))}function _h(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Ir(e,t){_h(e,t),(e=e.alternate)&&_h(e,t)}function Ch(e){if(e.tag===13||e.tag===31){var t=on(e,67108864);t!==null&&_t(t,e,67108864),Ir(e,67108864)}}function Th(e){if(e.tag===13||e.tag===31){var t=Rt();t=$i(t);var a=on(e,t);a!==null&&_t(a,e,t),Ir(e,t)}}var Di=!0;function dv(e,t,a,l){var s=M.T;M.T=null;var c=C.p;try{C.p=2,eo(e,t,a,l)}finally{C.p=c,M.T=s}}function fv(e,t,a,l){var s=M.T;M.T=null;var c=C.p;try{C.p=8,eo(e,t,a,l)}finally{C.p=c,M.T=s}}function eo(e,t,a,l){if(Di){var s=to(l);if(s===null)Hr(e,t,l,Mi,a),Ah(e,l);else if(mv(s,e,t,a,l))l.stopPropagation();else if(Ah(e,l),t&4&&-1<hv.indexOf(e)){for(;s!==null;){var c=Dn(s);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var d=nn(c.pendingLanes);if(d!==0){var p=c;for(p.pendingLanes|=2,p.entangledLanes|=2;d;){var w=1<<31-Tt(d);p.entanglements[1]|=w,d&=~w}ca(c),(Me&6)===0&&(hi=Ue()+500,Il(0))}}break;case 31:case 13:p=on(c,2),p!==null&&_t(p,c,2),pi(),Ir(c,2)}if(c=to(l),c===null&&Hr(e,t,l,Mi,a),c===s)break;s=c}s!==null&&l.stopPropagation()}else Hr(e,t,l,null,a)}}function to(e){return e=nc(e),ao(e)}var Mi=null;function ao(e){if(Mi=null,e=An(e),e!==null){var t=h(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=g(t),e!==null)return e;e=null}else if(a===31){if(e=j(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Mi=e,null}function Eh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xs()){case Uo:return 2;case Lo:return 8;case bs:case Im:return 32;case ko:return 268435456;default:return 32}default:return 32}}var no=!1,Ka=null,Pa=null,Wa=null,is=new Map,cs=new Map,Ia=[],hv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ah(e,t){switch(e){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Wa=null;break;case"pointerover":case"pointerout":is.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cs.delete(t.pointerId)}}function rs(e,t,a,l,s,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:c,targetContainers:[s]},t!==null&&(t=Dn(t),t!==null&&Ch(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function mv(e,t,a,l,s){switch(t){case"focusin":return Ka=rs(Ka,e,t,a,l,s),!0;case"dragenter":return Pa=rs(Pa,e,t,a,l,s),!0;case"mouseover":return Wa=rs(Wa,e,t,a,l,s),!0;case"pointerover":var c=s.pointerId;return is.set(c,rs(is.get(c)||null,e,t,a,l,s)),!0;case"gotpointercapture":return c=s.pointerId,cs.set(c,rs(cs.get(c)||null,e,t,a,l,s)),!0}return!1}function Dh(e){var t=An(e.target);if(t!==null){var a=h(t);if(a!==null){if(t=a.tag,t===13){if(t=g(a),t!==null){e.blockedOn=t,Xo(e.priority,function(){Th(a)});return}}else if(t===31){if(t=j(a),t!==null){e.blockedOn=t,Xo(e.priority,function(){Th(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=to(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);ac=l,a.target.dispatchEvent(l),ac=null}else return t=Dn(a),t!==null&&Ch(t),e.blockedOn=a,!1;t.shift()}return!0}function Mh(e,t,a){zi(e)&&a.delete(t)}function pv(){no=!1,Ka!==null&&zi(Ka)&&(Ka=null),Pa!==null&&zi(Pa)&&(Pa=null),Wa!==null&&zi(Wa)&&(Wa=null),is.forEach(Mh),cs.forEach(Mh)}function Oi(e,t){e.blockedOn===t&&(e.blockedOn=null,no||(no=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,pv)))}var Ri=null;function zh(e){Ri!==e&&(Ri=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ri===e&&(Ri=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],s=e[t+2];if(typeof l!="function"){if(ao(l||a)===null)continue;break}var c=Dn(a);c!==null&&(e.splice(t,3),t-=3,tr(c,{pending:!0,data:s,method:a.method,action:l},l,s))}}))}function dl(e){function t(w){return Oi(w,e)}Ka!==null&&Oi(Ka,e),Pa!==null&&Oi(Pa,e),Wa!==null&&Oi(Wa,e),is.forEach(t),cs.forEach(t);for(var a=0;a<Ia.length;a++){var l=Ia[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ia.length&&(a=Ia[0],a.blockedOn===null);)Dh(a),a.blockedOn===null&&Ia.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var s=a[l],c=a[l+1],d=s[xt]||null;if(typeof c=="function")d||zh(a);else if(d){var p=null;if(c&&c.hasAttribute("formAction")){if(s=c,d=c[xt]||null)p=d.formAction;else if(ao(s)!==null)continue}else p=d.action;typeof p=="function"?a[l+1]=p:(a.splice(l,3),l-=3),zh(a)}}}function Oh(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(d){return s=d})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function lo(e){this._internalRoot=e}Ui.prototype.render=lo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var a=t.current,l=Rt();wh(a,l,e,t,null,null)},Ui.prototype.unmount=lo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wh(e.current,2,null,e,null,null),pi(),t[En]=null}};function Ui(e){this._internalRoot=e}Ui.prototype.unstable_scheduleHydration=function(e){if(e){var t=Go();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ia.length&&t!==0&&t<Ia[a].priority;a++);Ia.splice(a,0,e),a===0&&Dh(e)}};var Rh=r.version;if(Rh!=="19.2.3")throw Error(o(527,Rh,"19.2.3"));C.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=x(t),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var gv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Li=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Li.isDisabled&&Li.supportsFiber)try{vl=Li.inject(gv),Ct=Li}catch{}}return us.createRoot=function(e,t){if(!f(e))throw Error(o(299));var a=!1,l="",s=Hd,c=Yd,d=Gd;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=Nh(e,1,!1,null,null,a,l,null,s,c,d,Oh),e[En]=t.current,qr(e),new lo(t)},us.hydrateRoot=function(e,t,a){if(!f(e))throw Error(o(299));var l=!1,s="",c=Hd,d=Yd,p=Gd,w=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(s=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(d=a.onCaughtError),a.onRecoverableError!==void 0&&(p=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),t=Nh(e,1,!0,t,a??null,l,s,w,c,d,p,Oh),t.context=Sh(null),a=t.current,l=Rt(),l=$i(l),s=Ba(l),s.callback=null,qa(a,s,l),a=l,t.current.lanes=a,xl(t,a),ca(t),e[En]=t.current,qr(e),new Ui(t)},us.version="19.2.3",us}var Vh;function Cv(){if(Vh)return co.exports;Vh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(r){console.error(r)}}return i(),co.exports=_v(),co.exports}var Tv=Cv();var Qh="popstate";function Ev(i={}){function r(o,f){let{pathname:h,search:g,hash:j}=o.location;return No("",{pathname:h,search:g,hash:j},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function u(o,f){return typeof f=="string"?f:ms(f)}return Dv(r,u,null,i)}function Je(i,r){if(i===!1||i===null||typeof i>"u")throw new Error(r)}function Ut(i,r){if(!i){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Av(){return Math.random().toString(36).substring(2,10)}function Zh(i,r){return{usr:i.state,key:i.key,idx:r}}function No(i,r,u=null,o){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof r=="string"?ml(r):r,state:u,key:r&&r.key||o||Av()}}function ms({pathname:i="/",search:r="",hash:u=""}){return r&&r!=="?"&&(i+=r.charAt(0)==="?"?r:"?"+r),u&&u!=="#"&&(i+=u.charAt(0)==="#"?u:"#"+u),i}function ml(i){let r={};if(i){let u=i.indexOf("#");u>=0&&(r.hash=i.substring(u),i=i.substring(0,u));let o=i.indexOf("?");o>=0&&(r.search=i.substring(o),i=i.substring(0,o)),i&&(r.pathname=i)}return r}function Dv(i,r,u,o={}){let{window:f=document.defaultView,v5Compat:h=!1}=o,g=f.history,j="POP",y=null,x=m();x==null&&(x=0,g.replaceState({...g.state,idx:x},""));function m(){return(g.state||{idx:null}).idx}function N(){j="POP";let $=m(),P=$==null?null:$-x;x=$,y&&y({action:j,location:k.location,delta:P})}function z($,P){j="PUSH";let Q=No(k.location,$,P);x=m()+1;let U=Zh(Q,x),E=k.createHref(Q);try{g.pushState(U,"",E)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;f.location.assign(E)}h&&y&&y({action:j,location:k.location,delta:1})}function Y($,P){j="REPLACE";let Q=No(k.location,$,P);x=m();let U=Zh(Q,x),E=k.createHref(Q);g.replaceState(U,"",E),h&&y&&y({action:j,location:k.location,delta:0})}function J($){return Mv($)}let k={get action(){return j},get location(){return i(f,g)},listen($){if(y)throw new Error("A history only accepts one active listener");return f.addEventListener(Qh,N),y=$,()=>{f.removeEventListener(Qh,N),y=null}},createHref($){return r(f,$)},createURL:J,encodeLocation($){let P=J($);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:z,replace:Y,go($){return g.go($)}};return k}function Mv(i,r=!1){let u="http://localhost";typeof window<"u"&&(u=window.location.origin!=="null"?window.location.origin:window.location.href),Je(u,"No window.location.(origin|href) available to create URL");let o=typeof i=="string"?i:ms(i);return o=o.replace(/ $/,"%20"),!r&&o.startsWith("//")&&(o=u+o),new URL(o,u)}function Sm(i,r,u="/"){return zv(i,r,u,!1)}function zv(i,r,u,o){let f=typeof r=="string"?ml(r):r,h=Ea(f.pathname||"/",u);if(h==null)return null;let g=wm(i);Ov(g);let j=null;for(let y=0;j==null&&y<g.length;++y){let x=Vv(h);j=Gv(g[y],x,o)}return j}function wm(i,r=[],u=[],o="",f=!1){let h=(g,j,y=f,x)=>{let m={relativePath:x===void 0?g.path||"":x,caseSensitive:g.caseSensitive===!0,childrenIndex:j,route:g};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(o)&&y)return;Je(m.relativePath.startsWith(o),`Absolute route path "${m.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(o.length)}let N=Ta([o,m.relativePath]),z=u.concat(m);g.children&&g.children.length>0&&(Je(g.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${N}".`),wm(g.children,r,z,N,y)),!(g.path==null&&!g.index)&&r.push({path:N,score:Hv(N,g.index),routesMeta:z})};return i.forEach((g,j)=>{if(g.path===""||!g.path?.includes("?"))h(g,j);else for(let y of _m(g.path))h(g,j,!0,y)}),r}function _m(i){let r=i.split("/");if(r.length===0)return[];let[u,...o]=r,f=u.endsWith("?"),h=u.replace(/\?$/,"");if(o.length===0)return f?[h,""]:[h];let g=_m(o.join("/")),j=[];return j.push(...g.map(y=>y===""?h:[h,y].join("/"))),f&&j.push(...g),j.map(y=>i.startsWith("/")&&y===""?"/":y)}function Ov(i){i.sort((r,u)=>r.score!==u.score?u.score-r.score:Yv(r.routesMeta.map(o=>o.childrenIndex),u.routesMeta.map(o=>o.childrenIndex)))}var Rv=/^:[\w-]+$/,Uv=3,Lv=2,kv=1,Bv=10,qv=-2,Fh=i=>i==="*";function Hv(i,r){let u=i.split("/"),o=u.length;return u.some(Fh)&&(o+=qv),r&&(o+=Lv),u.filter(f=>!Fh(f)).reduce((f,h)=>f+(Rv.test(h)?Uv:h===""?kv:Bv),o)}function Yv(i,r){return i.length===r.length&&i.slice(0,-1).every((o,f)=>o===r[f])?i[i.length-1]-r[r.length-1]:0}function Gv(i,r,u=!1){let{routesMeta:o}=i,f={},h="/",g=[];for(let j=0;j<o.length;++j){let y=o[j],x=j===o.length-1,m=h==="/"?r:r.slice(h.length)||"/",N=Yi({path:y.relativePath,caseSensitive:y.caseSensitive,end:x},m),z=y.route;if(!N&&x&&u&&!o[o.length-1].route.index&&(N=Yi({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},m)),!N)return null;Object.assign(f,N.params),g.push({params:f,pathname:Ta([h,N.pathname]),pathnameBase:Jv(Ta([h,N.pathnameBase])),route:z}),N.pathnameBase!=="/"&&(h=Ta([h,N.pathnameBase]))}return g}function Yi(i,r){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[u,o]=Xv(i.path,i.caseSensitive,i.end),f=r.match(u);if(!f)return null;let h=f[0],g=h.replace(/(.)\/+$/,"$1"),j=f.slice(1);return{params:o.reduce((x,{paramName:m,isOptional:N},z)=>{if(m==="*"){let J=j[z]||"";g=h.slice(0,h.length-J.length).replace(/(.)\/+$/,"$1")}const Y=j[z];return N&&!Y?x[m]=void 0:x[m]=(Y||"").replace(/%2F/g,"/"),x},{}),pathname:h,pathnameBase:g,pattern:i}}function Xv(i,r=!1,u=!0){Ut(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let o=[],f="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,j,y)=>(o.push({paramName:j,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(o.push({paramName:"*"}),f+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):u?f+="\\/*$":i!==""&&i!=="/"&&(f+="(?:(?=\\/|$))"),[new RegExp(f,r?void 0:"i"),o]}function Vv(i){try{return i.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Ut(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),i}}function Ea(i,r){if(r==="/")return i;if(!i.toLowerCase().startsWith(r.toLowerCase()))return null;let u=r.endsWith("/")?r.length-1:r.length,o=i.charAt(u);return o&&o!=="/"?null:i.slice(u)||"/"}var Qv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zv=i=>Qv.test(i);function Fv(i,r="/"){let{pathname:u,search:o="",hash:f=""}=typeof i=="string"?ml(i):i,h;if(u)if(Zv(u))h=u;else{if(u.includes("//")){let g=u;u=u.replace(/\/\/+/g,"/"),Ut(!1,`Pathnames cannot have embedded double slashes - normalizing ${g} -> ${u}`)}u.startsWith("/")?h=$h(u.substring(1),"/"):h=$h(u,r)}else h=r;return{pathname:h,search:Kv(o),hash:Pv(f)}}function $h(i,r){let u=r.replace(/\/+$/,"").split("/");return i.split("/").forEach(f=>{f===".."?u.length>1&&u.pop():f!=="."&&u.push(f)}),u.length>1?u.join("/"):"/"}function fo(i,r,u,o){return`Cannot include a '${i}' character in a manually specified \`to.${r}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${u}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $v(i){return i.filter((r,u)=>u===0||r.route.path&&r.route.path.length>0)}function To(i){let r=$v(i);return r.map((u,o)=>o===r.length-1?u.pathname:u.pathnameBase)}function Eo(i,r,u,o=!1){let f;typeof i=="string"?f=ml(i):(f={...i},Je(!f.pathname||!f.pathname.includes("?"),fo("?","pathname","search",f)),Je(!f.pathname||!f.pathname.includes("#"),fo("#","pathname","hash",f)),Je(!f.search||!f.search.includes("#"),fo("#","search","hash",f)));let h=i===""||f.pathname==="",g=h?"/":f.pathname,j;if(g==null)j=u;else{let N=r.length-1;if(!o&&g.startsWith("..")){let z=g.split("/");for(;z[0]==="..";)z.shift(),N-=1;f.pathname=z.join("/")}j=N>=0?r[N]:"/"}let y=Fv(f,j),x=g&&g!=="/"&&g.endsWith("/"),m=(h||g===".")&&u.endsWith("/");return!y.pathname.endsWith("/")&&(x||m)&&(y.pathname+="/"),y}var Ta=i=>i.join("/").replace(/\/\/+/g,"/"),Jv=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Kv=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Pv=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Wv(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function Iv(i){return i.map(r=>r.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Cm=["POST","PUT","PATCH","DELETE"];new Set(Cm);var ey=["GET",...Cm];new Set(ey);var pl=v.createContext(null);pl.displayName="DataRouter";var Qi=v.createContext(null);Qi.displayName="DataRouterState";v.createContext(!1);var Tm=v.createContext({isTransitioning:!1});Tm.displayName="ViewTransition";var ty=v.createContext(new Map);ty.displayName="Fetchers";var ay=v.createContext(null);ay.displayName="Await";var $t=v.createContext(null);$t.displayName="Navigation";var gs=v.createContext(null);gs.displayName="Location";var Jt=v.createContext({outlet:null,matches:[],isDataRoute:!1});Jt.displayName="Route";var Ao=v.createContext(null);Ao.displayName="RouteError";function ny(i,{relative:r}={}){Je(gl(),"useHref() may be used only in the context of a <Router> component.");let{basename:u,navigator:o}=v.useContext($t),{hash:f,pathname:h,search:g}=vs(i,{relative:r}),j=h;return u!=="/"&&(j=h==="/"?u:Ta([u,h])),o.createHref({pathname:j,search:g,hash:f})}function gl(){return v.useContext(gs)!=null}function na(){return Je(gl(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(gs).location}var Em="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Am(i){v.useContext($t).static||v.useLayoutEffect(i)}function Kt(){let{isDataRoute:i}=v.useContext(Jt);return i?yy():ly()}function ly(){Je(gl(),"useNavigate() may be used only in the context of a <Router> component.");let i=v.useContext(pl),{basename:r,navigator:u}=v.useContext($t),{matches:o}=v.useContext(Jt),{pathname:f}=na(),h=JSON.stringify(To(o)),g=v.useRef(!1);return Am(()=>{g.current=!0}),v.useCallback((y,x={})=>{if(Ut(g.current,Em),!g.current)return;if(typeof y=="number"){u.go(y);return}let m=Eo(y,JSON.parse(h),f,x.relative==="path");i==null&&r!=="/"&&(m.pathname=m.pathname==="/"?r:Ta([r,m.pathname])),(x.replace?u.replace:u.push)(m,x.state,x)},[r,u,h,f,i])}var sy=v.createContext(null);function iy(i){let r=v.useContext(Jt).outlet;return v.useMemo(()=>r&&v.createElement(sy.Provider,{value:i},r),[r,i])}function Dm(){let{matches:i}=v.useContext(Jt),r=i[i.length-1];return r?r.params:{}}function vs(i,{relative:r}={}){let{matches:u}=v.useContext(Jt),{pathname:o}=na(),f=JSON.stringify(To(u));return v.useMemo(()=>Eo(i,JSON.parse(f),o,r==="path"),[i,f,o,r])}function cy(i,r){return Mm(i,r)}function Mm(i,r,u,o,f){Je(gl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=v.useContext($t),{matches:g}=v.useContext(Jt),j=g[g.length-1],y=j?j.params:{},x=j?j.pathname:"/",m=j?j.pathnameBase:"/",N=j&&j.route;{let Q=N&&N.path||"";zm(x,!N||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let z=na(),Y;if(r){let Q=typeof r=="string"?ml(r):r;Je(m==="/"||Q.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),Y=Q}else Y=z;let J=Y.pathname||"/",k=J;if(m!=="/"){let Q=m.replace(/^\//,"").split("/");k="/"+J.replace(/^\//,"").split("/").slice(Q.length).join("/")}let $=Sm(i,{pathname:k});Ut(N||$!=null,`No routes matched location "${Y.pathname}${Y.search}${Y.hash}" `),Ut($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${Y.pathname}${Y.search}${Y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=fy($&&$.map(Q=>Object.assign({},Q,{params:Object.assign({},y,Q.params),pathname:Ta([m,h.encodeLocation?h.encodeLocation(Q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?m:Ta([m,h.encodeLocation?h.encodeLocation(Q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathnameBase])})),g,u,o,f);return r&&P?v.createElement(gs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...Y},navigationType:"POP"}},P):P}function ry(){let i=vy(),r=Wv(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),u=i instanceof Error?i.stack:null,o="rgba(200,200,200, 0.5)",f={padding:"0.5rem",backgroundColor:o},h={padding:"2px 4px",backgroundColor:o},g=null;return console.error("Error handled by React Router default ErrorBoundary:",i),g=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:h},"ErrorBoundary")," or"," ",v.createElement("code",{style:h},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},r),u?v.createElement("pre",{style:f},u):null,g)}var oy=v.createElement(ry,null),uy=class extends v.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,r){return r.location!==i.location||r.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:r.error,location:r.location,revalidation:i.revalidation||r.revalidation}}componentDidCatch(i,r){this.props.onError?this.props.onError(i,r):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?v.createElement(Jt.Provider,{value:this.props.routeContext},v.createElement(Ao.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dy({routeContext:i,match:r,children:u}){let o=v.useContext(pl);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(Jt.Provider,{value:i},u)}function fy(i,r=[],u=null,o=null,f=null){if(i==null){if(!u)return null;if(u.errors)i=u.matches;else if(r.length===0&&!u.initialized&&u.matches.length>0)i=u.matches;else return null}let h=i,g=u?.errors;if(g!=null){let m=h.findIndex(N=>N.route.id&&g?.[N.route.id]!==void 0);Je(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(g).join(",")}`),h=h.slice(0,Math.min(h.length,m+1))}let j=!1,y=-1;if(u)for(let m=0;m<h.length;m++){let N=h[m];if((N.route.HydrateFallback||N.route.hydrateFallbackElement)&&(y=m),N.route.id){let{loaderData:z,errors:Y}=u,J=N.route.loader&&!z.hasOwnProperty(N.route.id)&&(!Y||Y[N.route.id]===void 0);if(N.route.lazy||J){j=!0,y>=0?h=h.slice(0,y+1):h=[h[0]];break}}}let x=u&&o?(m,N)=>{o(m,{location:u.location,params:u.matches?.[0]?.params??{},unstable_pattern:Iv(u.matches),errorInfo:N})}:void 0;return h.reduceRight((m,N,z)=>{let Y,J=!1,k=null,$=null;u&&(Y=g&&N.route.id?g[N.route.id]:void 0,k=N.route.errorElement||oy,j&&(y<0&&z===0?(zm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),J=!0,$=null):y===z&&(J=!0,$=N.route.hydrateFallbackElement||null)));let P=r.concat(h.slice(0,z+1)),Q=()=>{let U;return Y?U=k:J?U=$:N.route.Component?U=v.createElement(N.route.Component,null):N.route.element?U=N.route.element:U=m,v.createElement(dy,{match:N,routeContext:{outlet:m,matches:P,isDataRoute:u!=null},children:U})};return u&&(N.route.ErrorBoundary||N.route.errorElement||z===0)?v.createElement(uy,{location:u.location,revalidation:u.revalidation,component:k,error:Y,children:Q(),routeContext:{outlet:null,matches:P,isDataRoute:!0},onError:x}):Q()},null)}function Do(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hy(i){let r=v.useContext(pl);return Je(r,Do(i)),r}function my(i){let r=v.useContext(Qi);return Je(r,Do(i)),r}function py(i){let r=v.useContext(Jt);return Je(r,Do(i)),r}function Mo(i){let r=py(i),u=r.matches[r.matches.length-1];return Je(u.route.id,`${i} can only be used on routes that contain a unique "id"`),u.route.id}function gy(){return Mo("useRouteId")}function vy(){let i=v.useContext(Ao),r=my("useRouteError"),u=Mo("useRouteError");return i!==void 0?i:r.errors?.[u]}function yy(){let{router:i}=hy("useNavigate"),r=Mo("useNavigate"),u=v.useRef(!1);return Am(()=>{u.current=!0}),v.useCallback(async(f,h={})=>{Ut(u.current,Em),u.current&&(typeof f=="number"?await i.navigate(f):await i.navigate(f,{fromRouteId:r,...h}))},[i,r])}var Jh={};function zm(i,r,u){!r&&!Jh[i]&&(Jh[i]=!0,Ut(!1,u))}v.memo(xy);function xy({routes:i,future:r,state:u,unstable_onError:o}){return Mm(i,void 0,u,o,r)}function Cn({to:i,replace:r,state:u,relative:o}){Je(gl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:f}=v.useContext($t);Ut(!f,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=v.useContext(Jt),{pathname:g}=na(),j=Kt(),y=Eo(i,To(h),g,o==="path"),x=JSON.stringify(y);return v.useEffect(()=>{j(JSON.parse(x),{replace:r,state:u,relative:o})},[j,x,o,r,u]),null}function by(i){return iy(i.context)}function Pe(i){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jy({basename:i="/",children:r=null,location:u,navigationType:o="POP",navigator:f,static:h=!1,unstable_useTransitions:g}){Je(!gl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let j=i.replace(/^\/*/,"/"),y=v.useMemo(()=>({basename:j,navigator:f,static:h,unstable_useTransitions:g,future:{}}),[j,f,h,g]);typeof u=="string"&&(u=ml(u));let{pathname:x="/",search:m="",hash:N="",state:z=null,key:Y="default"}=u,J=v.useMemo(()=>{let k=Ea(x,j);return k==null?null:{location:{pathname:k,search:m,hash:N,state:z,key:Y},navigationType:o}},[j,x,m,N,z,Y,o]);return Ut(J!=null,`<Router basename="${j}"> is not able to match the URL "${x}${m}${N}" because it does not start with the basename, so the <Router> won't render anything.`),J==null?null:v.createElement($t.Provider,{value:y},v.createElement(gs.Provider,{children:r,value:J}))}function Ny({children:i,location:r}){return cy(So(i),r)}function So(i,r=[]){let u=[];return v.Children.forEach(i,(o,f)=>{if(!v.isValidElement(o))return;let h=[...r,f];if(o.type===v.Fragment){u.push.apply(u,So(o.props.children,h));return}Je(o.type===Pe,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!o.props.index||!o.props.children,"An index route cannot have child routes.");let g={id:o.props.id||h.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(g.children=So(o.props.children,h)),u.push(g)}),u}var Bi="get",qi="application/x-www-form-urlencoded";function Zi(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function Sy(i){return Zi(i)&&i.tagName.toLowerCase()==="button"}function wy(i){return Zi(i)&&i.tagName.toLowerCase()==="form"}function _y(i){return Zi(i)&&i.tagName.toLowerCase()==="input"}function Cy(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Ty(i,r){return i.button===0&&(!r||r==="_self")&&!Cy(i)}function wo(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((r,u)=>{let o=i[u];return r.concat(Array.isArray(o)?o.map(f=>[u,f]):[[u,o]])},[]))}function Ey(i,r){let u=wo(i);return r&&r.forEach((o,f)=>{u.has(f)||r.getAll(f).forEach(h=>{u.append(f,h)})}),u}var ki=null;function Ay(){if(ki===null)try{new FormData(document.createElement("form"),0),ki=!1}catch{ki=!0}return ki}var Dy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ho(i){return i!=null&&!Dy.has(i)?(Ut(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qi}"`),null):i}function My(i,r){let u,o,f,h,g;if(wy(i)){let j=i.getAttribute("action");o=j?Ea(j,r):null,u=i.getAttribute("method")||Bi,f=ho(i.getAttribute("enctype"))||qi,h=new FormData(i)}else if(Sy(i)||_y(i)&&(i.type==="submit"||i.type==="image")){let j=i.form;if(j==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=i.getAttribute("formaction")||j.getAttribute("action");if(o=y?Ea(y,r):null,u=i.getAttribute("formmethod")||j.getAttribute("method")||Bi,f=ho(i.getAttribute("formenctype"))||ho(j.getAttribute("enctype"))||qi,h=new FormData(j,i),!Ay()){let{name:x,type:m,value:N}=i;if(m==="image"){let z=x?`${x}.`:"";h.append(`${z}x`,"0"),h.append(`${z}y`,"0")}else x&&h.append(x,N)}}else{if(Zi(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');u=Bi,o=null,f=qi,g=i}return h&&f==="text/plain"&&(g=h,h=void 0),{action:o,method:u.toLowerCase(),encType:f,formData:h,body:g}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zo(i,r){if(i===!1||i===null||typeof i>"u")throw new Error(r)}function zy(i,r,u){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return o.pathname==="/"?o.pathname=`_root.${u}`:r&&Ea(o.pathname,r)==="/"?o.pathname=`${r.replace(/\/$/,"")}/_root.${u}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${u}`,o}async function Oy(i,r){if(i.id in r)return r[i.id];try{let u=await import(i.module);return r[i.id]=u,u}catch(u){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(u),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ry(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Uy(i,r,u){let o=await Promise.all(i.map(async f=>{let h=r.routes[f.route.id];if(h){let g=await Oy(h,u);return g.links?g.links():[]}return[]}));return qy(o.flat(1).filter(Ry).filter(f=>f.rel==="stylesheet"||f.rel==="preload").map(f=>f.rel==="stylesheet"?{...f,rel:"prefetch",as:"style"}:{...f,rel:"prefetch"}))}function Kh(i,r,u,o,f,h){let g=(y,x)=>u[x]?y.route.id!==u[x].route.id:!0,j=(y,x)=>u[x].pathname!==y.pathname||u[x].route.path?.endsWith("*")&&u[x].params["*"]!==y.params["*"];return h==="assets"?r.filter((y,x)=>g(y,x)||j(y,x)):h==="data"?r.filter((y,x)=>{let m=o.routes[y.route.id];if(!m||!m.hasLoader)return!1;if(g(y,x)||j(y,x))return!0;if(y.route.shouldRevalidate){let N=y.route.shouldRevalidate({currentUrl:new URL(f.pathname+f.search+f.hash,window.origin),currentParams:u[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof N=="boolean")return N}return!0}):[]}function Ly(i,r,{includeHydrateFallback:u}={}){return ky(i.map(o=>{let f=r.routes[o.route.id];if(!f)return[];let h=[f.module];return f.clientActionModule&&(h=h.concat(f.clientActionModule)),f.clientLoaderModule&&(h=h.concat(f.clientLoaderModule)),u&&f.hydrateFallbackModule&&(h=h.concat(f.hydrateFallbackModule)),f.imports&&(h=h.concat(f.imports)),h}).flat(1))}function ky(i){return[...new Set(i)]}function By(i){let r={},u=Object.keys(i).sort();for(let o of u)r[o]=i[o];return r}function qy(i,r){let u=new Set;return new Set(r),i.reduce((o,f)=>{let h=JSON.stringify(By(f));return u.has(h)||(u.add(h),o.push({key:h,link:f})),o},[])}function Om(){let i=v.useContext(pl);return zo(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Hy(){let i=v.useContext(Qi);return zo(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Oo=v.createContext(void 0);Oo.displayName="FrameworkContext";function Rm(){let i=v.useContext(Oo);return zo(i,"You must render this element inside a <HydratedRouter> element"),i}function Yy(i,r){let u=v.useContext(Oo),[o,f]=v.useState(!1),[h,g]=v.useState(!1),{onFocus:j,onBlur:y,onMouseEnter:x,onMouseLeave:m,onTouchStart:N}=r,z=v.useRef(null);v.useEffect(()=>{if(i==="render"&&g(!0),i==="viewport"){let k=P=>{P.forEach(Q=>{g(Q.isIntersecting)})},$=new IntersectionObserver(k,{threshold:.5});return z.current&&$.observe(z.current),()=>{$.disconnect()}}},[i]),v.useEffect(()=>{if(o){let k=setTimeout(()=>{g(!0)},100);return()=>{clearTimeout(k)}}},[o]);let Y=()=>{f(!0)},J=()=>{f(!1),g(!1)};return u?i!=="intent"?[h,z,{}]:[h,z,{onFocus:ds(j,Y),onBlur:ds(y,J),onMouseEnter:ds(x,Y),onMouseLeave:ds(m,J),onTouchStart:ds(N,Y)}]:[!1,z,{}]}function ds(i,r){return u=>{i&&i(u),u.defaultPrevented||r(u)}}function Gy({page:i,...r}){let{router:u}=Om(),o=v.useMemo(()=>Sm(u.routes,i,u.basename),[u.routes,i,u.basename]);return o?v.createElement(Vy,{page:i,matches:o,...r}):null}function Xy(i){let{manifest:r,routeModules:u}=Rm(),[o,f]=v.useState([]);return v.useEffect(()=>{let h=!1;return Uy(i,r,u).then(g=>{h||f(g)}),()=>{h=!0}},[i,r,u]),o}function Vy({page:i,matches:r,...u}){let o=na(),{manifest:f,routeModules:h}=Rm(),{basename:g}=Om(),{loaderData:j,matches:y}=Hy(),x=v.useMemo(()=>Kh(i,r,y,f,o,"data"),[i,r,y,f,o]),m=v.useMemo(()=>Kh(i,r,y,f,o,"assets"),[i,r,y,f,o]),N=v.useMemo(()=>{if(i===o.pathname+o.search+o.hash)return[];let J=new Set,k=!1;if(r.forEach(P=>{let Q=f.routes[P.route.id];!Q||!Q.hasLoader||(!x.some(U=>U.route.id===P.route.id)&&P.route.id in j&&h[P.route.id]?.shouldRevalidate||Q.hasClientLoader?k=!0:J.add(P.route.id))}),J.size===0)return[];let $=zy(i,g,"data");return k&&J.size>0&&$.searchParams.set("_routes",r.filter(P=>J.has(P.route.id)).map(P=>P.route.id).join(",")),[$.pathname+$.search]},[g,j,o,f,x,r,i,h]),z=v.useMemo(()=>Ly(m,f),[m,f]),Y=Xy(m);return v.createElement(v.Fragment,null,N.map(J=>v.createElement("link",{key:J,rel:"prefetch",as:"fetch",href:J,...u})),z.map(J=>v.createElement("link",{key:J,rel:"modulepreload",href:J,...u})),Y.map(({key:J,link:k})=>v.createElement("link",{key:J,nonce:u.nonce,...k})))}function Qy(...i){return r=>{i.forEach(u=>{typeof u=="function"?u(r):u!=null&&(u.current=r)})}}var Um=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Um&&(window.__reactRouterVersion="7.10.1")}catch{}function Zy({basename:i,children:r,unstable_useTransitions:u,window:o}){let f=v.useRef();f.current==null&&(f.current=Ev({window:o,v5Compat:!0}));let h=f.current,[g,j]=v.useState({action:h.action,location:h.location}),y=v.useCallback(x=>{u===!1?j(x):v.startTransition(()=>j(x))},[u]);return v.useLayoutEffect(()=>h.listen(y),[h,y]),v.createElement(jy,{basename:i,children:r,location:g.location,navigationType:g.action,navigator:h,unstable_useTransitions:u===!0})}var Lm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,km=v.forwardRef(function({onClick:r,discover:u="render",prefetch:o="none",relative:f,reloadDocument:h,replace:g,state:j,target:y,to:x,preventScrollReset:m,viewTransition:N,...z},Y){let{basename:J,unstable_useTransitions:k}=v.useContext($t),$=typeof x=="string"&&Lm.test(x),P,Q=!1;if(typeof x=="string"&&$&&(P=x,Um))try{let te=new URL(window.location.href),re=x.startsWith("//")?new URL(te.protocol+x):new URL(x),W=Ea(re.pathname,J);re.origin===te.origin&&W!=null?x=W+re.search+re.hash:Q=!0}catch{Ut(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=ny(x,{relative:f}),[E,le,ne]=Yy(o,z),Z=Jy(x,{replace:g,state:j,target:y,preventScrollReset:m,relative:f,viewTransition:N,unstable_useTransitions:k});function G(te){r&&r(te),te.defaultPrevented||Z(te)}let R=v.createElement("a",{...z,...ne,href:P||U,onClick:Q||h?r:G,ref:Qy(Y,le),target:y,"data-discover":!$&&u==="render"?"true":void 0});return E&&!$?v.createElement(v.Fragment,null,R,v.createElement(Gy,{page:U})):R});km.displayName="Link";var Zt=v.forwardRef(function({"aria-current":r="page",caseSensitive:u=!1,className:o="",end:f=!1,style:h,to:g,viewTransition:j,children:y,...x},m){let N=vs(g,{relative:x.relative}),z=na(),Y=v.useContext(Qi),{navigator:J,basename:k}=v.useContext($t),$=Y!=null&&ex(N)&&j===!0,P=J.encodeLocation?J.encodeLocation(N).pathname:N.pathname,Q=z.pathname,U=Y&&Y.navigation&&Y.navigation.location?Y.navigation.location.pathname:null;u||(Q=Q.toLowerCase(),U=U?U.toLowerCase():null,P=P.toLowerCase()),U&&k&&(U=Ea(U,k)||U);const E=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let le=Q===P||!f&&Q.startsWith(P)&&Q.charAt(E)==="/",ne=U!=null&&(U===P||!f&&U.startsWith(P)&&U.charAt(P.length)==="/"),Z={isActive:le,isPending:ne,isTransitioning:$},G=le?r:void 0,R;typeof o=="function"?R=o(Z):R=[o,le?"active":null,ne?"pending":null,$?"transitioning":null].filter(Boolean).join(" ");let te=typeof h=="function"?h(Z):h;return v.createElement(km,{...x,"aria-current":G,className:R,ref:m,style:te,to:g,viewTransition:j},typeof y=="function"?y(Z):y)});Zt.displayName="NavLink";var Fy=v.forwardRef(({discover:i="render",fetcherKey:r,navigate:u,reloadDocument:o,replace:f,state:h,method:g=Bi,action:j,onSubmit:y,relative:x,preventScrollReset:m,viewTransition:N,...z},Y)=>{let{unstable_useTransitions:J}=v.useContext($t),k=Wy(),$=Iy(j,{relative:x}),P=g.toLowerCase()==="get"?"get":"post",Q=typeof j=="string"&&Lm.test(j),U=E=>{if(y&&y(E),E.defaultPrevented)return;E.preventDefault();let le=E.nativeEvent.submitter,ne=le?.getAttribute("formmethod")||g,Z=()=>k(le||E.currentTarget,{fetcherKey:r,method:ne,navigate:u,replace:f,state:h,relative:x,preventScrollReset:m,viewTransition:N});J&&u!==!1?v.startTransition(()=>Z()):Z()};return v.createElement("form",{ref:Y,method:P,action:$,onSubmit:o?y:U,...z,"data-discover":!Q&&i==="render"?"true":void 0})});Fy.displayName="Form";function $y(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bm(i){let r=v.useContext(pl);return Je(r,$y(i)),r}function Jy(i,{target:r,replace:u,state:o,preventScrollReset:f,relative:h,viewTransition:g,unstable_useTransitions:j}={}){let y=Kt(),x=na(),m=vs(i,{relative:h});return v.useCallback(N=>{if(Ty(N,r)){N.preventDefault();let z=u!==void 0?u:ms(x)===ms(m),Y=()=>y(i,{replace:z,state:o,preventScrollReset:f,relative:h,viewTransition:g});j?v.startTransition(()=>Y()):Y()}},[x,y,m,u,o,r,i,f,h,g,j])}function qm(i){Ut(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let r=v.useRef(wo(i)),u=v.useRef(!1),o=na(),f=v.useMemo(()=>Ey(o.search,u.current?null:r.current),[o.search]),h=Kt(),g=v.useCallback((j,y)=>{const x=wo(typeof j=="function"?j(new URLSearchParams(f)):j);u.current=!0,h("?"+x,y)},[h,f]);return[f,g]}var Ky=0,Py=()=>`__${String(++Ky)}__`;function Wy(){let{router:i}=Bm("useSubmit"),{basename:r}=v.useContext($t),u=gy(),o=i.fetch,f=i.navigate;return v.useCallback(async(h,g={})=>{let{action:j,method:y,encType:x,formData:m,body:N}=My(h,r);if(g.navigate===!1){let z=g.fetcherKey||Py();await o(z,u,g.action||j,{preventScrollReset:g.preventScrollReset,formData:m,body:N,formMethod:g.method||y,formEncType:g.encType||x,flushSync:g.flushSync})}else await f(g.action||j,{preventScrollReset:g.preventScrollReset,formData:m,body:N,formMethod:g.method||y,formEncType:g.encType||x,replace:g.replace,state:g.state,fromRouteId:u,flushSync:g.flushSync,viewTransition:g.viewTransition})},[o,f,r,u])}function Iy(i,{relative:r}={}){let{basename:u}=v.useContext($t),o=v.useContext(Jt);Je(o,"useFormAction must be used inside a RouteContext");let[f]=o.matches.slice(-1),h={...vs(i||".",{relative:r})},g=na();if(i==null){h.search=g.search;let j=new URLSearchParams(h.search),y=j.getAll("index");if(y.some(m=>m==="")){j.delete("index"),y.filter(N=>N).forEach(N=>j.append("index",N));let m=j.toString();h.search=m?`?${m}`:""}}return(!i||i===".")&&f.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),u!=="/"&&(h.pathname=h.pathname==="/"?u:Ta([u,h.pathname])),ms(h)}function ex(i,{relative:r}={}){let u=v.useContext(Tm);Je(u!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Bm("useViewTransitionState"),f=vs(i,{relative:r});if(!u.isTransitioning)return!1;let h=Ea(u.currentLocation.pathname,o)||u.currentLocation.pathname,g=Ea(u.nextLocation.pathname,o)||u.nextLocation.pathname;return Yi(f.pathname,g)!=null||Yi(f.pathname,h)!=null}const Nn="/api/v1";class tx{constructor(){this.token=localStorage.getItem("token")}setToken(r){this.token=r,r?localStorage.setItem("token",r):localStorage.removeItem("token")}async request(r,u={}){const o={"Content-Type":"application/json",...u.headers};this.token&&(o.Authorization=`Bearer ${this.token}`);const f=this.getSelectedTenant();this.getUserInfo()?.is_global_admin&&f&&(o["X-Tenant-Id"]=f.toString());const g=await fetch(`${Nn}${r}`,{...u,headers:o});if(g.status===401)throw this.setToken(null),localStorage.removeItem("userInfo"),localStorage.removeItem("selectedTenantId"),window.location.href="/login",new Error("Unauthorized");if(!g.ok){const j=await g.json().catch(()=>({detail:"Request failed"}));throw new Error(j.detail||"Request failed")}return g.json()}async requestFormData(r,u,o={}){const f={...o.headers};this.token&&(f.Authorization=`Bearer ${this.token}`);const h=this.getSelectedTenant();this.getUserInfo()?.is_global_admin&&h&&(f["X-Tenant-Id"]=h.toString());const j=await fetch(`${Nn}${r}`,{method:o.method||"POST",body:u,headers:f});if(j.status===401)throw this.setToken(null),localStorage.removeItem("userInfo"),localStorage.removeItem("selectedTenantId"),window.location.href="/login",new Error("Unauthorized");if(!j.ok){const y=await j.json().catch(()=>({detail:"Request failed"}));throw new Error(y.detail||"Request failed")}return j.json()}async login(r,u){const o=await this.request("/auth/login",{method:"POST",body:JSON.stringify({email:r,password:u})});return o.access_token&&(this.setToken(o.access_token),localStorage.setItem("userInfo",JSON.stringify({tenant_id:o.tenant_id,role:o.role,email:o.email,is_global_admin:o.is_global_admin}))),o}logout(){this.setToken(null),localStorage.removeItem("userInfo"),localStorage.removeItem("selectedTenantId")}async getMe(){return this.request("/auth/me")}setSelectedTenant(r){r?localStorage.setItem("selectedTenantId",r.toString()):localStorage.removeItem("selectedTenantId")}getSelectedTenant(){const r=localStorage.getItem("selectedTenantId");return r?parseInt(r,10):null}getUserInfo(){const r=localStorage.getItem("userInfo");return r?JSON.parse(r):null}async getTenants(){return this.request("/admin/tenants")}async createTenant(r){return this.request("/admin/tenants",{method:"POST",body:JSON.stringify(r)})}async updateTenant(r,u){return this.request(`/admin/tenants/${r}`,{method:"PUT",body:JSON.stringify(u)})}async getLeads(r={}){const u=new URLSearchParams(r).toString();return this.request(`/leads${u?`?${u}`:""}`)}async getLead(r){return this.request(`/leads/${r}`)}async getLeadConversation(r){return this.request(`/leads/${r}/conversation`)}async getLeadsStats(){return this.request("/leads/stats")}async updateLeadStatus(r,u){return this.request(`/leads/${r}/status`,{method:"PUT",body:JSON.stringify({status:u})})}async deleteLead(r){const u={"Content-Type":"application/json"};this.token&&(u.Authorization=`Bearer ${this.token}`);const o=this.getSelectedTenant();this.getUserInfo()?.is_global_admin&&o&&(u["X-Tenant-Id"]=o.toString());const h=await fetch(`${Nn}/leads/${r}`,{method:"DELETE",headers:u});if(h.status===401)throw this.setToken(null),localStorage.removeItem("userInfo"),localStorage.removeItem("selectedTenantId"),window.location.href="/login",new Error("Unauthorized");if(h.status===204)return!0;if(!h.ok){let g=`Delete failed (${h.status})`;try{const j=await h.json();g=j.detail||j.message||g}catch{try{const y=await h.text();y&&(g=y)}catch{}}throw new Error(g)}return!0}async triggerFollowUp(r){return this.request(`/leads/${r}/trigger-followup`,{method:"POST"})}async getPromptBundles(){return this.request("/prompts/bundles")}async getPromptBundle(r){return this.request(`/prompts/bundles/${r}`)}async createPromptBundle(r){return this.request("/prompts/bundles",{method:"POST",body:JSON.stringify(r)})}async updatePromptBundle(r,u){return this.request(`/prompts/bundles/${r}`,{method:"PUT",body:JSON.stringify(u)})}async publishPromptBundle(r){return this.request(`/prompts/bundles/${r}/publish`,{method:"PUT"})}async deactivatePromptBundle(r){return this.request(`/prompts/bundles/${r}/deactivate`,{method:"PUT"})}async deletePromptBundle(r){const u={"Content-Type":"application/json"};this.token&&(u.Authorization=`Bearer ${this.token}`);const o=this.getSelectedTenant();this.getUserInfo()?.is_global_admin&&o&&(u["X-Tenant-Id"]=o.toString());const h=await fetch(`${Nn}/prompts/bundles/${r}`,{method:"DELETE",headers:u});if(h.status===401)throw this.setToken(null),localStorage.removeItem("userInfo"),localStorage.removeItem("selectedTenantId"),window.location.href="/login",new Error("Unauthorized");if(!h.ok){const g=await h.json().catch(()=>({detail:"Delete failed"}));throw new Error(g.detail||"Delete failed")}return!0}async testPrompt(r,u,o=[]){return this.request("/prompts/test",{method:"POST",body:JSON.stringify({bundle_id:r,message:u,history:o})})}async getComposedPrompt(r=!1){return this.request(`/prompts/compose${r?"?use_draft=true":""}`)}async getContacts(r={}){const u=new URLSearchParams(r).toString();return this.request(`/contacts${u?`?${u}`:""}`)}async getContact(r,u=!1){const o=u?"?include_aliases=true":"";return this.request(`/contacts/${r}${o}`)}async updateContact(r,u){return this.request(`/contacts/${r}`,{method:"PUT",body:JSON.stringify(u)})}async deleteContact(r){const u={"Content-Type":"application/json"};this.token&&(u.Authorization=`Bearer ${this.token}`);const o=this.getSelectedTenant();this.getUserInfo()?.is_global_admin&&o&&(u["X-Tenant-Id"]=o.toString());const h=await fetch(`${Nn}/contacts/${r}`,{method:"DELETE",headers:u});if(h.status===401)throw this.setToken(null),localStorage.removeItem("userInfo"),localStorage.removeItem("selectedTenantId"),window.location.href="/login",new Error("Unauthorized");if(h.status===204)return!0;if(!h.ok){const g=await h.json().catch(()=>({detail:"Delete failed"}));throw new Error(g.detail||"Delete failed")}return!0}async getContactConversation(r){return this.request(`/contacts/${r}/conversation`)}async getMergePreview(r){return this.request("/contacts/merge-preview",{method:"POST",body:JSON.stringify(r)})}async mergeContacts(r,u,o={}){return this.request(`/contacts/${r}/merge`,{method:"POST",body:JSON.stringify({secondary_contact_ids:u,field_resolutions:o})})}async getMergeHistory(r){return this.request(`/contacts/${r}/merge-history`)}async getContactAliases(r,u=null){const o=u?`?alias_type=${u}`:"";return this.request(`/contacts/${r}/aliases${o}`)}async addContactAlias(r,u){return this.request(`/contacts/${r}/aliases`,{method:"POST",body:JSON.stringify(u)})}async setPrimaryAlias(r,u){return this.request(`/contacts/${r}/aliases/${u}/primary`,{method:"PUT"})}async removeContactAlias(r,u){const o={"Content-Type":"application/json"};this.token&&(o.Authorization=`Bearer ${this.token}`);const f=this.getSelectedTenant();this.getUserInfo()?.is_global_admin&&f&&(o["X-Tenant-Id"]=f.toString());const g=await fetch(`${Nn}/contacts/${r}/aliases/${u}`,{method:"DELETE",headers:o});if(g.status===401)throw this.setToken(null),localStorage.removeItem("userInfo"),localStorage.removeItem("selectedTenantId"),window.location.href="/login",new Error("Unauthorized");if(g.status===204)return!0;if(!g.ok){const j=await g.json().catch(()=>({detail:"Delete failed"}));throw new Error(j.detail||"Delete failed")}return!0}async getBusinessProfile(){return this.request("/tenant/profile")}async updateBusinessProfile(r){return this.request("/tenant/profile",{method:"PUT",body:JSON.stringify(r)})}async getEmbedCode(){return this.request("/tenants/me/embed-code")}async startPromptInterview(){return this.request("/prompts/interview/start")}async submitInterviewAnswer(r){return this.request("/prompts/interview/answer",{method:"POST",body:JSON.stringify(r)})}async generatePromptFromInterview(r){return this.request("/prompts/interview/generate",{method:"POST",body:JSON.stringify(r)})}async getCalls(r={}){const u=new URLSearchParams(r).toString();return this.request(`/calls${u?`?${u}`:""}`)}async getCall(r){return this.request(`/calls/${r}`)}async getCallsForContact(r,u={}){const o=new URLSearchParams(u).toString();return this.request(`/calls/by-contact/${r}${o?`?${o}`:""}`)}async getCallsForPhone(r,u={}){const o=new URLSearchParams(u).toString();return this.request(`/calls/by-phone/${encodeURIComponent(r)}${o?`?${o}`:""}`)}async getEmailSettings(){return this.request("/email/settings")}async updateEmailSettings(r){return this.request("/email/settings",{method:"PUT",body:JSON.stringify(r)})}async startEmailOAuth(){return this.request("/email/oauth/start",{method:"POST"})}async disconnectEmail(){const r={"Content-Type":"application/json"};this.token&&(r.Authorization=`Bearer ${this.token}`);const u=this.getSelectedTenant();this.getUserInfo()?.is_global_admin&&u&&(r["X-Tenant-Id"]=u.toString());const f=await fetch(`${Nn}/email/disconnect`,{method:"DELETE",headers:r});if(!f.ok){const h=await f.json().catch(()=>({detail:"Disconnect failed"}));throw new Error(h.detail||"Disconnect failed")}return f.json()}async refreshEmailWatch(){return this.request("/email/refresh-watch",{method:"POST"})}async getEmailConversations(r={}){const u=new URLSearchParams(r).toString();return this.request(`/email/conversations${u?`?${u}`:""}`)}async getEmailConversationsForContact(r,u={}){const o=new URLSearchParams({...u,contact_id:r}).toString();return this.request(`/email/conversations${o?`?${o}`:""}`)}async getWidgetSettings(){return this.request("/widget/settings")}async updateWidgetSettings(r){return this.request("/widget/settings",{method:"PUT",body:JSON.stringify(r)})}async uploadWidgetIcon(r){const u=new FormData;return u.append("file",r),this.requestFormData("/widget/icon/upload",u)}async getTelephonyConfig(){return this.request("/admin/telephony/config")}async updateTelephonyConfig(r){return this.request("/admin/telephony/config",{method:"POST",body:JSON.stringify(r)})}async validateTelephonyCredentials(r){return this.request("/admin/telephony/validate-credentials",{method:"POST",body:JSON.stringify(r)})}async getConfigHistory(r=10){return this.request(`/config/history?limit=${r}`)}async getConfigSnapshot(r){return this.request(`/config/history/${r}`)}async getConfigSnapshotByVersionId(r){return this.request(`/config/history/by-version/${r}`)}async getConfigDiff(r,u=null){const o=u?`?compare_to=${u}`:"";return this.request(`/config/history/${r}/diff${o}`)}async rollbackToSnapshot(r){return this.request(`/config/history/${r}/rollback`,{method:"POST"})}}const ie=new tx,Hm=v.createContext(null);function ax({children:i}){const[r,u]=v.useState(null),[o,f]=v.useState(localStorage.getItem("token")),[h,g]=v.useState(!0),[j,y]=v.useState(!1),[x,m]=v.useState(null),[N,z]=v.useState([]),[Y,J]=v.useState(null),k=async()=>{try{y(!0);const ne=await ie.getBusinessProfile();m(ne.profile_complete)}catch(ne){console.error("Failed to load profile:",ne),m(!1)}finally{y(!1)}};v.useEffect(()=>{(async()=>{const Z=localStorage.getItem("token");if(Z)try{ie.setToken(Z);const G=await ie.getMe(),R={authenticated:!0,id:G.id,email:G.email,role:G.role,tenant_id:G.tenant_id,is_global_admin:G.is_global_admin};if(localStorage.setItem("userInfo",JSON.stringify({email:G.email,role:G.role,tenant_id:G.tenant_id,is_global_admin:G.is_global_admin})),u(R),G.is_global_admin){const te=ie.getSelectedTenant();J(te);try{const re=await ie.getTenants();z(re)}catch(re){console.error("Failed to fetch tenants:",re)}m(!0)}else await k()}catch(G){console.error("Failed to verify token:",G),u(null),z([]),J(null),m(null)}g(!1)})()},[]);const $=async(ne,Z)=>{const G=await ie.login(ne,Z);f(localStorage.getItem("token"));const R={authenticated:!0,email:G.email,role:G.role,tenant_id:G.tenant_id,is_global_admin:G.is_global_admin};if(u(R),G.is_global_admin){m(!0);try{const te=await ie.getTenants();z(te)}catch(te){console.error("Failed to fetch tenants:",te)}}else await k()},P=()=>{ie.logout(),u(null),f(null),z([]),J(null),m(null)},Q=ne=>{J(ne),ie.setSelectedTenant(ne)},U=async()=>{await k()},E=async()=>{if(r?.is_global_admin)try{const ne=await ie.getTenants();z(ne)}catch(ne){console.error("Failed to refresh tenants:",ne)}},le=r?.is_global_admin?Y:r?.tenant_id;return n.jsx(Hm.Provider,{value:{user:r,token:o,login:$,logout:P,loading:h,profileLoading:j,profileComplete:x,refreshProfile:U,refreshTenants:E,tenants:N,selectedTenantId:Y,selectTenant:Q,effectiveTenantId:le},children:i})}function Pt(){const i=v.useContext(Hm);if(!i)throw new Error("useAuth must be used within an AuthProvider");return i}function it({message:i="Loading...",fullPage:r=!1}){return n.jsxs("div",{className:`loading-state ${r?"loading-state--full":""}`,children:[n.jsx("div",{className:"loading-spinner"}),n.jsx("p",{children:i})]})}function Ze({icon:i="",title:r="Nothing here yet",description:u,action:o}){return n.jsxs("div",{className:"empty-state",children:[n.jsx("div",{className:"empty-state__icon",children:i}),n.jsx("h3",{className:"empty-state__title",children:r}),u&&n.jsx("p",{className:"empty-state__description",children:u}),o&&n.jsx("button",{className:"btn-primary",onClick:o.onClick,children:o.label})]})}function Wt({message:i="Something went wrong",onRetry:r,title:u="Error"}){return n.jsxs("div",{className:"error-state",children:[n.jsx("div",{className:"error-state__icon",children:""}),n.jsx("h3",{className:"error-state__title",children:u}),n.jsx("p",{className:"error-state__message",children:i}),r&&n.jsx("button",{className:"btn-secondary",onClick:r,children:"Try Again"})]})}function nx({message:i,type:r="success",onClose:u,duration:o=3e3}){return v.useEffect(()=>{if(o>0){const f=setTimeout(()=>{u?.()},o);return()=>clearTimeout(f)}},[o,u]),n.jsxs("div",{className:`toast toast--${r}`,role:"alert",children:[n.jsxs("div",{className:"toast__content",children:[n.jsxs("span",{className:"toast__icon",children:[r==="success"&&"",r==="error"&&"",r==="info"&&""]}),n.jsx("span",{className:"toast__message",children:i})]}),u&&n.jsx("button",{className:"toast__close",onClick:u,"aria-label":"Close",children:""})]})}function lx({toasts:i,removeToast:r}){return n.jsx("div",{className:"toast-container",children:i.map(u=>n.jsx(nx,{message:u.message,type:u.type,onClose:()=>r(u.id),duration:u.duration},u.id))})}function Ph({children:i,requireProfile:r=!1}){const{user:u,loading:o,profileComplete:f,profileLoading:h}=Pt();return o||h?n.jsx(it,{message:"Authenticating...",fullPage:!0}):u?r&&!u.is_global_admin&&f===!1?n.jsx(Cn,{to:"/onboarding",replace:!0}):i:n.jsx(Cn,{to:"/login",replace:!0})}function sx(){const{user:i,logout:r,tenants:u,selectedTenantId:o,selectTenant:f}=Pt(),h=Kt(),g=na(),[j,y]=v.useState(g.pathname.startsWith("/analytics")),[x,m]=v.useState(g.pathname.startsWith("/calls")||g.pathname.startsWith("/sms")),[N,z]=v.useState(g.pathname.startsWith("/settings")),Y=()=>{r(),h("/login")},J=$=>{const P=$.target.value;f(P?parseInt(P,10):null)},k=u.find($=>$.id===o);return n.jsxs("div",{className:"layout",children:[i?.is_global_admin&&o&&n.jsxs("div",{className:"impersonation-banner",children:["Viewing as: ",n.jsx("strong",{children:k?.name||"Unknown Tenant"}),n.jsx("button",{onClick:()=>f(null),className:"exit-btn",children:"Exit"})]}),n.jsxs("nav",{className:"sidebar",children:[n.jsx("div",{className:"logo",children:n.jsx("h2",{children:" Chatter Cheetah"})}),i?.is_global_admin&&n.jsxs("div",{className:"tenant-selector",children:[n.jsx("label",{children:"Switch Tenant"}),n.jsxs("select",{value:o||"",onChange:J,children:[n.jsx("option",{value:"",children:"-- Master Admin View --"}),u.map($=>n.jsx("option",{value:$.id,children:$.name},$.id))]})]}),n.jsxs("ul",{className:"nav-links",children:[n.jsx("li",{children:n.jsx(Zt,{to:"/",end:!0,children:"Dashboard"})}),n.jsx("li",{children:n.jsx(Zt,{to:"/contacts",children:"Contacts"})}),n.jsxs("li",{className:"nav-section",children:[n.jsxs("button",{className:`nav-section-toggle ${x?"open":""}`,onClick:()=>m(!x),children:["Communications",n.jsx("span",{className:"toggle-icon",children:x?"":"+"})]}),x&&n.jsxs("ul",{className:"nav-submenu",children:[n.jsx("li",{children:n.jsx(Zt,{to:"/calls",children:"Calls"})}),n.jsx("li",{children:n.jsx(Zt,{to:"/sms",children:"SMS"})})]})]}),n.jsxs("li",{className:"nav-section",children:[n.jsxs("button",{className:`nav-section-toggle ${j?"open":""}`,onClick:()=>y(!j),children:["Analytics",n.jsx("span",{className:"toggle-icon",children:j?"":"+"})]}),j&&n.jsxs("ul",{className:"nav-submenu",children:[n.jsx("li",{children:n.jsx(Zt,{to:"/analytics/unknowns",children:"Unknowns"})}),n.jsx("li",{children:n.jsx(Zt,{to:"/analytics/plots",children:"Plots"})})]})]}),n.jsxs("li",{className:"nav-section",children:[n.jsxs("button",{className:`nav-section-toggle ${N?"open":""}`,onClick:()=>z(!N),children:["Settings",n.jsx("span",{className:"toggle-icon",children:N?"":"+"})]}),N&&n.jsxs("ul",{className:"nav-submenu",children:[n.jsx("li",{children:n.jsx(Zt,{to:"/settings/prompts",children:"Prompts Setup"})}),n.jsx("li",{children:n.jsx(Zt,{to:"/settings/widget",children:"Website Widget"})}),n.jsx("li",{children:n.jsx(Zt,{to:"/settings/email",children:"Email Setup"})}),n.jsx("li",{children:n.jsx(Zt,{to:"/settings/profile",children:"Business Profile"})})]})]}),i?.is_global_admin&&!o&&n.jsx("li",{children:n.jsx(Zt,{to:"/admin/tenants",children:"Manage Tenants"})})]}),n.jsxs("div",{className:"user-info",children:[n.jsx("span",{className:"user-email",children:i?.email}),i?.is_global_admin&&n.jsx("span",{className:"admin-badge",children:"Admin"})]}),n.jsx("button",{className:"logout-btn",onClick:Y,children:"Logout"})]}),n.jsx("main",{className:"content",children:n.jsx(by,{})})]})}function ix(){const[i,r]=v.useState(""),[u,o]=v.useState(""),[f,h]=v.useState(""),[g,j]=v.useState(!1),{login:y}=Pt(),x=Kt(),m=async N=>{N.preventDefault(),h(""),j(!0);try{await y(i,u),x("/")}catch(z){h(z.message||"Login failed")}finally{j(!1)}};return n.jsx("div",{className:"login-container",children:n.jsxs("div",{className:"login-card",children:[n.jsx("h1",{children:"Chatter Cheetah"}),n.jsx("p",{className:"subtitle",children:"Sign in to your dashboard"}),n.jsxs("form",{onSubmit:m,children:[f&&n.jsx("div",{className:"error",children:f}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"email",children:"Email"}),n.jsx("input",{id:"email",type:"email",value:i,onChange:N=>r(N.target.value),placeholder:"you@company.com",required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"password",children:"Password"}),n.jsx("input",{id:"password",type:"password",value:u,onChange:N=>o(N.target.value),placeholder:"Your password",required:!0})]}),n.jsx("button",{type:"submit",disabled:g,children:g?"Signing in...":"Sign In"})]})]})})}const Ym=6048e5,cx=864e5,Wh=Symbol.for("constructDateFrom");function Ft(i,r){return typeof i=="function"?i(r):i&&typeof i=="object"&&Wh in i?i[Wh](r):i instanceof Date?new i.constructor(r):new Date(r)}function It(i,r){return Ft(r||i,i)}function rx(i,r,u){const o=It(i,u?.in);return isNaN(r)?Ft(i,NaN):(o.setDate(o.getDate()+r),o)}let ox={};function ys(){return ox}function ps(i,r){const u=ys(),o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??u.weekStartsOn??u.locale?.options?.weekStartsOn??0,f=It(i,r?.in),h=f.getDay(),g=(h<o?7:0)+h-o;return f.setDate(f.getDate()-g),f.setHours(0,0,0,0),f}function Gi(i,r){return ps(i,{...r,weekStartsOn:1})}function Gm(i,r){const u=It(i,r?.in),o=u.getFullYear(),f=Ft(u,0);f.setFullYear(o+1,0,4),f.setHours(0,0,0,0);const h=Gi(f),g=Ft(u,0);g.setFullYear(o,0,4),g.setHours(0,0,0,0);const j=Gi(g);return u.getTime()>=h.getTime()?o+1:u.getTime()>=j.getTime()?o:o-1}function Ih(i){const r=It(i),u=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return u.setUTCFullYear(r.getFullYear()),+i-+u}function Xm(i,...r){const u=Ft.bind(null,r.find(o=>typeof o=="object"));return r.map(u)}function Xi(i,r){const u=It(i,r?.in);return u.setHours(0,0,0,0),u}function ux(i,r,u){const[o,f]=Xm(u?.in,i,r),h=Xi(o),g=Xi(f),j=+h-Ih(h),y=+g-Ih(g);return Math.round((j-y)/cx)}function dx(i,r){const u=Gm(i,r),o=Ft(i,0);return o.setFullYear(u,0,4),o.setHours(0,0,0,0),Gi(o)}function Vm(i){return Ft(i,Date.now())}function Qm(i,r,u){const[o,f]=Xm(u?.in,i,r);return+Xi(o)==+Xi(f)}function fx(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function hx(i){return!(!fx(i)&&typeof i!="number"||isNaN(+It(i)))}function mx(i,r){const u=It(i,r?.in);return u.setFullYear(u.getFullYear(),0,1),u.setHours(0,0,0,0),u}const px={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},gx=(i,r,u)=>{let o;const f=px[i];return typeof f=="string"?o=f:r===1?o=f.one:o=f.other.replace("{{count}}",r.toString()),u?.addSuffix?u.comparison&&u.comparison>0?"in "+o:o+" ago":o};function mo(i){return(r={})=>{const u=r.width?String(r.width):i.defaultWidth;return i.formats[u]||i.formats[i.defaultWidth]}}const vx={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},yx={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xx={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},bx={date:mo({formats:vx,defaultWidth:"full"}),time:mo({formats:yx,defaultWidth:"full"}),dateTime:mo({formats:xx,defaultWidth:"full"})},jx={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Nx=(i,r,u,o)=>jx[i];function fs(i){return(r,u)=>{const o=u?.context?String(u.context):"standalone";let f;if(o==="formatting"&&i.formattingValues){const g=i.defaultFormattingWidth||i.defaultWidth,j=u?.width?String(u.width):g;f=i.formattingValues[j]||i.formattingValues[g]}else{const g=i.defaultWidth,j=u?.width?String(u.width):i.defaultWidth;f=i.values[j]||i.values[g]}const h=i.argumentCallback?i.argumentCallback(r):r;return f[h]}}const Sx={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wx={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_x={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Cx={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Tx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ex={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ax=(i,r)=>{const u=Number(i),o=u%100;if(o>20||o<10)switch(o%10){case 1:return u+"st";case 2:return u+"nd";case 3:return u+"rd"}return u+"th"},Dx={ordinalNumber:Ax,era:fs({values:Sx,defaultWidth:"wide"}),quarter:fs({values:wx,defaultWidth:"wide",argumentCallback:i=>i-1}),month:fs({values:_x,defaultWidth:"wide"}),day:fs({values:Cx,defaultWidth:"wide"}),dayPeriod:fs({values:Tx,defaultWidth:"wide",formattingValues:Ex,defaultFormattingWidth:"wide"})};function hs(i){return(r,u={})=>{const o=u.width,f=o&&i.matchPatterns[o]||i.matchPatterns[i.defaultMatchWidth],h=r.match(f);if(!h)return null;const g=h[0],j=o&&i.parsePatterns[o]||i.parsePatterns[i.defaultParseWidth],y=Array.isArray(j)?zx(j,N=>N.test(g)):Mx(j,N=>N.test(g));let x;x=i.valueCallback?i.valueCallback(y):y,x=u.valueCallback?u.valueCallback(x):x;const m=r.slice(g.length);return{value:x,rest:m}}}function Mx(i,r){for(const u in i)if(Object.prototype.hasOwnProperty.call(i,u)&&r(i[u]))return u}function zx(i,r){for(let u=0;u<i.length;u++)if(r(i[u]))return u}function Ox(i){return(r,u={})=>{const o=r.match(i.matchPattern);if(!o)return null;const f=o[0],h=r.match(i.parsePattern);if(!h)return null;let g=i.valueCallback?i.valueCallback(h[0]):h[0];g=u.valueCallback?u.valueCallback(g):g;const j=r.slice(f.length);return{value:g,rest:j}}}const Rx=/^(\d+)(th|st|nd|rd)?/i,Ux=/\d+/i,Lx={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kx={any:[/^b/i,/^(a|c)/i]},Bx={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qx={any:[/1/i,/2/i,/3/i,/4/i]},Hx={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Yx={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Gx={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Xx={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Vx={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Qx={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Zx={ordinalNumber:Ox({matchPattern:Rx,parsePattern:Ux,valueCallback:i=>parseInt(i,10)}),era:hs({matchPatterns:Lx,defaultMatchWidth:"wide",parsePatterns:kx,defaultParseWidth:"any"}),quarter:hs({matchPatterns:Bx,defaultMatchWidth:"wide",parsePatterns:qx,defaultParseWidth:"any",valueCallback:i=>i+1}),month:hs({matchPatterns:Hx,defaultMatchWidth:"wide",parsePatterns:Yx,defaultParseWidth:"any"}),day:hs({matchPatterns:Gx,defaultMatchWidth:"wide",parsePatterns:Xx,defaultParseWidth:"any"}),dayPeriod:hs({matchPatterns:Vx,defaultMatchWidth:"any",parsePatterns:Qx,defaultParseWidth:"any"})},Fx={code:"en-US",formatDistance:gx,formatLong:bx,formatRelative:Nx,localize:Dx,match:Zx,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $x(i,r){const u=It(i,r?.in);return ux(u,mx(u))+1}function Jx(i,r){const u=It(i,r?.in),o=+Gi(u)-+dx(u);return Math.round(o/Ym)+1}function Zm(i,r){const u=It(i,r?.in),o=u.getFullYear(),f=ys(),h=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??f.firstWeekContainsDate??f.locale?.options?.firstWeekContainsDate??1,g=Ft(r?.in||i,0);g.setFullYear(o+1,0,h),g.setHours(0,0,0,0);const j=ps(g,r),y=Ft(r?.in||i,0);y.setFullYear(o,0,h),y.setHours(0,0,0,0);const x=ps(y,r);return+u>=+j?o+1:+u>=+x?o:o-1}function Kx(i,r){const u=ys(),o=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,f=Zm(i,r),h=Ft(r?.in||i,0);return h.setFullYear(f,0,o),h.setHours(0,0,0,0),ps(h,r)}function Px(i,r){const u=It(i,r?.in),o=+ps(u,r)-+Kx(u,r);return Math.round(o/Ym)+1}function Re(i,r){const u=i<0?"-":"",o=Math.abs(i).toString().padStart(r,"0");return u+o}const tn={y(i,r){const u=i.getFullYear(),o=u>0?u:1-u;return Re(r==="yy"?o%100:o,r.length)},M(i,r){const u=i.getMonth();return r==="M"?String(u+1):Re(u+1,2)},d(i,r){return Re(i.getDate(),r.length)},a(i,r){const u=i.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return u.toUpperCase();case"aaa":return u;case"aaaaa":return u[0];case"aaaa":default:return u==="am"?"a.m.":"p.m."}},h(i,r){return Re(i.getHours()%12||12,r.length)},H(i,r){return Re(i.getHours(),r.length)},m(i,r){return Re(i.getMinutes(),r.length)},s(i,r){return Re(i.getSeconds(),r.length)},S(i,r){const u=r.length,o=i.getMilliseconds(),f=Math.trunc(o*Math.pow(10,u-3));return Re(f,r.length)}},fl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},em={G:function(i,r,u){const o=i.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return u.era(o,{width:"abbreviated"});case"GGGGG":return u.era(o,{width:"narrow"});case"GGGG":default:return u.era(o,{width:"wide"})}},y:function(i,r,u){if(r==="yo"){const o=i.getFullYear(),f=o>0?o:1-o;return u.ordinalNumber(f,{unit:"year"})}return tn.y(i,r)},Y:function(i,r,u,o){const f=Zm(i,o),h=f>0?f:1-f;if(r==="YY"){const g=h%100;return Re(g,2)}return r==="Yo"?u.ordinalNumber(h,{unit:"year"}):Re(h,r.length)},R:function(i,r){const u=Gm(i);return Re(u,r.length)},u:function(i,r){const u=i.getFullYear();return Re(u,r.length)},Q:function(i,r,u){const o=Math.ceil((i.getMonth()+1)/3);switch(r){case"Q":return String(o);case"QQ":return Re(o,2);case"Qo":return u.ordinalNumber(o,{unit:"quarter"});case"QQQ":return u.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return u.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return u.quarter(o,{width:"wide",context:"formatting"})}},q:function(i,r,u){const o=Math.ceil((i.getMonth()+1)/3);switch(r){case"q":return String(o);case"qq":return Re(o,2);case"qo":return u.ordinalNumber(o,{unit:"quarter"});case"qqq":return u.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return u.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return u.quarter(o,{width:"wide",context:"standalone"})}},M:function(i,r,u){const o=i.getMonth();switch(r){case"M":case"MM":return tn.M(i,r);case"Mo":return u.ordinalNumber(o+1,{unit:"month"});case"MMM":return u.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return u.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return u.month(o,{width:"wide",context:"formatting"})}},L:function(i,r,u){const o=i.getMonth();switch(r){case"L":return String(o+1);case"LL":return Re(o+1,2);case"Lo":return u.ordinalNumber(o+1,{unit:"month"});case"LLL":return u.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return u.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return u.month(o,{width:"wide",context:"standalone"})}},w:function(i,r,u,o){const f=Px(i,o);return r==="wo"?u.ordinalNumber(f,{unit:"week"}):Re(f,r.length)},I:function(i,r,u){const o=Jx(i);return r==="Io"?u.ordinalNumber(o,{unit:"week"}):Re(o,r.length)},d:function(i,r,u){return r==="do"?u.ordinalNumber(i.getDate(),{unit:"date"}):tn.d(i,r)},D:function(i,r,u){const o=$x(i);return r==="Do"?u.ordinalNumber(o,{unit:"dayOfYear"}):Re(o,r.length)},E:function(i,r,u){const o=i.getDay();switch(r){case"E":case"EE":case"EEE":return u.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return u.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return u.day(o,{width:"short",context:"formatting"});case"EEEE":default:return u.day(o,{width:"wide",context:"formatting"})}},e:function(i,r,u,o){const f=i.getDay(),h=(f-o.weekStartsOn+8)%7||7;switch(r){case"e":return String(h);case"ee":return Re(h,2);case"eo":return u.ordinalNumber(h,{unit:"day"});case"eee":return u.day(f,{width:"abbreviated",context:"formatting"});case"eeeee":return u.day(f,{width:"narrow",context:"formatting"});case"eeeeee":return u.day(f,{width:"short",context:"formatting"});case"eeee":default:return u.day(f,{width:"wide",context:"formatting"})}},c:function(i,r,u,o){const f=i.getDay(),h=(f-o.weekStartsOn+8)%7||7;switch(r){case"c":return String(h);case"cc":return Re(h,r.length);case"co":return u.ordinalNumber(h,{unit:"day"});case"ccc":return u.day(f,{width:"abbreviated",context:"standalone"});case"ccccc":return u.day(f,{width:"narrow",context:"standalone"});case"cccccc":return u.day(f,{width:"short",context:"standalone"});case"cccc":default:return u.day(f,{width:"wide",context:"standalone"})}},i:function(i,r,u){const o=i.getDay(),f=o===0?7:o;switch(r){case"i":return String(f);case"ii":return Re(f,r.length);case"io":return u.ordinalNumber(f,{unit:"day"});case"iii":return u.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return u.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return u.day(o,{width:"short",context:"formatting"});case"iiii":default:return u.day(o,{width:"wide",context:"formatting"})}},a:function(i,r,u){const f=i.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return u.dayPeriod(f,{width:"abbreviated",context:"formatting"});case"aaa":return u.dayPeriod(f,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return u.dayPeriod(f,{width:"narrow",context:"formatting"});case"aaaa":default:return u.dayPeriod(f,{width:"wide",context:"formatting"})}},b:function(i,r,u){const o=i.getHours();let f;switch(o===12?f=fl.noon:o===0?f=fl.midnight:f=o/12>=1?"pm":"am",r){case"b":case"bb":return u.dayPeriod(f,{width:"abbreviated",context:"formatting"});case"bbb":return u.dayPeriod(f,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return u.dayPeriod(f,{width:"narrow",context:"formatting"});case"bbbb":default:return u.dayPeriod(f,{width:"wide",context:"formatting"})}},B:function(i,r,u){const o=i.getHours();let f;switch(o>=17?f=fl.evening:o>=12?f=fl.afternoon:o>=4?f=fl.morning:f=fl.night,r){case"B":case"BB":case"BBB":return u.dayPeriod(f,{width:"abbreviated",context:"formatting"});case"BBBBB":return u.dayPeriod(f,{width:"narrow",context:"formatting"});case"BBBB":default:return u.dayPeriod(f,{width:"wide",context:"formatting"})}},h:function(i,r,u){if(r==="ho"){let o=i.getHours()%12;return o===0&&(o=12),u.ordinalNumber(o,{unit:"hour"})}return tn.h(i,r)},H:function(i,r,u){return r==="Ho"?u.ordinalNumber(i.getHours(),{unit:"hour"}):tn.H(i,r)},K:function(i,r,u){const o=i.getHours()%12;return r==="Ko"?u.ordinalNumber(o,{unit:"hour"}):Re(o,r.length)},k:function(i,r,u){let o=i.getHours();return o===0&&(o=24),r==="ko"?u.ordinalNumber(o,{unit:"hour"}):Re(o,r.length)},m:function(i,r,u){return r==="mo"?u.ordinalNumber(i.getMinutes(),{unit:"minute"}):tn.m(i,r)},s:function(i,r,u){return r==="so"?u.ordinalNumber(i.getSeconds(),{unit:"second"}):tn.s(i,r)},S:function(i,r){return tn.S(i,r)},X:function(i,r,u){const o=i.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return am(o);case"XXXX":case"XX":return _n(o);case"XXXXX":case"XXX":default:return _n(o,":")}},x:function(i,r,u){const o=i.getTimezoneOffset();switch(r){case"x":return am(o);case"xxxx":case"xx":return _n(o);case"xxxxx":case"xxx":default:return _n(o,":")}},O:function(i,r,u){const o=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+tm(o,":");case"OOOO":default:return"GMT"+_n(o,":")}},z:function(i,r,u){const o=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+tm(o,":");case"zzzz":default:return"GMT"+_n(o,":")}},t:function(i,r,u){const o=Math.trunc(+i/1e3);return Re(o,r.length)},T:function(i,r,u){return Re(+i,r.length)}};function tm(i,r=""){const u=i>0?"-":"+",o=Math.abs(i),f=Math.trunc(o/60),h=o%60;return h===0?u+String(f):u+String(f)+r+Re(h,2)}function am(i,r){return i%60===0?(i>0?"-":"+")+Re(Math.abs(i)/60,2):_n(i,r)}function _n(i,r=""){const u=i>0?"-":"+",o=Math.abs(i),f=Re(Math.trunc(o/60),2),h=Re(o%60,2);return u+f+r+h}const nm=(i,r)=>{switch(i){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Fm=(i,r)=>{switch(i){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Wx=(i,r)=>{const u=i.match(/(P+)(p+)?/)||[],o=u[1],f=u[2];if(!f)return nm(i,r);let h;switch(o){case"P":h=r.dateTime({width:"short"});break;case"PP":h=r.dateTime({width:"medium"});break;case"PPP":h=r.dateTime({width:"long"});break;case"PPPP":default:h=r.dateTime({width:"full"});break}return h.replace("{{date}}",nm(o,r)).replace("{{time}}",Fm(f,r))},Ix={p:Fm,P:Wx},eb=/^D+$/,tb=/^Y+$/,ab=["D","DD","YY","YYYY"];function nb(i){return eb.test(i)}function lb(i){return tb.test(i)}function sb(i,r,u){const o=ib(i,r,u);if(console.warn(o),ab.includes(i))throw new RangeError(o)}function ib(i,r,u){const o=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${r}\`) for formatting ${o} to the input \`${u}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const cb=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rb=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ob=/^'([^]*?)'?$/,ub=/''/g,db=/[a-zA-Z]/;function Hi(i,r,u){const o=ys(),f=u?.locale??o.locale??Fx,h=u?.firstWeekContainsDate??u?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,g=u?.weekStartsOn??u?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0,j=It(i,u?.in);if(!hx(j))throw new RangeError("Invalid time value");let y=r.match(rb).map(m=>{const N=m[0];if(N==="p"||N==="P"){const z=Ix[N];return z(m,f.formatLong)}return m}).join("").match(cb).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const N=m[0];if(N==="'")return{isToken:!1,value:fb(m)};if(em[N])return{isToken:!0,value:m};if(N.match(db))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:m}});f.localize.preprocessor&&(y=f.localize.preprocessor(j,y));const x={firstWeekContainsDate:h,weekStartsOn:g,locale:f};return y.map(m=>{if(!m.isToken)return m.value;const N=m.value;(!u?.useAdditionalWeekYearTokens&&lb(N)||!u?.useAdditionalDayOfYearTokens&&nb(N))&&sb(N,r,String(i));const z=em[N[0]];return z(j,N,f.localize,x)}).join("")}function fb(i){const r=i.match(ob);return r?r[1].replace(ub,"'"):i}function hb(){return Object.assign({},ys())}function mb(i,r){return Qm(Ft(i,i),Vm(i))}function pb(i,r,u){return rx(i,-1,u)}function gb(i,r){return Qm(Ft(i,i),pb(Vm(i)))}function lm(i,r,u){const o=hb(),f=xb(i,u.timeZone,u.locale??o.locale);return"formatToParts"in f?vb(f,r):yb(f,r)}function vb(i,r){const u=i.formatToParts(r);for(let o=u.length-1;o>=0;--o)if(u[o].type==="timeZoneName")return u[o].value}function yb(i,r){const u=i.format(r).replace(/\u200E/g,""),o=/ [\w-+ ]+$/.exec(u);return o?o[0].substr(1):""}function xb(i,r,u){return new Intl.DateTimeFormat(u?[u.code,"en-US"]:void 0,{timeZone:r,timeZoneName:i})}function bb(i,r){const u=_b(r);return"formatToParts"in u?Nb(u,i):Sb(u,i)}const jb={year:0,month:1,day:2,hour:3,minute:4,second:5};function Nb(i,r){try{const u=i.formatToParts(r),o=[];for(let f=0;f<u.length;f++){const h=jb[u[f].type];h!==void 0&&(o[h]=parseInt(u[f].value,10))}return o}catch(u){if(u instanceof RangeError)return[NaN];throw u}}function Sb(i,r){const u=i.format(r),o=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(u);return[parseInt(o[3],10),parseInt(o[1],10),parseInt(o[2],10),parseInt(o[4],10),parseInt(o[5],10),parseInt(o[6],10)]}const po={},sm=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),wb=sm==="06/25/2014, 00:00:00"||sm==="06/25/2014 00:00:00";function _b(i){return po[i]||(po[i]=wb?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:i,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:i,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),po[i]}function $m(i,r,u,o,f,h,g){const j=new Date(0);return j.setUTCFullYear(i,r,u),j.setUTCHours(o,f,h,g),j}const im=36e5,Cb=6e4,go={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Ro(i,r,u){if(!i)return 0;let o=go.timezoneZ.exec(i);if(o)return 0;let f,h;if(o=go.timezoneHH.exec(i),o)return f=parseInt(o[1],10),cm(f)?-(f*im):NaN;if(o=go.timezoneHHMM.exec(i),o){f=parseInt(o[2],10);const g=parseInt(o[3],10);return cm(f,g)?(h=Math.abs(f)*im+g*Cb,o[1]==="+"?-h:h):NaN}if(Ab(i)){r=new Date(r||Date.now());const g=u?r:Tb(r),j=_o(g,i);return-(u?j:Eb(r,j,i))}return NaN}function Tb(i){return $m(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())}function _o(i,r){const u=bb(i,r),o=$m(u[0],u[1]-1,u[2],u[3]%24,u[4],u[5],0).getTime();let f=i.getTime();const h=f%1e3;return f-=h>=0?h:1e3+h,o-f}function Eb(i,r,u){let f=i.getTime()-r;const h=_o(new Date(f),u);if(r===h)return r;f-=h-r;const g=_o(new Date(f),u);return h===g?h:Math.max(h,g)}function cm(i,r){return-23<=i&&i<=23&&(r==null||0<=r&&r<=59)}const rm={};function Ab(i){if(rm[i])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:i}),rm[i]=!0,!0}catch{return!1}}const Db=60*1e3,Mb={X:function(i,r,u){const o=vo(u.timeZone,i);if(o===0)return"Z";switch(r){case"X":return om(o);case"XXXX":case"XX":return hl(o);case"XXXXX":case"XXX":default:return hl(o,":")}},x:function(i,r,u){const o=vo(u.timeZone,i);switch(r){case"x":return om(o);case"xxxx":case"xx":return hl(o);case"xxxxx":case"xxx":default:return hl(o,":")}},O:function(i,r,u){const o=vo(u.timeZone,i);switch(r){case"O":case"OO":case"OOO":return"GMT"+zb(o,":");case"OOOO":default:return"GMT"+hl(o,":")}},z:function(i,r,u){switch(r){case"z":case"zz":case"zzz":return lm("short",i,u);case"zzzz":default:return lm("long",i,u)}}};function vo(i,r){const u=i?Ro(i,r,!0)/Db:r?.getTimezoneOffset()??0;if(Number.isNaN(u))throw new RangeError("Invalid time zone specified: "+i);return u}function Vi(i,r){const u=i<0?"-":"";let o=Math.abs(i).toString();for(;o.length<r;)o="0"+o;return u+o}function hl(i,r=""){const u=i>0?"-":"+",o=Math.abs(i),f=Vi(Math.floor(o/60),2),h=Vi(Math.floor(o%60),2);return u+f+r+h}function om(i,r){return i%60===0?(i>0?"-":"+")+Vi(Math.abs(i)/60,2):hl(i,r)}function zb(i,r=""){const u=i>0?"-":"+",o=Math.abs(i),f=Math.floor(o/60),h=o%60;return h===0?u+String(f):u+String(f)+r+Vi(h,2)}function um(i){const r=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return r.setUTCFullYear(i.getFullYear()),+i-+r}const Ob=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,yo=36e5,dm=6e4,Rb=2,yt={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Ob};function Jm(i,r={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(i===null)return new Date(NaN);const u=r.additionalDigits==null?Rb:Number(r.additionalDigits);if(u!==2&&u!==1&&u!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]")return new Date(i.getTime());if(typeof i=="number"||Object.prototype.toString.call(i)==="[object Number]")return new Date(i);if(Object.prototype.toString.call(i)!=="[object String]")return new Date(NaN);const o=Ub(i),{year:f,restDateString:h}=Lb(o.date,u),g=kb(h,f);if(g===null||isNaN(g.getTime()))return new Date(NaN);if(g){const j=g.getTime();let y=0,x;if(o.time&&(y=Bb(o.time),y===null||isNaN(y)))return new Date(NaN);if(o.timeZone||r.timeZone){if(x=Ro(o.timeZone||r.timeZone,new Date(j+y)),isNaN(x))return new Date(NaN)}else x=um(new Date(j+y)),x=um(new Date(j+y+x));return new Date(j+y+x)}else return new Date(NaN)}function Ub(i){const r={};let u=yt.dateTimePattern.exec(i),o;if(u?(r.date=u[1],o=u[3]):(u=yt.datePattern.exec(i),u?(r.date=u[1],o=u[2]):(r.date=null,o=i)),o){const f=yt.timeZone.exec(o);f?(r.time=o.replace(f[1],""),r.timeZone=f[1].trim()):r.time=o}return r}function Lb(i,r){if(i){const u=yt.YYY[r],o=yt.YYYYY[r];let f=yt.YYYY.exec(i)||o.exec(i);if(f){const h=f[1];return{year:parseInt(h,10),restDateString:i.slice(h.length)}}if(f=yt.YY.exec(i)||u.exec(i),f){const h=f[1];return{year:parseInt(h,10)*100,restDateString:i.slice(h.length)}}}return{year:null}}function kb(i,r){if(r===null)return null;let u,o,f;if(!i||!i.length)return u=new Date(0),u.setUTCFullYear(r),u;let h=yt.MM.exec(i);if(h)return u=new Date(0),o=parseInt(h[1],10)-1,hm(r,o)?(u.setUTCFullYear(r,o),u):new Date(NaN);if(h=yt.DDD.exec(i),h){u=new Date(0);const g=parseInt(h[1],10);return Yb(r,g)?(u.setUTCFullYear(r,0,g),u):new Date(NaN)}if(h=yt.MMDD.exec(i),h){u=new Date(0),o=parseInt(h[1],10)-1;const g=parseInt(h[2],10);return hm(r,o,g)?(u.setUTCFullYear(r,o,g),u):new Date(NaN)}if(h=yt.Www.exec(i),h)return f=parseInt(h[1],10)-1,mm(f)?fm(r,f):new Date(NaN);if(h=yt.WwwD.exec(i),h){f=parseInt(h[1],10)-1;const g=parseInt(h[2],10)-1;return mm(f,g)?fm(r,f,g):new Date(NaN)}return null}function Bb(i){let r,u,o=yt.HH.exec(i);if(o)return r=parseFloat(o[1].replace(",",".")),xo(r)?r%24*yo:NaN;if(o=yt.HHMM.exec(i),o)return r=parseInt(o[1],10),u=parseFloat(o[2].replace(",",".")),xo(r,u)?r%24*yo+u*dm:NaN;if(o=yt.HHMMSS.exec(i),o){r=parseInt(o[1],10),u=parseInt(o[2],10);const f=parseFloat(o[3].replace(",","."));return xo(r,u,f)?r%24*yo+u*dm+f*1e3:NaN}return null}function fm(i,r,u){r=r||0,u=u||0;const o=new Date(0);o.setUTCFullYear(i,0,4);const f=o.getUTCDay()||7,h=r*7+u+1-f;return o.setUTCDate(o.getUTCDate()+h),o}const qb=[31,28,31,30,31,30,31,31,30,31,30,31],Hb=[31,29,31,30,31,30,31,31,30,31,30,31];function Km(i){return i%400===0||i%4===0&&i%100!==0}function hm(i,r,u){if(r<0||r>11)return!1;if(u!=null){if(u<1)return!1;const o=Km(i);if(o&&u>Hb[r]||!o&&u>qb[r])return!1}return!0}function Yb(i,r){if(r<1)return!1;const u=Km(i);return!(u&&r>366||!u&&r>365)}function mm(i,r){return!(i<0||i>52||r!=null&&(r<0||r>6))}function xo(i,r,u){return!(i<0||i>=25||r!=null&&(r<0||r>=60)||u!=null&&(u<0||u>=60))}const Gb=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function Xb(i,r,u={}){r=String(r);const o=r.match(Gb);if(o){const f=Jm(u.originalDate||i,u);r=o.reduce(function(h,g){if(g[0]==="'")return h;const j=h.indexOf(g),y=h[j-1]==="'",x=h.replace(g,"'"+Mb[g[0]](f,g,u)+"'");return y?x.substring(0,j-1)+x.substring(j+1):x},r)}return Hi(i,r,u)}function Vb(i,r,u){i=Jm(i,u);const o=Ro(r,i,!0),f=new Date(i.getTime()-o),h=new Date(0);return h.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),h.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),h}const pm="America/Chicago";function Qb(i){if(!i)return i;const r=i.trim();return!r||/[zZ]|[+-]\d{2}:?\d{2}$/.test(r)?r:`${r.includes("T")?r:r.replace(" ","T")}Z`}function Zb(i){try{if(!i)return"";const r=Qb(i),u=new Date(r);if(isNaN(u.getTime()))return"";const o=Vb(u,pm),f=Xb(o,"zzz",{timeZone:pm});return mb(o)?`Today ${Hi(o,"h:mm a")} ${f}`:gb(o)?`Yesterday ${Hi(o,"h:mm a")} ${f}`:`${Hi(o,"MMM d h:mm a")} ${f}`}catch(r){return console.error("Date formatting error:",r),""}}const gm=()=>n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{verticalAlign:"middle"},children:[n.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"6"}),n.jsx("circle",{cx:"12",cy:"2",r:"1",fill:"currentColor"}),n.jsx("rect",{x:"4",y:"6",width:"16",height:"12",rx:"2"}),n.jsx("circle",{cx:"9",cy:"11",r:"1.5",fill:"currentColor"}),n.jsx("circle",{cx:"15",cy:"11",r:"1.5",fill:"currentColor"}),n.jsx("line",{x1:"9",y1:"15",x2:"15",y2:"15"}),n.jsx("rect",{x:"1",y:"9",width:"2",height:"5",rx:"1"}),n.jsx("rect",{x:"21",y:"9",width:"2",height:"5",rx:"1"})]}),Fb=()=>n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{verticalAlign:"middle"},children:[n.jsx("rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}),n.jsx("polyline",{points:"2,4 12,13 22,4"})]}),$b=()=>n.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{verticalAlign:"middle"},children:n.jsx("path",{d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})}),Jb=()=>n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{verticalAlign:"middle"},children:[n.jsx("rect",{x:"5",y:"2",width:"14",height:"20",rx:"2"}),n.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"18.01"}),n.jsx("path",{d:"M9 9l3-3 3 3"}),n.jsx("line",{x1:"12",y1:"6",x2:"12",y2:"12"})]});function Kb(){const[i,r]=v.useState([]),[u,o]=v.useState(!0),[f,h]=v.useState(""),[g,j]=v.useState(null),[y,x]=v.useState(null),[m,N]=v.useState(null),[z,Y]=v.useState(!1);v.useEffect(()=>{J()},[]);const J=async()=>{o(!0),h("");try{const R=await ie.getLeads({limit:50}).catch(()=>({leads:[]})),te=(R.leads||R||[]).sort((re,W)=>new Date(W.created_at)-new Date(re.created_at));r(te)}catch{h("Failed to load dashboard data")}finally{o(!1)}},k=async R=>{j(R);try{await ie.updateLeadStatus(R,"verified"),r(i.map(te=>te.id===R?{...te,status:"verified"}:te))}catch{h("Failed to verify lead")}finally{j(null)}},$=async R=>{j(R);try{await ie.updateLeadStatus(R,"unknown"),r(i.map(te=>te.id===R?{...te,status:"unknown"}:te))}catch{h("Failed to mark lead as unknown")}finally{j(null)}},P=async(R,te)=>{if(confirm(`Are you sure you want to delete "${te||"this lead"}"? This action cannot be undone.`)){j(R);try{await ie.deleteLead(R),r(re=>re.filter(W=>W.id!==R)),h("")}catch(re){console.error("Delete error details:",{message:re.message,stack:re.stack,error:re}),h(`Failed to delete lead: ${re.message||"Unknown error"}`)}finally{j(null)}}},Q=async R=>{if(!R.phone){h("Cannot send follow-up: Lead has no phone number");return}if(confirm(`Send a follow-up SMS to ${R.name||"this lead"} at ${R.phone}?`)){j(`followup-${R.id}`);try{const te=await ie.triggerFollowUp(R.id);te.success?(r(re=>re.map(W=>W.id===R.id?{...W,extra_data:{...W.extra_data,followup_scheduled:!0}}:W)),h("")):h(te.message||"Failed to trigger follow-up")}catch(te){console.error("Follow-up error:",te),h(`Failed to trigger follow-up: ${te.message||"Unknown error"}`)}finally{j(null)}}},U=R=>R.phone&&!R.extra_data?.followup_sent_at&&!R.extra_data?.followup_scheduled,E=async R=>{x(R),Y(!0),N(null);try{const te=await ie.getLeadConversation(R.id);N(te)}catch(te){console.error("Failed to load conversation:",te)}finally{Y(!1)}},le=()=>{x(null),N(null)};if(u)return n.jsx(it,{message:"Loading dashboard...",fullPage:!0});if(f&&i.length===0)return n.jsx(Wt,{message:f,onRetry:J});const ne=R=>R.status==="verified"||R.status==="unknown"?"lead-row processed":"lead-row",Z=R=>{switch(R.extra_data?.source){case"chatbot":case"web_chat":case"web_chat_lead":return{icon:n.jsx(gm,{}),title:"Chatbot"};case"voice_call":case"phone":case"call":return{icon:"",title:"Phone Call"};case"sms":case"text":return{icon:"",title:"Text Message"};case"email":return{icon:n.jsx(Fb,{}),title:"Email"};default:return{icon:n.jsx(gm,{}),title:"Chatbot"}}},G=R=>R.llm_responded===!0?{className:"responded",title:"LLM responded"}:R.llm_responded===!1?{className:"not-responded",title:"No LLM response"}:{className:"no-conversation",title:"No conversation"};return n.jsxs("div",{className:"dashboard",children:[n.jsx("h1",{children:"Dashboard"}),n.jsx("div",{className:"dashboard-grid",children:n.jsxs("div",{className:"card leads-card leads-card-wide",children:[n.jsx("h2",{children:"Recent Leads"}),f&&n.jsx("div",{className:"error",children:f}),i.length===0?n.jsx(Ze,{icon:"",title:"No leads yet",description:"Start conversations to generate leads."}):n.jsx("div",{className:"leads-table-container",children:n.jsxs("table",{className:"leads-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"col-name",children:"Name"}),n.jsx("th",{className:"col-email",children:"Email"}),n.jsx("th",{className:"col-phone",children:"Phone"}),n.jsx("th",{className:"col-source",children:"Source"}),n.jsx("th",{className:"col-date",children:"Date"}),n.jsx("th",{className:"col-status",children:"Status"}),n.jsx("th",{className:"col-actions",children:"Actions"})]})}),n.jsx("tbody",{children:i.map(R=>n.jsxs("tr",{className:ne(R),children:[n.jsx("td",{className:"col-name",children:R.name||"Unknown"}),n.jsx("td",{className:"col-email",children:R.email||"-"}),n.jsx("td",{className:"col-phone",children:R.phone||"-"}),n.jsxs("td",{className:"col-source",children:[n.jsx("span",{className:"source-icon",title:Z(R).title,children:Z(R).icon}),n.jsx("span",{className:`response-indicator ${G(R).className}`,title:G(R).title})]}),n.jsx("td",{className:"col-date",children:Zb(R.created_at)}),n.jsxs("td",{className:"col-status",children:[n.jsx("span",{className:`status-badge ${R.status||"new"}`,children:R.status||"New"}),n.jsx("button",{className:"btn-chat-icon",onClick:()=>E(R),title:"View details","aria-label":"View lead details",children:n.jsx($b,{})})]}),n.jsx("td",{className:"actions-cell col-actions",children:n.jsxs("div",{className:"actions-container",children:[U(R)&&n.jsx("button",{className:"btn-action btn-followup",onClick:()=>Q(R),disabled:g===`followup-${R.id}`,title:"Send follow-up SMS","aria-label":"Send follow-up SMS",children:g===`followup-${R.id}`?n.jsx("span",{className:"spinner",children:""}):n.jsx(Jb,{})}),!R.status||R.status==="new"?n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"btn-action btn-verify",onClick:()=>k(R.id),disabled:g===R.id,title:"Mark as verified lead","aria-label":"Verify lead",children:g===R.id?n.jsx("span",{className:"spinner",children:""}):n.jsx("svg",{className:"icon",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:n.jsx("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"})})}),n.jsx("button",{className:"btn-action btn-unknown",onClick:()=>$(R.id),disabled:g===R.id,title:"Mark as unknown/spam","aria-label":"Mark as unknown",children:g===R.id?n.jsx("span",{className:"spinner",children:""}):n.jsx("svg",{className:"icon",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})})]}):R.status==="verified"?n.jsx("button",{className:"btn-action btn-sync",onClick:()=>k(R.id),disabled:g===R.id,title:"Re-sync to create contact","aria-label":"Sync contact",children:g===R.id?n.jsx("span",{className:"spinner",children:""}):n.jsx("svg",{className:"icon",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:n.jsx("path",{fillRule:"evenodd",d:"M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z",clipRule:"evenodd"})})}):n.jsx("div",{className:"action-placeholder","aria-hidden":"true"}),n.jsx("button",{className:"btn-action btn-delete",onClick:()=>P(R.id,R.name),disabled:g===R.id,title:"Permanently delete this lead","aria-label":"Delete lead",children:g===R.id?n.jsx("span",{className:"spinner",children:""}):n.jsx("svg",{className:"icon",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:n.jsx("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z",clipRule:"evenodd"})})})]})})]},R.id))})]})})]})}),y&&n.jsx("div",{className:"lead-detail-modal-overlay",onClick:le,children:n.jsxs("div",{className:"lead-detail-modal",onClick:R=>R.stopPropagation(),children:[n.jsxs("div",{className:"lead-detail-modal-header",children:[n.jsx("h3",{children:"Lead Details"}),n.jsx("button",{className:"btn-close",onClick:le,children:""})]}),n.jsxs("div",{className:"lead-detail-modal-body",children:[n.jsxs("div",{className:"lead-detail-section",children:[n.jsx("h4",{children:"Contact Information"}),n.jsxs("div",{className:"lead-detail-row",children:[n.jsx("span",{className:"label",children:"Name:"}),n.jsx("span",{className:"value",children:y.name||"Unknown"})]}),n.jsxs("div",{className:"lead-detail-row",children:[n.jsx("span",{className:"label",children:"Email:"}),n.jsx("span",{className:"value",children:y.email||"-"})]}),n.jsxs("div",{className:"lead-detail-row",children:[n.jsx("span",{className:"label",children:"Phone:"}),n.jsx("span",{className:"value",children:y.phone||"-"})]}),n.jsxs("div",{className:"lead-detail-row",children:[n.jsx("span",{className:"label",children:"Source:"}),n.jsx("span",{className:"value",children:y.extra_data?.source||"chatbot"})]})]}),y.extra_data&&Object.keys(y.extra_data).filter(R=>R!=="source"&&R!=="parsing_metadata").length>0&&n.jsxs("div",{className:"lead-detail-section",children:[n.jsx("h4",{children:"Form Submission Details"}),n.jsx("p",{className:"form-note",children:"This person completed a form for more information."}),n.jsx("div",{className:"form-fields",children:Object.entries(y.extra_data).filter(([R])=>R!=="source"&&R!=="parsing_metadata").map(([R,te])=>n.jsxs("div",{className:"lead-detail-row",children:[n.jsxs("span",{className:"label",children:[R.replace(/_/g," ").replace(/\b\w/g,re=>re.toUpperCase()),":"]}),n.jsx("span",{className:"value",children:String(te)})]},R))})]}),n.jsxs("div",{className:"lead-detail-section",children:[n.jsx("h4",{children:"Conversation History"}),z?n.jsx(it,{message:"Loading conversation..."}):m&&m.messages?.length>0?n.jsx("div",{className:"messages-list",children:m.messages.map((R,te)=>n.jsxs("div",{className:`message ${R.role}`,children:[n.jsx("div",{className:"message-role",children:R.role==="user"?"User":"Bot"}),n.jsx("div",{className:"message-content",children:R.content})]},te))}):n.jsx("p",{className:"no-conversation",children:"No conversation history available."})]})]})]})})]})}const vm=["system","base"],Pm=[{value:"pricing",label:"Pricing Info",icon:""},{value:"faq",label:"FAQ",icon:""},{value:"business_info",label:"Business Info",icon:""},{value:"custom",label:"Custom",icon:""}],Pb=[{value:"system",label:"System Instructions",icon:"",readonly:!0},{value:"base",label:"Base Prompt",icon:"",readonly:!0},...Pm.map(i=>({...i,readonly:!1}))];function Wb(){const i=Kt(),[r,u]=qm(),[o,f]=v.useState([]),[h,g]=v.useState(!0),[j,y]=v.useState(null),[x,m]=v.useState(null),[N,z]=v.useState(null),[Y,J]=v.useState([]),[k,$]=v.useState(""),[P,Q]=v.useState(null),[U,E]=v.useState(!1),[le,ne]=v.useState(null),[Z,G]=v.useState(null),[R,te]=v.useState(null),re=v.useRef(null),[W,xe]=v.useState(""),[ve,se]=v.useState("all"),[M,C]=v.useState("updated"),[I,ce]=v.useState([]);v.useEffect(()=>{const B=r.get("test");if(B&&o.length>0){const oe=o.find(pe=>pe.id===parseInt(B,10));oe&&(Se(oe),u({}))}},[o,r,u]),v.useEffect(()=>{me()},[]),v.useEffect(()=>{re.current&&re.current.scrollIntoView({behavior:"smooth"})},[Y,U]);const me=async()=>{g(!0),y(null);try{const B=await ie.getPromptBundles().catch(()=>[]);f(Array.isArray(B)?B:[])}catch(B){console.error("Failed to fetch bundles:",B),y(B.message||"Failed to load prompt bundles")}finally{g(!1)}},b=async B=>{B.preventDefault();try{const oe=await ie.updatePromptBundle(x.id,{name:x.name,sections:x.sections});f(o.map(pe=>pe.id===oe.id?oe:pe)),m(null),ct("Prompt updated successfully","success")}catch(oe){ct("Failed to update prompt: "+oe.message,"error")}},q=async B=>{if(confirm("Publish this prompt? It will become live and active for all chatbot users.")){ne(B);try{const oe=await ie.publishPromptBundle(B);f(o.map(pe=>pe.id===oe.id?oe:pe)),ct("Prompt published successfully","success")}catch(oe){ct("Failed to publish prompt: "+oe.message,"error")}finally{ne(null)}}},ee=async B=>{if(B.status==="production"){ct("Cannot delete a live prompt. Deactivate it first.","error");return}if(confirm(`Delete "${B.name}"?

This action cannot be undone.`)){G(B.id);try{await ie.deletePromptBundle(B.id),f(o.filter(oe=>oe.id!==B.id)),ct("Prompt deleted successfully","success")}catch(oe){ct("Failed to delete prompt: "+oe.message,"error")}finally{G(null)}}},ae=async B=>{if(confirm(`Deactivate "${B.name}"?

This will remove it from production. Your chatbot will use default responses until you publish another prompt.`)){te(B.id);try{const oe=await ie.deactivatePromptBundle(B.id);f(o.map(pe=>pe.id===oe.id?oe:pe)),ct("Prompt deactivated successfully","success")}catch(oe){ct("Failed to deactivate prompt: "+oe.message,"error")}finally{te(null)}}},H=()=>{J([]),$(""),Q(null),E(!1)},ge=async B=>{B.preventDefault();const oe=k.trim();if(!oe||!N)return;const pe=Y.filter(Ge=>Ge.role!=="error"),Ke={role:"user",content:oe};J(Ge=>[...Ge,Ke]),$(""),E(!0),Q(null);try{const Ge=await ie.testPrompt(N?.id,oe,pe);J(Ue=>[...Ue,{role:"assistant",content:Ge.response}]),Q({composed_prompt:Ge.composed_prompt})}catch(Ge){const Ue=Ge.message||"Test failed";J(xs=>[...xs,{role:"error",content:Ue}]),Q({error:Ue})}finally{E(!1)}},Se=B=>{H(),z(B)},qe=async B=>{try{const oe=await ie.getPromptBundle(B.id);m(oe)}catch{alert("Failed to load bundle details")}},V=(B,oe)=>{const pe={section_key:"",scope:"custom",content:"",order:B.sections.length};oe({...B,sections:[...B.sections,pe]})},Xe=(B,oe,pe,Ke,Ge)=>{const Ue=[...B.sections];Ue[pe]={...Ue[pe],[Ke]:Ge},oe({...B,sections:Ue})},S=(B,oe,pe)=>{const Ke=B.sections.filter((Ge,Ue)=>Ue!==pe);oe({...B,sections:Ke})},ye=B=>{const oe={draft:{color:"#475569",bg:"#f1f5f9",label:"Draft",icon:""},testing:{color:"#d97706",bg:"#fffbeb",label:"Testing",icon:""},production:{color:"#059669",bg:"#d1fae5",label:"Live",icon:""}},{color:pe,bg:Ke,label:Ge,icon:Ue}=oe[B]||oe.draft;return n.jsxs("span",{className:"status-badge",style:{backgroundColor:Ke,color:pe},children:[n.jsx("span",{className:"status-badge__icon",children:Ue}),n.jsx("span",{className:"status-badge__label",children:Ge})]})},Fe=B=>Pb.find(oe=>oe.value===B)||{label:B,icon:"",readonly:!1},He=B=>vm.includes(B),ra=B=>!vm.includes(B),ct=(B,oe="success")=>{const pe=Date.now();ce(Ke=>[...Ke,{id:pe,message:B,type:oe,duration:3e3}])},Tn=B=>{ce(oe=>oe.filter(pe=>pe.id!==B))},an=v.useMemo(()=>{let B=o;if(W){const oe=W.toLowerCase();B=B.filter(pe=>pe.name.toLowerCase().includes(oe)||pe.sections?.some(Ke=>Ke.section_key?.toLowerCase().includes(oe)))}return ve!=="all"&&(B=B.filter(oe=>oe.status===ve)),B=[...B].sort((oe,pe)=>{switch(M){case"name":return oe.name.localeCompare(pe.name);case"updated":const Ke=new Date(oe.updated_at||oe.created_at||0);return new Date(pe.updated_at||pe.created_at||0)-Ke;case"created":const Ue=new Date(oe.created_at||0);return new Date(pe.created_at||0)-Ue;default:return 0}}),B},[o,W,ve,M]);return h?n.jsx("div",{className:"prompts-page",children:n.jsx(it,{message:"Loading prompts...",fullPage:!0})}):j?n.jsx("div",{className:"prompts-page",children:n.jsx(Wt,{message:j,onRetry:me})}):n.jsxs("div",{className:"prompts-page",children:[n.jsx(lx,{toasts:I,removeToast:Tn}),n.jsxs("div",{className:"prompts-header",children:[n.jsxs("div",{className:"prompts-header__title",children:[n.jsx("h1",{children:"Prompts"}),n.jsx("p",{className:"prompts-header__subtitle",children:"Use the AI Wizard to create custom prompts for your chatbot."})]}),n.jsx("div",{className:"prompts-header__actions",children:n.jsxs("button",{className:"btn btn--ai",onClick:()=>i("/settings/prompts/wizard"),children:[n.jsx("span",{className:"btn__icon",children:""}),"Build with AI"]})})]}),n.jsxs("div",{className:"toolbar",children:[n.jsxs("div",{className:"toolbar__search",children:[n.jsxs("svg",{className:"toolbar__search-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[n.jsx("path",{d:"M7 12A5 5 0 1 0 7 2a5 5 0 0 0 0 10zm0-1.5a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7z",fill:"currentColor"}),n.jsx("path",{d:"M10.5 10.5l3 3-1 1-3-3 1-1z",fill:"currentColor"})]}),n.jsx("input",{type:"text",className:"toolbar__search-input",placeholder:"Search prompts...",value:W,onChange:B=>xe(B.target.value)})]}),n.jsxs("div",{className:"toolbar__filters",children:[n.jsx("div",{className:"toolbar__tabs",children:[{value:"all",label:"All"},{value:"production",label:"Live"},{value:"draft",label:"Draft"},{value:"testing",label:"Testing"}].map(B=>n.jsx("button",{className:`toolbar__tab ${ve===B.value?"toolbar__tab--active":""}`,onClick:()=>se(B.value),children:B.label},B.value))}),n.jsxs("select",{className:"toolbar__sort",value:M,onChange:B=>C(B.target.value),children:[n.jsx("option",{value:"updated",children:"Last updated"}),n.jsx("option",{value:"created",children:"Recently created"}),n.jsx("option",{value:"name",children:"Name (A-Z)"})]})]})]}),x&&n.jsx("div",{className:"modal-overlay",onClick:()=>m(null),children:n.jsxs("div",{className:"modal large-modal",onClick:B=>B.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("div",{className:"modal-title-group",children:[n.jsxs("h2",{children:[x.status==="production"?"View Prompt":"Edit Prompt",": ",x.name]}),ye(x.status)]}),n.jsx("button",{className:"modal-close",onClick:()=>m(null),children:""})]}),x.status==="production"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"production-warning",children:[n.jsx("span",{className:"warning-icon",children:""}),n.jsx("span",{children:"This prompt is currently live. To make changes, deactivate it first or create a new draft."})]}),n.jsx("div",{className:"readonly-sections",tabIndex:0,children:x.sections?.map((B,oe)=>{const pe=Fe(B.scope),Ke=He(B.scope);return n.jsxs("div",{className:`section-readonly ${Ke?"section-readonly--base":""}`,children:[n.jsxs("div",{className:"section-readonly-header",children:[n.jsx("span",{className:"scope-icon",children:pe.icon}),n.jsx("span",{className:"section-key-display",children:B.section_key}),n.jsx("span",{className:"section-scope-badge",children:pe.label}),Ke&&n.jsx("span",{className:"base-badge",children:"Base (Read-only)"})]}),n.jsx("pre",{className:"section-readonly-content",children:B.content})]},oe)})}),n.jsxs("div",{className:"modal-actions",children:[n.jsx("button",{type:"button",className:"btn-warning",onClick:()=>{m(null),ae(x)},disabled:R===x.id,children:R===x.id?"Deactivating...":"Deactivate Prompt"}),n.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>m(null),children:"Close"})]})]}):n.jsxs("form",{onSubmit:b,children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Prompt Name"}),n.jsx("input",{type:"text",value:x.name,onChange:B=>m({...x,name:B.target.value}),required:!0})]}),x.sections?.some(B=>He(B.scope))&&n.jsxs("div",{className:"sections-group",children:[n.jsxs("div",{className:"sections-group-header",children:[n.jsx("h3",{children:"Base Prompts (Read-only)"}),n.jsx("span",{className:"sections-group-description",children:"These are system-managed and cannot be edited"})]}),n.jsx("div",{className:"sections-list sections-list--readonly",children:x.sections.filter(B=>He(B.scope)).map((B,oe)=>{const pe=x.sections.indexOf(B),Ke=Fe(B.scope);return n.jsxs("div",{className:"section-readonly section-readonly--base",children:[n.jsxs("div",{className:"section-readonly-header",children:[n.jsx("span",{className:"scope-icon",children:Ke.icon}),n.jsx("span",{className:"section-key-display",children:B.section_key}),n.jsx("span",{className:"section-scope-badge",children:Ke.label}),n.jsx("span",{className:"base-badge",children:"Base (Read-only)"})]}),n.jsx("pre",{className:"section-readonly-content",children:B.content})]},pe)})})]}),n.jsxs("div",{className:"sections-group",children:[n.jsxs("div",{className:"sections-group-header",children:[n.jsx("h3",{children:"Your Custom Prompts"}),n.jsx("button",{type:"button",className:"btn-secondary btn-small",onClick:()=>V(x,m),children:"+ Add Custom Section"})]}),n.jsxs("div",{className:"sections-list",children:[x.sections.filter(B=>ra(B.scope)).map((B,oe)=>{const pe=x.sections.indexOf(B),Ke=Fe(B.scope);return n.jsxs("div",{className:"section-editor",children:[n.jsxs("div",{className:"section-editor-header",children:[n.jsx("span",{className:"scope-icon",children:Ke.icon}),n.jsx("input",{type:"text",placeholder:"Section key",value:B.section_key,onChange:Ge=>Xe(x,m,pe,"section_key",Ge.target.value),required:!0}),n.jsx("select",{value:B.scope,onChange:Ge=>Xe(x,m,pe,"scope",Ge.target.value),children:Pm.map(Ge=>n.jsx("option",{value:Ge.value,children:Ge.label},Ge.value))}),n.jsx("button",{type:"button",className:"btn-danger-small",onClick:()=>S(x,m,pe),children:"Remove"})]}),n.jsx("textarea",{value:B.content,onChange:Ge=>Xe(x,m,pe,"content",Ge.target.value),rows:6,required:!0})]},pe)}),x.sections?.filter(B=>ra(B.scope)).length===0&&n.jsx("div",{className:"empty-sections-message",children:n.jsx("p",{children:'No custom sections yet. Click "+ Add Custom Section" to create your first editable prompt.'})})]})]}),n.jsxs("div",{className:"modal-actions",children:[n.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>m(null),children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn-primary",children:"Save Changes"})]})]})]})}),N&&n.jsx("div",{className:"modal-overlay",onClick:()=>{z(null),H()},children:n.jsxs("div",{className:"modal test-modal",onClick:B=>B.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h2",{children:["Test: ",N.name]}),n.jsx("button",{className:"modal-close",onClick:()=>{z(null),H()},children:""})]}),n.jsx("p",{className:"modal-subtitle",children:"Chat with the test bot using the same pipeline as production."}),n.jsxs("div",{className:"test-chat",children:[n.jsxs("div",{className:"test-chat__header",children:[n.jsx("span",{className:"test-chat__hint",children:"Tip: press Enter to send, Shift+Enter for a new line."}),n.jsx("button",{type:"button",className:"btn btn--ghost btn--sm",onClick:H,children:"Clear chat"})]}),n.jsxs("div",{className:"test-chat__messages",children:[Y.length===0?n.jsx("div",{className:"test-chat__empty",children:"Start the conversation to see how your chatbot responds."}):Y.map((B,oe)=>n.jsx("div",{className:`test-chat__message test-chat__message--${B.role}`,children:n.jsx("div",{className:"test-chat__bubble",children:B.content})},`${B.role}-${oe}`)),U&&n.jsx("div",{className:"test-chat__message test-chat__message--assistant",children:n.jsxs("div",{className:"test-chat__bubble test-chat__typing",children:[n.jsx("span",{}),n.jsx("span",{}),n.jsx("span",{})]})}),n.jsx("div",{ref:re})]}),n.jsxs("form",{className:"test-chat__composer",onSubmit:ge,children:[n.jsx("textarea",{value:k,onChange:B=>$(B.target.value),onKeyDown:B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),ge(B))},placeholder:"Type a message... (e.g., 'What swim classes do you offer for a 4 year old?')",rows:2,disabled:U}),n.jsx("button",{type:"submit",className:"btn-primary",disabled:U||!k.trim(),children:U?"Sending...":"Send"})]}),P?.composed_prompt&&n.jsxs("details",{className:"debug-details",children:[n.jsx("summary",{children:"View Composed Prompt (Debug)"}),n.jsx("pre",{className:"composed-prompt",children:P.composed_prompt})]})]})]})}),n.jsx("div",{className:"prompts-content",children:o.length===0?n.jsxs("div",{className:"empty-state-wizard",children:[n.jsx("div",{className:"empty-state-wizard__icon",children:""}),n.jsx("h2",{children:"No custom prompts yet"}),n.jsx("p",{children:"Create your first chatbot prompt using the AI Wizard - just answer a few questions about your business!"}),n.jsx("div",{className:"empty-state-wizard__actions",children:n.jsxs("button",{className:"btn btn--ai btn--lg",onClick:()=>i("/settings/prompts/wizard"),children:[n.jsx("span",{className:"btn__icon",children:""}),"Build with AI Wizard"]})})]}):an.length===0?n.jsxs("div",{className:"prompts-empty-filter",children:[n.jsx("p",{children:"No prompts match your filters."}),n.jsx("button",{className:"btn btn--ghost",onClick:()=>{xe(""),se("all")},children:"Clear filters"})]}):n.jsx("div",{className:"prompts-list",children:an.map(B=>{const oe=B.updated_at||B.created_at,pe=B.status==="production";return n.jsxs("div",{className:`prompt-item ${pe?"prompt-item--live":""}`,children:[n.jsxs("div",{className:"prompt-item__main",children:[n.jsxs("div",{className:"prompt-item__header",children:[n.jsx("h3",{className:"prompt-item__title",children:B.name}),ye(B.status)]}),n.jsxs("div",{className:"prompt-item__meta",children:[n.jsxs("span",{className:"prompt-item__meta-item",children:[B.sections?.length||0," sections"]}),oe&&n.jsxs("span",{className:"prompt-item__meta-item",children:["Updated ",new Date(oe).toLocaleDateString("en-US",{month:"short",day:"numeric"})]}),B.published_at&&n.jsxs("span",{className:"prompt-item__meta-item",children:["Published ",new Date(B.published_at).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]})]}),n.jsxs("div",{className:"prompt-item__actions",children:[n.jsx("button",{className:"btn btn--ghost btn--sm",onClick:()=>qe(B),title:B.status==="production"?"View":"Edit",children:B.status==="production"?"View":"Edit"}),n.jsx("button",{className:"btn btn--ghost btn--sm",onClick:()=>Se(B),title:"Test prompt",children:"Test"}),B.status==="production"?n.jsx("button",{className:"btn btn--ghost btn--sm btn--warning",onClick:()=>ae(B),disabled:R===B.id,title:"Deactivate",children:R===B.id?"Deactivating...":"Deactivate"}):n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"btn btn--primary btn--sm",onClick:()=>q(B.id),disabled:le===B.id,title:"Publish to production",children:le===B.id?"Publishing...":"Publish"}),n.jsx("button",{className:"btn btn--ghost btn--sm btn--danger",onClick:()=>ee(B),disabled:Z===B.id,title:"Delete",children:Z===B.id?"Deleting...":"Delete"})]})]})]},B.id)})})})]})}function Aa(i,r={}){const{defaultValue:u=null,immediate:o=!0,deps:f=[]}=r,[h,g]=v.useState(u),[j,y]=v.useState(o),[x,m]=v.useState(null),N=v.useCallback(async()=>{y(!0),m(null);try{const z=await i();return g(z),z}catch(z){return m(z.message||"An error occurred"),u}finally{y(!1)}},[i,u]);return v.useEffect(()=>{o&&N()},[o,...f]),{data:h,loading:j,error:x,refetch:N,setData:g}}function Ib({contact:i,onClose:r}){const[u,o]=v.useState(null),[f,h]=v.useState(!0),[g,j]=v.useState(null);return v.useEffect(()=>{const y=async()=>{try{h(!0);const x=await ie.getContactConversation(i.id);o(x)}catch(x){j(x.message||"Failed to load conversation")}finally{h(!1)}};i?.id&&y()},[i?.id]),v.useEffect(()=>{const y=x=>{x.key==="Escape"&&r()};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),v.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]),n.jsx("div",{className:"chat-modal-overlay",onClick:r,children:n.jsxs("div",{className:"chat-modal-drawer",onClick:y=>y.stopPropagation(),children:[n.jsxs("div",{className:"chat-modal-header",children:[n.jsxs("div",{className:"chat-modal-contact",children:[n.jsx("div",{className:"chat-modal-avatar",children:(i.name||"U")[0].toUpperCase()}),n.jsxs("div",{className:"chat-modal-info",children:[n.jsx("h3",{children:i.name||"Unknown"}),n.jsx("span",{className:"chat-modal-email",children:i.email||i.phone||"-"})]})]}),n.jsx("button",{className:"chat-modal-close",onClick:r,children:""})]}),n.jsx("div",{className:"chat-modal-body",children:f?n.jsxs("div",{className:"chat-modal-loading",children:[n.jsx("div",{className:"spinner"}),n.jsx("p",{children:"Loading conversation..."})]}):g?n.jsxs("div",{className:"chat-modal-empty",children:[n.jsx("span",{className:"empty-icon",children:""}),n.jsx("p",{children:"No conversation found"}),n.jsx("span",{className:"empty-sub",children:"This contact may not have a linked chat history."})]}):u?.messages?.length>0?n.jsx("div",{className:"chat-messages",children:u.messages.map(y=>n.jsx("div",{className:`chat-message ${y.role}`,children:n.jsxs("div",{className:"message-bubble",children:[n.jsx("div",{className:"message-content",children:y.content}),n.jsx("div",{className:"message-time",children:new Date(y.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},y.id))}):n.jsxs("div",{className:"chat-modal-empty",children:[n.jsx("span",{className:"empty-icon",children:""}),n.jsx("p",{children:"No messages yet"})]})}),n.jsxs("div",{className:"chat-modal-footer",children:[n.jsxs("span",{className:"chat-source",children:["Source: ",u?.channel||i.source||"web_chat"]}),u?.created_at&&n.jsxs("span",{className:"chat-date",children:["Started: ",new Date(u.created_at).toLocaleDateString()]})]})]})})}function Wm({contact:i,onSuccess:r,onCancel:u}){const[o,f]=v.useState(!1),[h,g]=v.useState(""),[j,y]=v.useState({name:i?.name||"",email:i?.email||"",phone:i?.phone||""}),[x,m]=v.useState([]),[N,z]=v.useState(!0),[Y,J]=v.useState({alias_type:"email",value:""}),[k,$]=v.useState(!1);v.useEffect(()=>{i?.id&&P()},[i?.id]);const P=async()=>{z(!0);try{const G=await ie.getContactAliases(i.id);m(G||[])}catch(G){console.error("Failed to fetch aliases:",G)}finally{z(!1)}},Q=G=>{const{name:R,value:te}=G.target;y(re=>({...re,[R]:te}))},U=async G=>{G.preventDefault(),f(!0),g("");try{await ie.updateContact(i.id,{name:j.name||null,email:j.email||null,phone:j.phone||null}),r()}catch(R){g(R.message||"Failed to update contact"),f(!1)}},E=async()=>{if(Y.value.trim()){$(!0),g("");try{const G=await ie.addContactAlias(i.id,{alias_type:Y.alias_type,value:Y.value.trim(),is_primary:!1});m(R=>[...R,G]),J({alias_type:"email",value:""})}catch(G){g(G.message||"Failed to add alias")}finally{$(!1)}}},le=async G=>{try{await ie.removeContactAlias(i.id,G),m(R=>R.filter(te=>te.id!==G))}catch(R){g(R.message||"Failed to remove alias")}},ne=async(G,R)=>{try{await ie.setPrimaryAlias(i.id,G),m(re=>re.map(W=>({...W,is_primary:W.id===G?!0:W.alias_type===R?!1:W.is_primary})));const te=x.find(re=>re.id===G);te&&(R==="email"&&y(re=>({...re,email:te.value})),R==="phone"&&y(re=>({...re,phone:te.value})),R==="name"&&y(re=>({...re,name:te.value})))}catch(te){g(te.message||"Failed to set primary alias")}},Z={email:x.filter(G=>G.alias_type==="email"),phone:x.filter(G=>G.alias_type==="phone"),name:x.filter(G=>G.alias_type==="name")};return n.jsx("div",{className:"modal-overlay",onClick:u,children:n.jsxs("div",{className:"modal edit-contact-modal",onClick:G=>G.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{children:"Edit Contact"}),n.jsx("button",{className:"close-btn",onClick:u,disabled:o,children:""})]}),n.jsxs("form",{onSubmit:U,children:[n.jsxs("div",{className:"modal-body",children:[h&&n.jsx("div",{className:"error-message",children:h}),n.jsxs("div",{className:"form-section",children:[n.jsx("h3",{children:"Contact Information"}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"name",children:"Name"}),n.jsx("input",{type:"text",id:"name",name:"name",value:j.name,onChange:Q,placeholder:"Contact name"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"email",children:"Primary Email"}),n.jsx("input",{type:"email",id:"email",name:"email",value:j.email,onChange:Q,placeholder:"primary@email.com"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"phone",children:"Primary Phone"}),n.jsx("input",{type:"tel",id:"phone",name:"phone",value:j.phone,onChange:Q,placeholder:"+1 555-123-4567"})]})]}),n.jsxs("div",{className:"form-section aliases-section",children:[n.jsx("h3",{children:"Additional Identifiers (Aliases)"}),n.jsx("p",{className:"section-description",children:"Add alternate emails, phone numbers, or name spellings for this contact."}),N?n.jsx("div",{className:"loading-aliases",children:"Loading aliases..."}):n.jsxs(n.Fragment,{children:[Z.email.length>0&&n.jsxs("div",{className:"alias-group",children:[n.jsx("h4",{children:"Emails"}),n.jsx("div",{className:"alias-list",children:Z.email.map(G=>n.jsxs("div",{className:`alias-item ${G.is_primary?"primary":""}`,children:[n.jsx("span",{className:"alias-value",children:G.value}),G.is_primary?n.jsx("span",{className:"primary-badge",children:"Primary"}):n.jsxs("div",{className:"alias-actions",children:[n.jsx("button",{type:"button",className:"btn-set-primary",onClick:()=>ne(G.id,"email"),title:"Set as primary",children:"Set Primary"}),n.jsx("button",{type:"button",className:"btn-remove-alias",onClick:()=>le(G.id),title:"Remove",children:""})]})]},G.id))})]}),Z.phone.length>0&&n.jsxs("div",{className:"alias-group",children:[n.jsx("h4",{children:"Phone Numbers"}),n.jsx("div",{className:"alias-list",children:Z.phone.map(G=>n.jsxs("div",{className:`alias-item ${G.is_primary?"primary":""}`,children:[n.jsx("span",{className:"alias-value",children:G.value}),G.is_primary?n.jsx("span",{className:"primary-badge",children:"Primary"}):n.jsxs("div",{className:"alias-actions",children:[n.jsx("button",{type:"button",className:"btn-set-primary",onClick:()=>ne(G.id,"phone"),title:"Set as primary",children:"Set Primary"}),n.jsx("button",{type:"button",className:"btn-remove-alias",onClick:()=>le(G.id),title:"Remove",children:""})]})]},G.id))})]}),Z.name.length>0&&n.jsxs("div",{className:"alias-group",children:[n.jsx("h4",{children:"Name Variations"}),n.jsx("div",{className:"alias-list",children:Z.name.map(G=>n.jsxs("div",{className:`alias-item ${G.is_primary?"primary":""}`,children:[n.jsx("span",{className:"alias-value",children:G.value}),G.is_primary?n.jsx("span",{className:"primary-badge",children:"Primary"}):n.jsxs("div",{className:"alias-actions",children:[n.jsx("button",{type:"button",className:"btn-set-primary",onClick:()=>ne(G.id,"name"),title:"Set as primary",children:"Set Primary"}),n.jsx("button",{type:"button",className:"btn-remove-alias",onClick:()=>le(G.id),title:"Remove",children:""})]})]},G.id))})]}),n.jsxs("div",{className:"add-alias-form",children:[n.jsxs("select",{value:Y.alias_type,onChange:G=>J(R=>({...R,alias_type:G.target.value})),disabled:k,children:[n.jsx("option",{value:"email",children:"Email"}),n.jsx("option",{value:"phone",children:"Phone"}),n.jsx("option",{value:"name",children:"Name"})]}),n.jsx("input",{type:"text",value:Y.value,onChange:G=>J(R=>({...R,value:G.target.value})),placeholder:`Add ${Y.alias_type}...`,disabled:k}),n.jsx("button",{type:"button",className:"btn-add-alias",onClick:E,disabled:k||!Y.value.trim(),children:k?"Adding...":"Add"})]})]})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn-cancel",onClick:u,disabled:o,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn-save",disabled:o,children:o?"Saving...":"Save Changes"})]})]})]})})}function ej({contacts:i,onSuccess:r,onCancel:u}){const[o,f]=v.useState(1),[h,g]=v.useState(!1),[j,y]=v.useState(""),[x,m]=v.useState(null),[N,z]=v.useState(null),[Y,J]=v.useState({}),[k,$]=v.useState(!1);v.useEffect(()=>{P()},[]);const P=async()=>{g(!0),y("");try{const W=i.map(se=>se.id),xe=await ie.getMergePreview(W);m(xe),xe.suggested_primary_id&&z(xe.suggested_primary_id);const ve={};xe.conflicts.forEach(se=>{ve[se.field]="primary"}),J(ve)}catch(W){y(W.message||"Failed to get merge preview")}finally{g(!1)}},Q=W=>{z(W)},U=(W,xe)=>{J(ve=>({...ve,[W]:xe}))},E=()=>{if(o===1){if(!N){y("Please select a primary contact");return}y(""),x?.conflicts?.length?f(2):f(3)}else o===2&&f(3)},le=()=>{y(""),o===3&&!x?.conflicts?.length?f(1):f(o-1)},ne=async()=>{$(!0),y("");try{const W=i.filter(xe=>xe.id!==N).map(xe=>xe.id);await ie.mergeContacts(N,W,Y),r()}catch(W){console.error("Merge failed:",W),y(W.message||"Failed to merge contacts"),$(!1)}},Z=()=>i.find(W=>W.id===N),G=()=>i.filter(W=>W.id!==N),R=()=>n.jsxs("div",{className:"merge-step",children:[n.jsx("h3",{children:"Step 1: Select Primary Contact"}),n.jsx("p",{className:"step-description",children:"Choose which contact will be the primary record. The other contact(s) will be merged into this one."}),n.jsx("div",{className:"contact-selection",children:i.map(W=>n.jsxs("label",{className:`contact-option ${N===W.id?"selected":""}`,children:[n.jsx("input",{type:"radio",name:"primary-contact",checked:N===W.id,onChange:()=>Q(W.id)}),n.jsxs("div",{className:"contact-card",children:[n.jsx("div",{className:"contact-avatar",children:(W.name||"U")[0].toUpperCase()}),n.jsxs("div",{className:"contact-details",children:[n.jsx("strong",{children:W.name||"Unknown"}),W.email&&n.jsxs("span",{children:[" ",W.email]}),W.phone&&n.jsxs("span",{children:[" ",W.phone]}),n.jsxs("span",{className:"created-date",children:["Created: ",new Date(W.created_at).toLocaleDateString()]})]}),N===W.id&&n.jsx("span",{className:"primary-badge",children:"Primary"})]})]},W.id))})]}),te=()=>n.jsxs("div",{className:"merge-step",children:[n.jsx("h3",{children:"Step 2: Resolve Conflicts"}),n.jsx("p",{className:"step-description",children:"These contacts have different values for some fields. Choose which value to keep as the primary."}),x?.conflicts?.length===0?n.jsxs("div",{className:"no-conflicts",children:[n.jsx("span",{children:""}),n.jsx("p",{children:"No conflicts detected! All fields match or are empty."})]}):n.jsx("div",{className:"conflicts-list",children:x?.conflicts?.map(W=>n.jsxs("div",{className:"conflict-item",children:[n.jsx("h4",{className:"conflict-field",children:W.field.charAt(0).toUpperCase()+W.field.slice(1)}),n.jsx("div",{className:"conflict-options",children:Object.entries(W.values).map(([xe,ve])=>{const se=i.find(I=>I.id===parseInt(xe)),M=parseInt(xe)===N,C=Y[W.field]===(M?"primary":parseInt(xe));return n.jsxs("label",{className:`conflict-option ${C?"selected":""}`,children:[n.jsx("input",{type:"radio",name:`conflict-${W.field}`,checked:C,onChange:()=>U(W.field,M?"primary":parseInt(xe))}),n.jsxs("div",{className:"option-content",children:[n.jsx("span",{className:"option-value",children:ve||"(empty)"}),n.jsxs("span",{className:"option-source",children:["from ",se?.name||"Unknown",M&&" (primary)"]})]})]},xe)})}),n.jsx("p",{className:"conflict-note",children:" Non-selected values will be saved as aliases"})]},W.field))})]}),re=()=>{const W=Z(),xe=G();return n.jsxs("div",{className:"merge-step",children:[n.jsx("h3",{children:"Step 3: Confirm Merge"}),n.jsx("p",{className:"step-description",children:"Review the merge operation before confirming."}),n.jsxs("div",{className:"merge-summary",children:[n.jsxs("div",{className:"summary-section",children:[n.jsx("h4",{children:"Primary Contact (will survive)"}),n.jsxs("div",{className:"summary-contact primary",children:[n.jsx("div",{className:"contact-avatar",children:(W?.name||"U")[0].toUpperCase()}),n.jsxs("div",{className:"contact-info",children:[n.jsx("strong",{children:W?.name||"Unknown"}),n.jsx("span",{children:W?.email||"-"}),n.jsx("span",{children:W?.phone||"-"})]})]})]}),n.jsx("div",{className:"merge-arrow",children:n.jsx("span",{children:" Merging into"})}),n.jsxs("div",{className:"summary-section",children:[n.jsxs("h4",{children:["Contacts to Merge (",xe.length,")"]}),xe.map(ve=>n.jsxs("div",{className:"summary-contact secondary",children:[n.jsx("div",{className:"contact-avatar secondary",children:(ve.name||"U")[0].toUpperCase()}),n.jsxs("div",{className:"contact-info",children:[n.jsx("strong",{children:ve.name||"Unknown"}),n.jsx("span",{children:ve.email||"-"}),n.jsx("span",{children:ve.phone||"-"})]})]},ve.id))]})]}),n.jsxs("div",{className:"merge-effects",children:[n.jsx("h4",{children:"What will happen:"}),n.jsxs("ul",{children:[n.jsx("li",{children:" All conversations will be linked to the primary contact"}),n.jsx("li",{children:" Secondary contact values will be saved as aliases"}),n.jsx("li",{children:" Merge history will be recorded for audit"}),n.jsx("li",{children:" Secondary contacts will be marked as merged (hidden from lists)"})]})]})]})};return n.jsx("div",{className:"modal-overlay",onClick:u,children:n.jsxs("div",{className:"modal merge-modal",onClick:W=>W.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{children:" Merge Contacts"}),n.jsx("button",{className:"close-btn",onClick:u,disabled:k,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"merge-progress",children:[n.jsxs("div",{className:`progress-step ${o>=1?"active":""} ${o>1?"completed":""}`,children:[n.jsx("span",{className:"step-number",children:"1"}),n.jsx("span",{className:"step-label",children:"Select Primary"})]}),n.jsx("div",{className:"progress-line"}),n.jsxs("div",{className:`progress-step ${o>=2?"active":""} ${o>2?"completed":""}`,children:[n.jsx("span",{className:"step-number",children:"2"}),n.jsx("span",{className:"step-label",children:"Resolve Conflicts"})]}),n.jsx("div",{className:"progress-line"}),n.jsxs("div",{className:`progress-step ${o>=3?"active":""}`,children:[n.jsx("span",{className:"step-number",children:"3"}),n.jsx("span",{className:"step-label",children:"Confirm"})]})]}),j&&n.jsx("div",{className:"error-message",children:j}),h?n.jsxs("div",{className:"loading-state",children:[n.jsx("div",{className:"spinner"}),n.jsx("p",{children:"Loading merge preview..."})]}):n.jsxs(n.Fragment,{children:[o===1&&R(),o===2&&te(),o===3&&re()]})]}),n.jsxs("div",{className:"modal-footer",children:[o>1&&n.jsx("button",{className:"btn-back",onClick:le,disabled:k,children:" Back"}),n.jsxs("div",{className:"footer-right",children:[n.jsx("button",{className:"btn-cancel",onClick:u,disabled:k,children:"Cancel"}),o<3?n.jsx("button",{className:"btn-next",onClick:E,disabled:h||!N,children:"Next "}):n.jsx("button",{className:"btn-merge",onClick:ne,disabled:k,children:k?"Merging...":"Confirm Merge"})]})]})]})})}function tj(){const{user:i,selectedTenantId:r}=Pt(),u=na(),[o,f]=v.useState(""),[h,g]=v.useState(null),[j,y]=v.useState(null),[x,m]=v.useState([]),[N,z]=v.useState(!1),[Y,J]=v.useState(null),[k,$]=v.useState(!1),P=v.useCallback(async()=>{try{const se=await ie.getContacts();return Array.isArray(se)?se:se?.items?se.items:se.contacts||[]}catch(se){if(se.message?.includes("Not Found")||se.message?.includes("not found"))return[];throw se}},[]),{data:Q,loading:U,error:E,refetch:le}=Aa(P,{defaultValue:[],deps:[r]});v.useEffect(()=>{(r||i&&!i.is_global_admin)&&le()},[u.key]);const ne=i?.is_global_admin&&!r,Z=Q.filter(se=>(se.name||"").toLowerCase().includes(o.toLowerCase())||(se.phone||"").includes(o)||(se.email||"").toLowerCase().includes(o.toLowerCase())),G=(se,M)=>{se.stopPropagation(),g(M)},R=(se,M)=>{se.stopPropagation(),y(M)},te=()=>{y(null),le()},re=async se=>{$(!0);try{await ie.deleteContact(se.id),J(null),le()}catch(M){alert(M.message||"Failed to delete contact")}finally{$(!1)}},W=se=>{m(M=>M.some(I=>I.id===se.id)?M.filter(I=>I.id!==se.id):[...M,se])},xe=()=>{z(!1),m([]),le()},ve=()=>{m([])};return ne?n.jsx("div",{className:"contacts-page",children:n.jsx(Ze,{icon:"",title:"Select a tenant to view contacts",description:"Please select a tenant from the dropdown above to view their contacts."})}):U?n.jsx(it,{message:"Loading contacts...",fullPage:!0}):E?E.includes("Tenant context required")||E.includes("Tenant context")?n.jsx("div",{className:"contacts-page",children:n.jsx(Ze,{icon:"",title:"Select a tenant to view contacts",description:"Please select a tenant from the dropdown above to view their contacts."})}):E.includes("Not Found")||E.includes("not found")?n.jsxs("div",{className:"contacts-page",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Contacts"}),n.jsx("div",{className:"search-box",children:n.jsx("input",{type:"text",placeholder:"Search contacts...",value:o,onChange:se=>f(se.target.value),disabled:!0})})]}),n.jsx(Ze,{icon:"",title:"No verified contacts yet",description:"Contacts will appear here once they opt in through the chatbot."})]}):n.jsx("div",{className:"contacts-page",children:n.jsx(Wt,{message:E,onRetry:le})}):n.jsxs("div",{className:"contacts-page",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Contacts"}),n.jsx("div",{className:"header-actions",children:n.jsx("div",{className:"search-box",children:n.jsx("input",{type:"text",placeholder:"Search contacts...",value:o,onChange:se=>f(se.target.value)})})})]}),x.length>0&&n.jsxs("div",{className:"merge-selection-bar",children:[n.jsxs("span",{className:"merge-count",children:[x.length," contact",x.length>1?"s":""," selected"]}),n.jsxs("div",{className:"merge-actions",children:[n.jsx("button",{className:"btn-cancel-merge",onClick:ve,children:"Cancel"}),n.jsx("button",{className:"btn-merge",onClick:()=>z(!0),disabled:x.length<2,children:"Merge Selected"})]})]}),Q.length===0?n.jsx(Ze,{icon:"",title:"No verified contacts yet",description:"Contacts will appear here once they opt in through the chatbot."}):n.jsxs("div",{className:"contacts-table-container",children:[n.jsxs("table",{className:"contacts-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"th-checkbox",children:n.jsx("span",{className:"merge-hint",title:"Select contacts to merge",children:"Merge"})}),n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Phone"}),n.jsx("th",{children:"Email"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Added"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:Z.map(se=>{const M=x.some(C=>C.id===se.id);return n.jsxs("tr",{className:M?"selected-for-merge":"",children:[n.jsx("td",{className:"td-checkbox",children:n.jsx("input",{type:"checkbox",checked:M,onChange:()=>W(se),title:"Select for merge"})}),n.jsx("td",{children:n.jsxs("div",{className:"contact-name",children:[n.jsx("div",{className:"avatar",children:(se.name||"U")[0].toUpperCase()}),se.name||"Unknown"]})}),n.jsx("td",{children:se.phone||"-"}),n.jsx("td",{children:se.email||"-"}),n.jsx("td",{children:n.jsx("span",{className:`status ${se.opt_in_status||"verified"}`,children:se.opt_in_status||"Verified"})}),n.jsx("td",{children:new Date(se.created_at).toLocaleDateString()}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"btn-action btn-chat",onClick:C=>G(C,se),title:"View conversation history",children:""}),n.jsx("button",{className:"btn-action btn-edit",onClick:C=>R(C,se),title:"Edit contact",children:""}),n.jsx("button",{className:"btn-action btn-delete",onClick:C=>{C.stopPropagation(),J(se)},title:"Delete contact",children:""})]})})]},se.id)})})]}),Z.length===0&&o&&n.jsx(Ze,{icon:"",title:"No matches found",description:`No contacts match "${o}". Try a different search term.`})]}),h&&n.jsx(Ib,{contact:h,onClose:()=>g(null)}),j&&n.jsx(Wm,{contact:j,onSuccess:te,onCancel:()=>y(null)}),N&&x.length>=2&&n.jsx(ej,{contacts:x,onSuccess:xe,onCancel:()=>z(!1)}),Y&&n.jsx("div",{className:"modal-overlay",onClick:()=>!k&&J(null),children:n.jsxs("div",{className:"modal delete-modal",onClick:se=>se.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{children:"Delete Contact"}),n.jsx("button",{className:"close-btn",onClick:()=>J(null),disabled:k,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsx("p",{children:"Are you sure you want to permanently delete this contact?"}),n.jsxs("div",{className:"delete-contact-info",children:[n.jsx("strong",{children:Y.name||"Unknown"}),n.jsx("span",{children:Y.email||Y.phone||"No contact info"})]}),n.jsx("p",{className:"warning-text",children:"This action cannot be undone. All associated data will be permanently removed."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn-cancel",onClick:()=>J(null),disabled:k,children:"Cancel"}),n.jsx("button",{className:"btn-delete-confirm",onClick:()=>re(Y),disabled:k,children:k?"Deleting...":"Delete Contact"})]})]})})]})}function ym(i){if(!i)return"-";const r=Math.floor(i/60),u=i%60;return`${r}:${u.toString().padStart(2,"0")}`}const xm={pricing_info:"Pricing",hours_location:"Hours/Location",booking_request:"Booking",support_request:"Support",wrong_number:"Wrong Number",general_inquiry:"General",unknown:"Unknown"};function aj(){const{id:i}=Dm(),r=Kt(),[u,o]=v.useState(!1),[f,h]=v.useState([]),[g,j]=v.useState(!0),[y,x]=v.useState([]),[m,N]=v.useState(!0),[z,Y]=v.useState({alias_type:"email",value:""}),[J,k]=v.useState(!1),[$,P]=v.useState(""),[Q,U]=v.useState([]),[E,le]=v.useState(!0),[ne,Z]=v.useState(null),[G,R]=v.useState([]),[te,re]=v.useState(!0),W=v.useCallback(async()=>await ie.getContact(i,!0),[i]),xe=v.useCallback(async()=>{try{return await ie.getContactConversation(i)}catch{return null}},[i]),{data:ve,loading:se,error:M,refetch:C}=Aa(W),{data:I,loading:ce}=Aa(xe);v.useEffect(()=>{i&&(q(),ee(),me(),b())},[i]);const me=async()=>{le(!0);try{const V=await ie.getCallsForContact(i);U(V||[])}catch(V){console.error("Failed to fetch calls:",V)}finally{le(!1)}},b=async()=>{re(!0);try{const V=await ie.getEmailConversationsForContact(i);R(V||[])}catch(V){console.error("Failed to fetch email conversations:",V)}finally{re(!1)}},q=async()=>{j(!0);try{const V=await ie.getContactAliases(i);h(V||[])}catch(V){console.error("Failed to fetch aliases:",V)}finally{j(!1)}},ee=async()=>{N(!0);try{const V=await ie.getMergeHistory(i);x(V||[])}catch(V){console.error("Failed to fetch merge history:",V)}finally{N(!1)}},ae=async()=>{if(z.value.trim()){k(!0),P("");try{const V=await ie.addContactAlias(i,{alias_type:z.alias_type,value:z.value.trim(),is_primary:!1});h(Xe=>[...Xe,V]),Y({alias_type:"email",value:""})}catch(V){P(V.message||"Failed to add alias")}finally{k(!1)}}},H=async V=>{try{await ie.removeContactAlias(i,V),h(Xe=>Xe.filter(S=>S.id!==V))}catch(Xe){P(Xe.message||"Failed to remove alias")}},ge=async(V,Xe)=>{try{await ie.setPrimaryAlias(i,V),h(S=>S.map(ye=>({...ye,is_primary:ye.id===V?!0:ye.alias_type===Xe?!1:ye.is_primary}))),C()}catch(S){P(S.message||"Failed to set primary alias")}},Se=()=>{o(!1),C(),q()},qe={email:f.filter(V=>V.alias_type==="email"),phone:f.filter(V=>V.alias_type==="phone"),name:f.filter(V=>V.alias_type==="name")};return se?n.jsx(it,{message:"Loading contact...",fullPage:!0}):M?n.jsx("div",{className:"contact-detail-page",children:n.jsx(Wt,{message:M,onRetry:()=>r("/contacts")})}):ve?n.jsxs("div",{className:"contact-detail-page",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("button",{className:"back-btn",onClick:()=>r("/contacts"),children:" Back to Contacts"}),n.jsx("div",{className:"header-actions",children:n.jsx("button",{className:"btn-edit",onClick:()=>o(!0),children:" Edit Contact"})})]}),$&&n.jsx("div",{className:"error-banner",children:$}),n.jsxs("div",{className:"contact-detail-grid",children:[n.jsxs("div",{className:"contact-info-card",children:[n.jsx("div",{className:"contact-avatar-large",children:(ve.name||"U")[0].toUpperCase()}),n.jsx("h2",{children:ve.name||"Unknown"}),n.jsxs("div",{className:"contact-details",children:[n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"label",children:"Email:"}),n.jsx("span",{className:"value",children:ve.email||"-"})]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"label",children:"Phone:"}),n.jsx("span",{className:"value",children:ve.phone||"-"})]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"label",children:"Source:"}),n.jsx("span",{className:"value",children:ve.source||"web_chat"})]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"label",children:"Added:"}),n.jsx("span",{className:"value",children:new Date(ve.created_at).toLocaleDateString()})]})]})]}),n.jsxs("div",{className:"aliases-card",children:[n.jsx("h3",{children:"Aliases & Alternate Identifiers"}),n.jsx("p",{className:"card-description",children:"Manage alternate emails, phone numbers, and name spellings for this contact."}),g?n.jsx(it,{message:"Loading aliases..."}):n.jsxs("div",{className:"aliases-content",children:[n.jsxs("div",{className:"alias-group",children:[n.jsx("h4",{children:"Emails"}),qe.email.length>0?n.jsx("div",{className:"alias-list",children:qe.email.map(V=>n.jsxs("div",{className:`alias-item ${V.is_primary?"primary":""}`,children:[n.jsx("span",{className:"alias-value",children:V.value}),V.is_primary?n.jsx("span",{className:"primary-badge",children:"Primary"}):n.jsxs("div",{className:"alias-actions",children:[n.jsx("button",{className:"btn-set-primary",onClick:()=>ge(V.id,"email"),children:"Set Primary"}),n.jsx("button",{className:"btn-remove-alias",onClick:()=>H(V.id),children:""})]})]},V.id))}):n.jsx("p",{className:"no-aliases",children:"No email aliases"})]}),n.jsxs("div",{className:"alias-group",children:[n.jsx("h4",{children:"Phone Numbers"}),qe.phone.length>0?n.jsx("div",{className:"alias-list",children:qe.phone.map(V=>n.jsxs("div",{className:`alias-item ${V.is_primary?"primary":""}`,children:[n.jsx("span",{className:"alias-value",children:V.value}),V.is_primary?n.jsx("span",{className:"primary-badge",children:"Primary"}):n.jsxs("div",{className:"alias-actions",children:[n.jsx("button",{className:"btn-set-primary",onClick:()=>ge(V.id,"phone"),children:"Set Primary"}),n.jsx("button",{className:"btn-remove-alias",onClick:()=>H(V.id),children:""})]})]},V.id))}):n.jsx("p",{className:"no-aliases",children:"No phone aliases"})]}),n.jsxs("div",{className:"alias-group",children:[n.jsx("h4",{children:"Name Variations"}),qe.name.length>0?n.jsx("div",{className:"alias-list",children:qe.name.map(V=>n.jsxs("div",{className:`alias-item ${V.is_primary?"primary":""}`,children:[n.jsx("span",{className:"alias-value",children:V.value}),V.is_primary?n.jsx("span",{className:"primary-badge",children:"Primary"}):n.jsxs("div",{className:"alias-actions",children:[n.jsx("button",{className:"btn-set-primary",onClick:()=>ge(V.id,"name"),children:"Set Primary"}),n.jsx("button",{className:"btn-remove-alias",onClick:()=>H(V.id),children:""})]})]},V.id))}):n.jsx("p",{className:"no-aliases",children:"No name variations"})]}),n.jsxs("div",{className:"add-alias-section",children:[n.jsx("h4",{children:"Add New Alias"}),n.jsxs("div",{className:"add-alias-form",children:[n.jsxs("select",{value:z.alias_type,onChange:V=>Y(Xe=>({...Xe,alias_type:V.target.value})),disabled:J,children:[n.jsx("option",{value:"email",children:"Email"}),n.jsx("option",{value:"phone",children:"Phone"}),n.jsx("option",{value:"name",children:"Name"})]}),n.jsx("input",{type:"text",value:z.value,onChange:V=>Y(Xe=>({...Xe,value:V.target.value})),placeholder:`Enter ${z.alias_type}...`,disabled:J}),n.jsx("button",{className:"btn-add-alias",onClick:ae,disabled:J||!z.value.trim(),children:J?"Adding...":"Add"})]})]})]})]}),y.length>0&&n.jsxs("div",{className:"merge-history-card",children:[n.jsx("h3",{children:"Merge History"}),n.jsx("p",{className:"card-description",children:"Contacts that have been merged into this record."}),n.jsx("div",{className:"merge-history-list",children:y.map(V=>n.jsxs("div",{className:"merge-entry",children:[n.jsxs("div",{className:"merge-entry-header",children:[n.jsx("span",{className:"merge-date",children:V.merged_at?new Date(V.merged_at).toLocaleDateString():"Unknown date"}),V.merged_by&&n.jsxs("span",{className:"merge-by",children:["by ",V.merged_by]})]}),V.merged_contact_data&&n.jsxs("div",{className:"merge-contact-data",children:[n.jsxs("span",{children:[n.jsx("strong",{children:"Name:"})," ",V.merged_contact_data.name||"-"]}),n.jsxs("span",{children:[n.jsx("strong",{children:"Email:"})," ",V.merged_contact_data.email||"-"]}),n.jsxs("span",{children:[n.jsx("strong",{children:"Phone:"})," ",V.merged_contact_data.phone||"-"]})]})]},V.id))})]}),n.jsxs("div",{className:"emails-card",children:[n.jsx("h3",{children:" Email Conversations"}),te?n.jsx(it,{message:"Loading emails..."}):G.length>0?n.jsx("div",{className:"emails-list",children:G.map(V=>n.jsxs("div",{className:"email-item",children:[n.jsxs("div",{className:"email-item-header",children:[n.jsx("span",{className:"email-subject",children:V.subject||"(No subject)"}),n.jsx("span",{className:`email-status status-${V.status}`,children:V.status})]}),n.jsxs("div",{className:"email-item-body",children:[n.jsx("span",{className:"email-from",children:V.from_email}),n.jsxs("span",{className:"email-count",children:[V.message_count," message",V.message_count!==1?"s":""]})]}),n.jsx("div",{className:"email-item-footer",children:n.jsx("span",{className:"email-date",children:V.last_response_at?`Last response: ${new Date(V.last_response_at).toLocaleDateString()}`:`Created: ${new Date(V.created_at).toLocaleDateString()}`})})]},V.id))}):n.jsx(Ze,{icon:"",title:"No email conversations",description:"No email threads found for this contact."})]}),n.jsxs("div",{className:"calls-card",children:[n.jsx("h3",{children:" Voice Calls"}),E?n.jsx(it,{message:"Loading calls..."}):Q.length>0?n.jsx("div",{className:"calls-list",children:Q.map(V=>n.jsxs("div",{className:"call-item",onClick:()=>Z(V),children:[n.jsxs("div",{className:"call-item-header",children:[n.jsx("span",{className:"call-date",children:new Date(V.created_at).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}),n.jsx("span",{className:"call-time",children:new Date(V.created_at).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})})]}),n.jsxs("div",{className:"call-item-body",children:[n.jsx("span",{className:"call-duration",children:ym(V.duration)}),V.intent&&n.jsx("span",{className:"call-intent",children:xm[V.intent]||V.intent})]}),V.summary_preview&&n.jsx("div",{className:"call-summary-preview",children:V.summary_preview})]},V.id))}):n.jsx(Ze,{icon:"",title:"No voice calls",description:"No voice calls found for this contact."})]}),n.jsxs("div",{className:"conversation-card",children:[n.jsx("h3",{children:"Conversation History"}),ce?n.jsx(it,{message:"Loading conversation..."}):I&&I.messages?.length>0?n.jsx("div",{className:"messages-list",children:I.messages.map((V,Xe)=>n.jsxs("div",{className:`message ${V.role}`,children:[n.jsx("div",{className:"message-role",children:V.role==="user"?" User":" Bot"}),n.jsx("div",{className:"message-content",children:V.content}),n.jsx("div",{className:"message-time",children:new Date(V.created_at).toLocaleString()})]},Xe))}):n.jsx(Ze,{icon:"",title:"No conversation history",description:"No chat messages found for this contact."})]})]}),ne&&n.jsx("div",{className:"call-detail-modal-overlay",onClick:()=>Z(null),children:n.jsxs("div",{className:"call-detail-modal",onClick:V=>V.stopPropagation(),children:[n.jsxs("div",{className:"call-detail-modal-header",children:[n.jsx("h3",{children:"Call Details"}),n.jsx("button",{className:"btn-close",onClick:()=>Z(null),children:""})]}),n.jsxs("div",{className:"call-detail-modal-body",children:[n.jsxs("div",{className:"call-detail-row",children:[n.jsx("span",{className:"label",children:"Date:"}),n.jsx("span",{className:"value",children:new Date(ne.created_at).toLocaleString()})]}),n.jsxs("div",{className:"call-detail-row",children:[n.jsx("span",{className:"label",children:"Duration:"}),n.jsx("span",{className:"value",children:ym(ne.duration)})]}),n.jsxs("div",{className:"call-detail-row",children:[n.jsx("span",{className:"label",children:"Status:"}),n.jsx("span",{className:"value",children:ne.status})]}),ne.intent&&n.jsxs("div",{className:"call-detail-row",children:[n.jsx("span",{className:"label",children:"Intent:"}),n.jsx("span",{className:"value",children:xm[ne.intent]||ne.intent})]}),ne.outcome&&n.jsxs("div",{className:"call-detail-row",children:[n.jsx("span",{className:"label",children:"Outcome:"}),n.jsx("span",{className:"value",children:ne.outcome.replace("_"," ")})]}),ne.summary_preview&&n.jsxs("div",{className:"call-detail-summary",children:[n.jsx("span",{className:"label",children:"Summary:"}),n.jsx("p",{children:ne.summary_preview})]}),ne.recording_url&&n.jsx("div",{className:"call-detail-recording",children:n.jsx("a",{href:ne.recording_url,target:"_blank",rel:"noopener noreferrer",className:"btn-listen",children:" Listen to Recording"})})]})]})}),u&&n.jsx(Wm,{contact:ve,onSuccess:Se,onCancel:()=>o(!1)})]}):n.jsx("div",{className:"contact-detail-page",children:n.jsx(Ze,{icon:"",title:"Contact not found"})})}function bm(i){if(!i)return"-";const r=Math.floor(i/60),u=i%60;return`${r}:${u.toString().padStart(2,"0")}`}function jm(i){return i?i.length===12&&i.startsWith("+1")?`(${i.slice(2,5)}) ${i.slice(5,8)}-${i.slice(8)}`:i:"-"}const Sn={pricing_info:{label:"Pricing",color:"#8b5cf6"},hours_location:{label:"Hours/Location",color:"#06b6d4"},booking_request:{label:"Booking",color:"#10b981"},support_request:{label:"Support",color:"#f59e0b"},wrong_number:{label:"Wrong Number",color:"#ef4444"},general_inquiry:{label:"General",color:"#6b7280"},unknown:{label:"Unknown",color:"#9ca3af"}},wn={lead_created:{label:"Lead Captured",color:"#10b981"},info_provided:{label:"Info Provided",color:"#3b82f6"},booking_requested:{label:"Booking Requested",color:"#8b5cf6"},voicemail:{label:"Voicemail",color:"#f59e0b"},transferred:{label:"Transferred",color:"#06b6d4"},dismissed:{label:"Dismissed",color:"#ef4444"},incomplete:{label:"Incomplete",color:"#9ca3af"}};function nj(){const{user:i,selectedTenantId:r}=Pt(),[u,o]=v.useState(1),[f,h]=v.useState(null),[g,j]=v.useState({intent:"",outcome:"",status:""}),y=v.useCallback(async()=>{try{const E={page:u,page_size:20};return g.intent&&(E.intent=g.intent),g.outcome&&(E.outcome=g.outcome),g.status&&(E.status=g.status),await ie.getCalls(E)}catch(E){if(E.message?.includes("Not Found")||E.message?.includes("not found"))return{calls:[],total:0,page:1,page_size:20,has_more:!1};throw E}},[u,g]),{data:x,loading:m,error:N,refetch:z}=Aa(y,{defaultValue:{calls:[],total:0,page:1,page_size:20,has_more:!1}}),{calls:Y,total:J,has_more:k}=x,$=i?.is_global_admin&&!r,P=(E,le)=>{j(ne=>({...ne,[E]:le})),o(1)},Q=()=>{j({intent:"",outcome:"",status:""}),o(1)},U=g.intent||g.outcome||g.status;return $?n.jsx("div",{className:"calls-page",children:n.jsx(Ze,{icon:"",title:"Select a tenant to view calls",description:"Please select a tenant from the dropdown above to view their call history."})}):m&&Y.length===0?n.jsx(it,{message:"Loading calls...",fullPage:!0}):N&&Y.length===0?n.jsx("div",{className:"calls-page",children:n.jsx(Wt,{message:N,onRetry:z})}):n.jsxs("div",{className:"calls-page",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Voice Calls"}),n.jsx("div",{className:"calls-stats",children:n.jsxs("span",{className:"stat-item",children:[n.jsx("span",{className:"stat-number",children:J}),n.jsx("span",{className:"stat-label",children:"Total Calls"})]})})]}),n.jsxs("div",{className:"calls-filters",children:[n.jsxs("div",{className:"filter-group",children:[n.jsx("label",{children:"Intent"}),n.jsxs("select",{value:g.intent,onChange:E=>P("intent",E.target.value),children:[n.jsx("option",{value:"",children:"All Intents"}),Object.entries(Sn).map(([E,{label:le}])=>n.jsx("option",{value:E,children:le},E))]})]}),n.jsxs("div",{className:"filter-group",children:[n.jsx("label",{children:"Outcome"}),n.jsxs("select",{value:g.outcome,onChange:E=>P("outcome",E.target.value),children:[n.jsx("option",{value:"",children:"All Outcomes"}),Object.entries(wn).map(([E,{label:le}])=>n.jsx("option",{value:E,children:le},E))]})]}),n.jsxs("div",{className:"filter-group",children:[n.jsx("label",{children:"Status"}),n.jsxs("select",{value:g.status,onChange:E=>P("status",E.target.value),children:[n.jsx("option",{value:"",children:"All Statuses"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"busy",children:"Busy"}),n.jsx("option",{value:"no-answer",children:"No Answer"}),n.jsx("option",{value:"failed",children:"Failed"})]})]}),U&&n.jsx("button",{className:"btn-clear-filters",onClick:Q,children:"Clear Filters"})]}),Y.length===0?n.jsx(Ze,{icon:"",title:"No calls yet",description:U?"No calls match your filters. Try adjusting the filters.":"Voice calls will appear here once customers start calling."}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"calls-table-container",children:n.jsxs("table",{className:"calls-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Date & Time"}),n.jsx("th",{children:"Caller"}),n.jsx("th",{children:"Duration"}),n.jsx("th",{children:"Intent"}),n.jsx("th",{children:"Outcome"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:Y.map(E=>n.jsxs("tr",{onClick:()=>h(E),className:"clickable-row",children:[n.jsxs("td",{className:"date-cell",children:[new Date(E.created_at).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),n.jsx("span",{className:"time-sub",children:new Date(E.created_at).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})})]}),n.jsx("td",{children:jm(E.from_number)}),n.jsx("td",{children:bm(E.duration)}),n.jsx("td",{children:E.summary?.intent?n.jsx("span",{className:"badge intent-badge",style:{backgroundColor:`${Sn[E.summary.intent]?.color}20`,color:Sn[E.summary.intent]?.color},children:Sn[E.summary.intent]?.label||E.summary.intent}):n.jsx("span",{className:"badge badge-empty",children:"-"})}),n.jsx("td",{children:E.summary?.outcome?n.jsx("span",{className:"badge outcome-badge",style:{backgroundColor:`${wn[E.summary.outcome]?.color}20`,color:wn[E.summary.outcome]?.color},children:wn[E.summary.outcome]?.label||E.summary.outcome}):n.jsx("span",{className:"badge badge-empty",children:"-"})}),n.jsx("td",{children:n.jsx("span",{className:`badge status-badge status-${E.status}`,children:E.status})}),n.jsxs("td",{className:"actions-cell",onClick:le=>le.stopPropagation(),children:[n.jsx("button",{className:"btn-action",onClick:()=>h(E),title:"View Details",children:""}),E.recording_url&&n.jsx("a",{href:E.recording_url,target:"_blank",rel:"noopener noreferrer",className:"btn-action",title:"Listen to Recording",children:""})]})]},E.id))})]})}),n.jsxs("div",{className:"calls-pagination",children:[n.jsx("button",{className:"btn-page",onClick:()=>o(E=>Math.max(1,E-1)),disabled:u===1,children:"Previous"}),n.jsxs("span",{className:"page-info",children:["Page ",u," of ",Math.ceil(J/20)||1]}),n.jsx("button",{className:"btn-page",onClick:()=>o(E=>E+1),disabled:!k,children:"Next"})]})]}),f&&n.jsx("div",{className:"call-modal-overlay",onClick:()=>h(null),children:n.jsxs("div",{className:"call-modal",onClick:E=>E.stopPropagation(),children:[n.jsxs("div",{className:"call-modal-header",children:[n.jsx("h2",{children:"Call Details"}),n.jsx("button",{className:"btn-close",onClick:()=>h(null),children:""})]}),n.jsxs("div",{className:"call-modal-body",children:[n.jsxs("div",{className:"call-detail-grid",children:[n.jsxs("div",{className:"detail-item",children:[n.jsx("label",{children:"Caller"}),n.jsx("span",{children:jm(f.from_number)})]}),n.jsxs("div",{className:"detail-item",children:[n.jsx("label",{children:"Date & Time"}),n.jsx("span",{children:new Date(f.created_at).toLocaleString()})]}),n.jsxs("div",{className:"detail-item",children:[n.jsx("label",{children:"Duration"}),n.jsx("span",{children:bm(f.duration)})]}),n.jsxs("div",{className:"detail-item",children:[n.jsx("label",{children:"Status"}),n.jsx("span",{className:`badge status-badge status-${f.status}`,children:f.status})]}),f.summary?.intent&&n.jsxs("div",{className:"detail-item",children:[n.jsx("label",{children:"Intent"}),n.jsx("span",{className:"badge intent-badge",style:{backgroundColor:`${Sn[f.summary.intent]?.color}20`,color:Sn[f.summary.intent]?.color},children:Sn[f.summary.intent]?.label})]}),f.summary?.outcome&&n.jsxs("div",{className:"detail-item",children:[n.jsx("label",{children:"Outcome"}),n.jsx("span",{className:"badge outcome-badge",style:{backgroundColor:`${wn[f.summary.outcome]?.color}20`,color:wn[f.summary.outcome]?.color},children:wn[f.summary.outcome]?.label})]})]}),f.summary?.summary_text&&n.jsxs("div",{className:"call-summary-section",children:[n.jsx("h3",{children:"Summary"}),n.jsx("p",{children:f.summary.summary_text})]}),f.summary?.extracted_fields&&n.jsxs("div",{className:"call-extracted-section",children:[n.jsx("h3",{children:"Extracted Information"}),n.jsxs("div",{className:"extracted-grid",children:[f.summary.extracted_fields.name&&n.jsxs("div",{className:"extracted-item",children:[n.jsx("label",{children:"Name"}),n.jsx("span",{children:f.summary.extracted_fields.name})]}),f.summary.extracted_fields.email&&n.jsxs("div",{className:"extracted-item",children:[n.jsx("label",{children:"Email"}),n.jsx("span",{children:f.summary.extracted_fields.email})]}),f.summary.extracted_fields.reason&&n.jsxs("div",{className:"extracted-item full-width",children:[n.jsx("label",{children:"Reason for Calling"}),n.jsx("span",{children:f.summary.extracted_fields.reason})]}),f.summary.extracted_fields.urgency&&n.jsxs("div",{className:"extracted-item",children:[n.jsx("label",{children:"Urgency"}),n.jsx("span",{className:`urgency-${f.summary.extracted_fields.urgency}`,children:f.summary.extracted_fields.urgency})]}),f.summary.extracted_fields.preferred_callback_time&&n.jsxs("div",{className:"extracted-item",children:[n.jsx("label",{children:"Preferred Callback"}),n.jsx("span",{children:f.summary.extracted_fields.preferred_callback_time})]})]})]}),f.recording_url&&n.jsxs("div",{className:"call-recording-section",children:[n.jsx("h3",{children:"Recording"}),n.jsx("a",{href:f.recording_url,target:"_blank",rel:"noopener noreferrer",className:"btn-recording",children:" Listen to Recording"})]})]})]})})]})}function lj(){const{user:i,selectedTenantId:r}=Pt(),u=Kt(),[o,f]=v.useState(""),h=v.useCallback(async()=>{const k=await ie.getLeads({status:"unknown"});return Array.isArray(k)?k:k.leads||[]},[]),{data:g,loading:j,error:y,refetch:x}=Aa(h,{defaultValue:[]}),m=i?.is_global_admin&&!r,N=g.filter(k=>(k.name||"").toLowerCase().includes(o.toLowerCase())||(k.phone||"").includes(o)||(k.email||"").toLowerCase().includes(o.toLowerCase())),z=k=>{u(`/analytics/unknowns/${k.id}`)},Y=async k=>{try{await ie.updateLeadStatus(k,"verified"),x()}catch($){console.error("Failed to verify lead:",$)}},J=async(k,$)=>{if(confirm(`Are you sure you want to delete "${$||"this lead"}"? This action cannot be undone.`))try{await ie.deleteLead(k),x()}catch(P){console.error("Failed to delete lead:",P)}};return m?n.jsx("div",{className:"unknown-leads-page",children:n.jsx(Ze,{icon:"",title:"Select a tenant",description:"Please select a tenant from the dropdown above."})}):j?n.jsx(it,{message:"Loading unknown leads...",fullPage:!0}):y?n.jsx("div",{className:"unknown-leads-page",children:n.jsx(Wt,{message:y,onRetry:x})}):n.jsxs("div",{className:"unknown-leads-page",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Unknown Leads"}),n.jsx("p",{className:"page-description",children:"Leads marked as unknown - review their conversations to verify or dismiss."}),n.jsx("div",{className:"search-box",children:n.jsx("input",{type:"text",placeholder:"Search unknown leads...",value:o,onChange:k=>f(k.target.value)})})]}),g.length===0?n.jsx(Ze,{icon:"",title:"No unknown leads",description:"All leads have been verified or are pending review."}):n.jsxs("div",{className:"leads-table-container",children:[n.jsxs("table",{className:"leads-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Email"}),n.jsx("th",{children:"Phone"}),n.jsx("th",{children:"Date"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:N.map(k=>n.jsxs("tr",{children:[n.jsx("td",{children:k.name||"Unknown"}),n.jsx("td",{children:k.email||"-"}),n.jsx("td",{children:k.phone||"-"}),n.jsx("td",{children:new Date(k.created_at).toLocaleDateString()}),n.jsxs("td",{className:"actions",children:[n.jsx("button",{className:"btn-view",onClick:()=>z(k),children:"View Chat"}),n.jsx("button",{className:"btn-verify",onClick:()=>Y(k.id),children:" Verify"}),n.jsx("button",{className:"btn-delete",onClick:()=>J(k.id,k.name),children:" Delete"})]})]},k.id))})]}),N.length===0&&o&&n.jsx(Ze,{icon:"",title:"No matches found",description:`No leads match "${o}".`})]})]})}function sj(){const{id:i}=Dm(),r=Kt(),u=v.useCallback(async()=>await ie.getLead(i),[i]),o=v.useCallback(async()=>{try{return await ie.getLeadConversation(i)}catch{return null}},[i]),{data:f,loading:h,error:g}=Aa(u),{data:j,loading:y}=Aa(o),x=async()=>{try{await ie.updateLeadStatus(i,"verified"),r("/contacts")}catch(N){console.error("Failed to verify:",N)}},m=async()=>{try{await ie.updateLeadStatus(i,"dismissed"),r("/analytics/unknowns")}catch(N){console.error("Failed to dismiss:",N)}};return h?n.jsx(it,{message:"Loading lead...",fullPage:!0}):g?n.jsx("div",{className:"contact-detail-page",children:n.jsx(Wt,{message:g,onRetry:()=>r("/analytics/unknowns")})}):f?n.jsxs("div",{className:"contact-detail-page",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("button",{className:"back-btn",onClick:()=>r("/analytics/unknowns"),children:" Back to Unknown Leads"}),n.jsx("h1",{children:"Review Lead"})]}),n.jsxs("div",{className:"contact-detail-grid",children:[n.jsxs("div",{className:"contact-info-card",children:[n.jsx("div",{className:"contact-avatar-large",style:{background:"#f59e0b"},children:(f.name||"?")[0].toUpperCase()}),n.jsx("h2",{children:f.name||"Unknown"}),n.jsx("span",{className:"status-badge unknown",children:"Unknown"}),n.jsxs("div",{className:"contact-details",children:[n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"label",children:"Email:"}),n.jsx("span",{className:"value",children:f.email||"-"})]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"label",children:"Phone:"}),n.jsx("span",{className:"value",children:f.phone||"-"})]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"label",children:"Created:"}),n.jsx("span",{className:"value",children:new Date(f.created_at).toLocaleDateString()})]})]}),n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"btn-verify-large",onClick:x,children:" Verify as Contact"}),n.jsx("button",{className:"btn-dismiss",onClick:m,children:" Dismiss"})]})]}),n.jsxs("div",{className:"conversation-card",children:[n.jsx("h3",{children:"Conversation History"}),y?n.jsx(it,{message:"Loading conversation..."}):j&&j.messages?.length>0?n.jsx("div",{className:"messages-list",children:j.messages.map((N,z)=>n.jsxs("div",{className:`message ${N.role}`,children:[n.jsx("div",{className:"message-role",children:N.role==="user"?" User":" Bot"}),n.jsx("div",{className:"message-content",children:N.content}),n.jsx("div",{className:"message-time",children:new Date(N.created_at).toLocaleString()})]},z))}):n.jsx(Ze,{icon:"",title:"No conversation history",description:"No chat messages found for this lead."})]})]})]}):n.jsx("div",{className:"contact-detail-page",children:n.jsx(Ze,{icon:"",title:"Lead not found"})})}function ij(){return n.jsxs("div",{className:"plots-page",children:[n.jsx("h1",{children:"Plots"}),n.jsx("div",{className:"plots-empty",children:n.jsx("p",{children:"Analytics plots coming soon."})})]})}function cj(){const i=Kt(),{refreshProfile:r}=Pt(),[u,o]=v.useState(!0),[f,h]=v.useState(!1),[g,j]=v.useState(""),[y,x]=v.useState({}),[m,N]=v.useState({business_name:"",website_url:"",phone_number:"",twilio_phone:"",email:""}),z=(Q,U)=>{const E={...y};switch(Q){case"business_name":U.trim()?delete E.business_name:E.business_name="Business name is required";break;case"website_url":if(!U.trim())E.website_url="Website URL is required";else try{new URL(U),delete E.website_url}catch{E.website_url="Please enter a valid URL (e.g., https://example.com)"}break;case"phone_number":U.trim()?!/^[\d\s\-+()]+$/.test(U)||U.replace(/\D/g,"").length<10?E.phone_number="Please enter a valid phone number":delete E.phone_number:E.phone_number="Phone number is required";break;case"email":U.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(U)?delete E.email:E.email="Please enter a valid email address":E.email="Email is required";break;case"twilio_phone":U.trim()&&(!/^[\d\s\-+()]+$/.test(U)||U.replace(/\D/g,"").length<10)?E.twilio_phone="Please enter a valid phone number":delete E.twilio_phone;break}return x(E),Object.keys(E).length===0},Y=v.useCallback(async()=>{o(!0),j("");try{const Q=await ie.getBusinessProfile();N({business_name:Q.business_name||"",website_url:Q.website_url||"",phone_number:Q.phone_number||"",twilio_phone:Q.twilio_phone||"",email:Q.email||""}),Q.profile_complete&&i("/")}catch(Q){j(Q.message||"Failed to load profile. Please try refreshing the page."),console.error("Failed to load profile:",Q)}finally{o(!1)}},[i]);v.useEffect(()=>{Y()},[Y]);const J=Q=>{const{name:U,value:E}=Q.target;N({...m,[U]:E}),y[U]&&x({...y,[U]:void 0})},k=Q=>{z(Q.target.name,Q.target.value)},$=()=>{const Q=["business_name","website_url","phone_number","email"];let U=!0;return Q.forEach(E=>{z(E,m[E])||(U=!1)}),m.twilio_phone&&z("twilio_phone",m.twilio_phone),U},P=async Q=>{if(Q.preventDefault(),j(""),x({}),!$()){j("Please fix the errors below");return}h(!0);try{(await ie.updateBusinessProfile(m)).profile_complete?(r&&await r(),i("/")):j("Please fill in all required fields")}catch(U){j(U.message||"Failed to save profile. Please try again."),console.error("Failed to save profile:",U)}finally{h(!1)}};return u?n.jsx("div",{className:"onboarding-container",children:n.jsx(it,{message:"Loading your profile...",fullPage:!0})}):g&&!m.business_name&&!m.website_url&&!m.phone_number&&!m.email?n.jsx("div",{className:"onboarding-container",children:n.jsx(Wt,{message:g,onRetry:Y})}):n.jsx("div",{className:"onboarding-container",children:n.jsxs("div",{className:"onboarding-card",children:[n.jsx("h1",{children:"Welcome to Chatter Cheetah"}),n.jsx("p",{className:"subtitle",children:"Let's set up your business profile to get started"}),g&&n.jsx("div",{className:"error-message",role:"alert",children:g}),n.jsxs("form",{onSubmit:P,noValidate:!0,children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"business_name",children:["Business Name ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"business_name",name:"business_name",value:m.business_name,onChange:J,onBlur:k,placeholder:"Your Business Name",required:!0,"aria-invalid":!!y.business_name,"aria-describedby":y.business_name?"business_name-error":void 0}),y.business_name&&n.jsx("span",{id:"business_name-error",className:"field-error",role:"alert",children:y.business_name})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"website_url",children:["Website URL (for chatbot) ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"url",id:"website_url",name:"website_url",value:m.website_url,onChange:J,onBlur:k,placeholder:"https://yourbusiness.com",required:!0,"aria-invalid":!!y.website_url,"aria-describedby":y.website_url?"website_url-error":void 0}),y.website_url&&n.jsx("span",{id:"website_url-error",className:"field-error",role:"alert",children:y.website_url})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"phone_number",children:["Phone Number ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"tel",id:"phone_number",name:"phone_number",value:m.phone_number,onChange:J,onBlur:k,placeholder:"+1 (555) 123-4567",required:!0,"aria-invalid":!!y.phone_number,"aria-describedby":y.phone_number?"phone_number-error":void 0}),y.phone_number&&n.jsx("span",{id:"phone_number-error",className:"field-error",role:"alert",children:y.phone_number})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"email",children:["Email Address ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"email",id:"email",name:"email",value:m.email,onChange:J,onBlur:k,placeholder:"contact@yourbusiness.com",required:!0,"aria-invalid":!!y.email,"aria-describedby":y.email?"email-error":void 0}),y.email&&n.jsx("span",{id:"email-error",className:"field-error",role:"alert",children:y.email})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"twilio_phone",children:"Twilio Phone (optional)"}),n.jsx("input",{type:"tel",id:"twilio_phone",name:"twilio_phone",value:m.twilio_phone,onChange:J,onBlur:k,placeholder:"+1 (555) 987-6543","aria-invalid":!!y.twilio_phone,"aria-describedby":y.twilio_phone?"twilio_phone-error":void 0}),y.twilio_phone&&n.jsx("span",{id:"twilio_phone-error",className:"field-error",role:"alert",children:y.twilio_phone}),n.jsx("small",{children:"For automated SMS/calls. Leave blank if not using."})]}),n.jsx("button",{type:"submit",className:"submit-btn",disabled:f,"aria-busy":f,children:f?"Saving...":"Complete Setup"})]})]})})}const rj={business_name:"",website_url:"",phone_number:"",twilio_phone:"",email:""},bo=i=>i?(i.provider||"twilio")==="telnyx"?{phone:i.telnyx_phone_number||"",provider:"telnyx",label:"Telnyx Phone Number"}:{phone:i.twilio_phone_number||"",provider:"twilio",label:"Twilio Phone Number"}:{phone:"",provider:"twilio",label:"SMS Phone Number"};function oj(){const{user:i,selectedTenantId:r}=Pt(),[u,o]=v.useState(!1),[f,h]=v.useState(""),[g,j]=v.useState(""),[y,x]=v.useState(rj),[m,N]=v.useState(null),z=v.useCallback(()=>ie.getBusinessProfile(),[]),{data:Y,loading:J,error:k,refetch:$}=Aa(z),P=v.useCallback(async()=>{if(!(i?.is_global_admin&&!r))try{const le=await ie.getTelephonyConfig();N(le)}catch(le){console.log("Telephony config not available:",le.message)}},[i,r]);v.useEffect(()=>{P()},[P]);const Q=i?.is_global_admin&&!r;v.useEffect(()=>{Y&&x({business_name:Y.business_name||"",website_url:Y.website_url||"",phone_number:Y.phone_number||"",twilio_phone:Y.twilio_phone||"",email:Y.email||""})},[Y]);const U=le=>{x({...y,[le.target.name]:le.target.value})},E=async le=>{le.preventDefault(),j(""),h(""),o(!0);try{await ie.updateBusinessProfile(y),h("Profile updated successfully")}catch(ne){j(ne.message||"Failed to save profile")}finally{o(!1)}};return Q?n.jsx("div",{className:"settings-page",children:n.jsx(Ze,{icon:"",title:"Select a tenant to manage settings",description:"Please select a tenant from the dropdown above to manage their business profile settings."})}):J?n.jsx("div",{className:"settings-page",children:n.jsx(it,{message:"Loading settings..."})}):k&&!Y?k.includes("Tenant context required")||k.includes("Tenant context")?n.jsx("div",{className:"settings-page",children:n.jsx(Ze,{icon:"",title:"Select a tenant to manage settings",description:"Please select a tenant from the dropdown above to manage their business profile settings."})}):n.jsx("div",{className:"settings-page",children:n.jsx(Wt,{message:k,onRetry:$})}):n.jsxs("div",{className:"settings-page",children:[n.jsx("h1",{children:"Business Profile"}),n.jsx("p",{className:"description",children:"Update your business information used in customer communications."}),g&&n.jsx("div",{className:"error-message",children:g}),f&&n.jsx("div",{className:"success-message",children:f}),n.jsxs("form",{onSubmit:E,className:"settings-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"business_name",children:"Business Name"}),n.jsx("input",{type:"text",id:"business_name",name:"business_name",value:y.business_name,onChange:U,placeholder:"Your Business Name"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"website_url",children:"Website URL"}),n.jsx("input",{type:"url",id:"website_url",name:"website_url",value:y.website_url,onChange:U,placeholder:"https://yourwebsite.com"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"phone_number",children:"Phone Number"}),n.jsx("input",{type:"tel",id:"phone_number",name:"phone_number",value:y.phone_number,onChange:U,placeholder:"(555) 123-4567"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"twilio_phone",children:bo(m).label}),n.jsx("input",{type:"tel",id:"twilio_phone",name:"twilio_phone",value:bo(m).phone||y.twilio_phone,readOnly:!0,placeholder:"Not configured",className:"readonly-input"}),n.jsxs("small",{children:["Your ",bo(m).provider==="telnyx"?"Telnyx":"Twilio"," number for SMS communications."," ",n.jsx("a",{href:"/telephony-settings",children:"Configure in Telephony Settings"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"email",children:"Email Address"}),n.jsx("input",{type:"email",id:"email",name:"email",value:y.email,onChange:U,placeholder:"contact@yourbusiness.com"})]}),n.jsx("button",{type:"submit",className:"save-btn",disabled:u,children:u?"Saving...":"Save Changes"})]})]})}const Nm={colors:{primary:"#007bff",secondary:"#6c757d",background:"#ffffff",text:"#333333",buttonText:"#ffffff",linkColor:"#007bff",borderColor:"#ddd"},typography:{fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif",fontSize:"14px",fontWeight:"400",lineHeight:"1.5",letterSpacing:"normal"},layout:{borderRadius:"10px",boxShadow:"0 4px 20px rgba(0,0,0,0.15)",shadowColor:"rgba(0,0,0,0.15)",opacity:"1",position:"bottom-right",zIndex:"10000",maxWidth:"350px",maxHeight:"500px"},behavior:{openBehavior:"click",autoOpenDelay:0,showOnPages:"*",cooldownDays:0,autoOpenMessageEnabled:!1,autoOpenMessage:""},animations:{type:"none",duration:"0.3s",easing:"ease-in-out"},messages:{welcomeMessage:"Chat with us",placeholder:"Type your message...",sendButtonText:"Send"},accessibility:{darkMode:!1,highContrast:!1,focusOutline:!0},icon:{type:"emoji",emoji:"",imageUrl:"",shape:"circle",customBorderRadius:"50%",size:"medium",customSize:"60px",showLabel:!1,labelText:"",labelPosition:"inside",labelBackgroundColor:"#ffffff",labelTextColor:"#333333",labelFontSize:"12px",fallbackToEmoji:!0},attention:{attentionAnimation:"none",attentionCycles:2,unreadDot:!1,unreadDotColor:"#ff3b30",unreadDotPosition:"top-right"},motion:{launcherVisibility:"immediate",entryAnimation:"none",openAnimation:"none",delaySeconds:8,scrollPercent:35,exitIntentEnabled:!1,exitIntentAction:"show"},microInteractions:{typingIndicator:!1,typingIndicatorDurationMs:1200,blinkCursor:!1,hoverEffect:"scale",buttonAnimation:"none"},copy:{launcherPromptsEnabled:!1,launcherPrompts:["Have a question?","Need help right now?","Get a quick answer"],launcherPromptRotateSeconds:6,contextualPromptsEnabled:!1,contextualPrompts:[{match:"/pricing",text:"Want help choosing a plan?"},{match:"/contact",text:"Prefer texting instead?"}],greetingEnabled:!1,greetingMode:"time",greetingMorning:"Good morning! How can we help?",greetingAfternoon:"Good afternoon! How can we help?",greetingEvening:"Good evening! How can we help?",greetingPageRules:[]},sound:{chimeOnOpen:!1,messageTicks:!1,hapticFeedback:!1,volume:.2},socialProof:{showResponseTime:!1,responseTimeText:"Typically replies in under 1 min",availabilityText:"",showAvatar:!1,avatarUrl:"",agentName:"Cheetah Assistant"},rules:{animateOncePerSession:!0,stopAfterInteraction:!0,maxAnimationSeconds:3,respectReducedMotion:!0,disableOnMobile:!1}},uj=[{label:"System",value:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif"},{label:"Open Sans",value:"'Open Sans', Arial, sans-serif"},{label:"Source Sans 3",value:"'Source Sans 3', 'Source Sans Pro', Arial, sans-serif"},{label:"Roboto",value:"'Roboto', Arial, sans-serif"},{label:"Montserrat",value:"'Montserrat', 'Helvetica Neue', Arial, sans-serif"},{label:"Poppins",value:"'Poppins', 'Helvetica Neue', Arial, sans-serif"},{label:"Playfair Display",value:"'Playfair Display', 'Times New Roman', serif"},{label:"Merriweather",value:"'Merriweather', Georgia, serif"},{label:"Lora",value:"'Lora', Georgia, serif"}],dj={colors:"window",typography:"window",layout:"window",behavior:"window",messages:"window",copy:"window",microInteractions:"window",sound:"window",socialProof:"window",accessibility:"window",icon:"launcher",attention:"launcher",motion:"launcher",rules:"launcher"},fj=[{label:"Speech Bubble",value:""},{label:"Waving Hand",value:""},{label:"Robot",value:""},{label:"Headset",value:""},{label:"Sparkles",value:""},{label:"Lightning",value:""},{label:"Question Mark",value:""},{label:"Chat Bubble",value:""},{label:"Smile",value:""},{label:"Megaphone",value:""}];function hj(){const{user:i,selectedTenantId:r}=Pt(),[u,o]=v.useState(null),[f,h]=v.useState(!1),[g,j]=v.useState(""),[y,x]=v.useState(!1),[m,N]=v.useState(Nm),[z,Y]=v.useState(Nm),[J,k]=v.useState(!1),[$,P]=v.useState(""),[Q,U]=v.useState(""),[E,le]=v.useState(!1),[ne,Z]=v.useState(!1),[G,R]=v.useState(""),[te,re]=v.useState(""),W=v.useRef(null),xe={small:"50px",medium:"60px",large:"75px","extra-large":"90px"},ve=m.icon.size==="custom"?m.icon.customSize||xe.medium:xe[m.icon.size]||xe.medium,se=(()=>{switch(m.icon.shape){case"rounded-square":return"16px";case"pill":return"999px";case"square":return"6px";case"custom":return m.icon.customBorderRadius||"18px";case"circle":default:return"50%"}})(),M=m.typography.fontFamily||"inherit",C=m.typography.fontSize||"14px",I=m.icon.labelPosition==="beside"?"left":m.icon.labelPosition,ce=v.useMemo(()=>JSON.stringify(m)!==JSON.stringify(z),[m,z]),me=v.useCallback(async()=>{if(!(i?.is_global_admin&&!r)){h(!0),j("");try{const S=await ie.getEmbedCode();o(S)}catch(S){j(S.message||"Failed to load embed code")}finally{h(!1)}}},[i,r]);v.useEffect(()=>{me()},[me]);const b=v.useCallback(async()=>{if(!(i?.is_global_admin&&!r)){le(!0),U("");try{const S=await ie.getWidgetSettings();N(S),Y(S)}catch(S){U(S.message||"Failed to load widget settings")}finally{le(!1)}}},[i,r]);v.useEffect(()=>{b()},[b]),v.useEffect(()=>{if(!ce)return;const S=ye=>{ye.preventDefault(),ye.returnValue=""};return window.addEventListener("beforeunload",S),()=>window.removeEventListener("beforeunload",S)},[ce]),v.useEffect(()=>()=>{W.current&&clearTimeout(W.current)},[]);const q=i?.is_global_admin&&!r,ee=v.useCallback(S=>{const ye=dj[S]||"window";re(ye),W.current&&clearTimeout(W.current),W.current=setTimeout(()=>{re("")},650)},[]),ae=v.useCallback(S=>{const ye=S.target.closest("[data-preview-target]");ye&&R(ye.dataset.previewTarget||"")},[]),H=(S,ye,Fe)=>{N(He=>({...He,[S]:{...He[S],[ye]:Fe}})),ee(S)},ge=(S,ye,Fe)=>{N(He=>({...He,[S]:{...He[S],[ye]:Fe}})),ee(S)},Se=(S,ye,Fe,He,ra)=>{N(ct=>({...ct,[S]:{...ct[S],[ye]:(ct[S][ye]||[]).map((Tn,an)=>an===Fe?{...Tn,[He]:ra}:Tn)}})),ee(S)},qe=(S,ye,Fe)=>{N(He=>({...He,[S]:{...He[S],[ye]:[...He[S][ye]||[],Fe]}})),ee(S)},V=(S,ye,Fe)=>{N(He=>({...He,[S]:{...He[S],[ye]:(He[S][ye]||[]).filter((ra,ct)=>ct!==Fe)}})),ee(S)},Xe=async S=>{S.preventDefault(),U(""),P(""),k(!0);try{await ie.updateWidgetSettings(m),Y(m),P("Saved for this tenant"),setTimeout(()=>P(""),3e3)}catch(ye){U(ye.message||"Failed to save widget settings")}finally{k(!1)}};return q?n.jsx("div",{className:"settings-page",children:n.jsx(Ze,{icon:"",title:"Select a tenant to manage widget settings",description:"Please select a tenant from the dropdown above to manage their widget configuration."})}):E&&f?n.jsx("div",{className:"settings-page",children:n.jsx(it,{message:"Loading widget settings..."})}):n.jsxs("div",{className:"settings-page",children:[n.jsx("h1",{children:"Website Widget"}),n.jsx("p",{className:"description",children:"Configure your chat widget embed code and customize its appearance."}),n.jsxs("div",{className:"embed-code-section",children:[n.jsx("h2",{children:"Website Chat Widget"}),n.jsx("p",{className:"description",children:'Copy this code and paste it into your WordPress footer or use a plugin like "Insert Headers and Footers".'}),f&&n.jsx("div",{className:"embed-loading",children:"Loading embed code..."}),g&&n.jsx("div",{className:"error-message",children:g}),u&&n.jsxs(n.Fragment,{children:[u.warning&&n.jsxs("div",{className:"embed-warning",children:[n.jsx("span",{className:"warning-icon",children:""}),n.jsx("span",{children:u.warning})]}),n.jsxs("div",{className:"embed-code-container",children:[n.jsxs("div",{className:"embed-code-header",children:[n.jsx("span",{className:"embed-code-label",children:u.has_published_prompt?"Your Embed Code (Ready to Use)":"Your Embed Code (Not Active)"}),n.jsx("button",{type:"button",className:`copy-btn ${y?"copied":""}`,onClick:async()=>{try{await navigator.clipboard.writeText(u.embed_code),x(!0),setTimeout(()=>x(!1),2e3)}catch(S){console.error("Failed to copy:",S)}},children:y?" Copied!":"Copy Code"})]}),n.jsx("textarea",{readOnly:!0,value:u.embed_code,className:`embed-code-textarea ${u.has_published_prompt?"":"inactive"}`,rows:15})]}),n.jsxs("div",{className:"embed-instructions",children:[n.jsx("h3",{children:"Installation Instructions"}),n.jsxs("ol",{children:[n.jsx("li",{children:'Copy the code above by clicking the "Copy Code" button'}),n.jsxs("li",{children:["In WordPress, go to ",n.jsx("strong",{children:"Appearance  Theme File Editor"})]}),n.jsxs("li",{children:["Add the code to your theme's ",n.jsx("code",{children:"footer.php"})," file before the closing ",n.jsx("code",{children:"</body>"})," tag"]}),n.jsxs("li",{children:["Alternatively, use a plugin like ",n.jsx("strong",{children:'"Insert Headers and Footers"'})," and paste the code in the Footer section"]})]})]})]})]}),n.jsxs("div",{className:"widget-customization-section",children:[n.jsx("h2",{children:"Widget Customization"}),n.jsx("p",{className:"description",children:"Customize the appearance and behavior of your chat widget."}),E&&n.jsx("div",{className:"widget-loading",children:"Loading widget settings..."}),Q&&n.jsx("div",{className:"error-message",children:Q}),!E&&n.jsxs("div",{className:"widget-customization-layout",children:[n.jsxs("form",{onSubmit:Xe,className:"settings-form widget-customization-form",onMouseOver:ae,onMouseLeave:()=>R(""),children:[n.jsx("div",{className:"widget-customization-toolbar",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:ne,onChange:S=>Z(S.target.checked)}),n.jsx("span",{children:"Show advanced settings"}),n.jsx("span",{className:"info-icon",title:"Reveals power-user controls like z-index and motion limits.",children:""})]})}),n.jsxs("details",{open:!0,children:[n.jsx("summary",{children:"Core Appearance"}),n.jsxs("div",{className:"form-section","data-preview-target":"window",children:[n.jsxs("div",{className:"form-group color-control",children:[n.jsxs("label",{htmlFor:"widget-primary-color",children:[n.jsx("span",{children:"Primary Color"}),n.jsx("span",{className:"info-icon",title:"Select the primary brand color used for headers and buttons.",children:""})]}),n.jsx("input",{type:"color",id:"widget-primary-color",className:"color-swatch",value:m.colors.primary,onChange:S=>H("colors","primary",S.target.value)})]}),n.jsxs("div",{className:"form-group color-control",children:[n.jsxs("label",{htmlFor:"widget-secondary-color",children:[n.jsx("span",{children:"Secondary Color"}),n.jsx("span",{className:"info-icon",title:"Accent color used for secondary buttons and highlights.",children:""})]}),n.jsx("input",{type:"color",id:"widget-secondary-color",className:"color-swatch",value:m.colors.secondary,onChange:S=>H("colors","secondary",S.target.value)})]}),n.jsxs("div",{className:"form-group color-control",children:[n.jsxs("label",{htmlFor:"widget-background-color",children:[n.jsx("span",{children:"Background Color"}),n.jsx("span",{className:"info-icon",title:"Sets the widget body background color.",children:""})]}),n.jsx("input",{type:"color",id:"widget-background-color",className:"color-swatch",value:m.colors.background,onChange:S=>H("colors","background",S.target.value)})]}),n.jsxs("div",{className:"form-group color-control",children:[n.jsxs("label",{htmlFor:"widget-text-color",children:[n.jsx("span",{children:"Text Color"}),n.jsx("span",{className:"info-icon",title:"Controls the default text color inside the widget.",children:""})]}),n.jsx("input",{type:"color",id:"widget-text-color",className:"color-swatch",value:m.colors.text,onChange:S=>H("colors","text",S.target.value)})]}),n.jsxs("div",{className:"form-group color-control",children:[n.jsxs("label",{htmlFor:"widget-border-color",children:[n.jsx("span",{children:"Border Color"}),n.jsx("span",{className:"info-icon",title:"Defines the border and divider color.",children:""})]}),n.jsx("input",{type:"color",id:"widget-border-color",className:"color-swatch",value:m.colors.borderColor,onChange:S=>H("colors","borderColor",S.target.value)})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-border-radius",children:["Border Radius ",n.jsx("span",{className:"info-icon",title:"Controls how rounded the widget corners appear.",children:""})]}),n.jsx("input",{type:"text",id:"widget-border-radius",value:m.layout.borderRadius,onChange:S=>H("layout","borderRadius",S.target.value),placeholder:"10px"})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-font-family",children:["Font Family ",n.jsx("span",{className:"info-icon",title:"Sets the font used throughout the widget.",children:""})]}),n.jsx("select",{id:"widget-font-family",value:m.typography.fontFamily,onChange:S=>H("typography","fontFamily",S.target.value),children:uj.map(S=>n.jsxs("option",{value:S.value,style:{fontFamily:S.value},children:[S.label," - Aa Bb 123"]},S.value))})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-font-size",children:["Font Size ",n.jsx("span",{className:"info-icon",title:"Sets the base text size for messages and buttons.",children:""})]}),n.jsx("input",{type:"text",id:"widget-font-size",value:m.typography.fontSize,onChange:S=>H("typography","fontSize",S.target.value),placeholder:"14px"})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-font-weight",children:["Font Weight ",n.jsx("span",{className:"info-icon",title:"Controls the boldness of text in the widget.",children:""})]}),n.jsxs("select",{id:"widget-font-weight",value:m.typography.fontWeight,onChange:S=>H("typography","fontWeight",S.target.value),children:[n.jsx("option",{value:"300",children:"Light (300)"}),n.jsx("option",{value:"400",children:"Normal (400)"}),n.jsx("option",{value:"500",children:"Medium (500)"}),n.jsx("option",{value:"600",children:"Semi-Bold (600)"}),n.jsx("option",{value:"700",children:"Bold (700)"})]})]})]})]}),n.jsxs("details",{children:[n.jsx("summary",{children:"Launcher Button"}),n.jsxs("div",{className:"form-section","data-preview-target":"launcher",children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-icon-type",children:["Icon Type ",n.jsx("span",{className:"info-icon",title:"Choose whether to use an emoji or custom image.",children:""})]}),n.jsxs("select",{id:"widget-icon-type",value:m.icon.type,onChange:S=>H("icon","type",S.target.value),children:[n.jsx("option",{value:"emoji",children:"Emoji"}),n.jsx("option",{value:"image",children:"Custom Image"})]})]}),m.icon.type==="emoji"&&n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-icon-emoji",children:["Emoji / Icon Selector ",n.jsx("span",{className:"info-icon",title:"Pick the emoji that appears in the launcher.",children:""})]}),n.jsx("select",{id:"widget-icon-emoji",value:m.icon.emoji,onChange:S=>H("icon","emoji",S.target.value),children:fj.map(S=>n.jsxs("option",{value:S.value,children:[S.value," ",S.label]},S.value))})]}),m.icon.type==="image"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-icon-image-url",children:["Image URL ",n.jsx("span",{className:"info-icon",title:"Paste the URL of your logo or custom icon.",children:""})]}),n.jsx("input",{type:"url",id:"widget-icon-image-url",value:m.icon.imageUrl,onChange:S=>H("icon","imageUrl",S.target.value),placeholder:"https://example.com/logo.png"}),n.jsx("small",{children:"Recommended: Square image, PNG or SVG format, transparent background."})]}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.icon.fallbackToEmoji,onChange:S=>H("icon","fallbackToEmoji",S.target.checked)}),n.jsx("span",{children:"Fallback to emoji if image fails to load"}),n.jsx("span",{className:"info-icon",title:"Shows the emoji when the image URL cannot be loaded.",children:""})]})})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-icon-shape",children:["Icon Shape ",n.jsx("span",{className:"info-icon",title:"Defines the launcher button shape.",children:""})]}),n.jsxs("select",{id:"widget-icon-shape",value:m.icon.shape,onChange:S=>H("icon","shape",S.target.value),children:[n.jsx("option",{value:"circle",children:"Circle"}),n.jsx("option",{value:"rounded-square",children:"Rounded Square"}),n.jsx("option",{value:"pill",children:"Pill/Capsule"}),n.jsx("option",{value:"square",children:"Square"}),n.jsx("option",{value:"custom",children:"Custom Border Radius"})]})]}),m.icon.shape==="custom"&&n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-icon-border-radius",children:["Custom Border Radius ",n.jsx("span",{className:"info-icon",title:"CSS border-radius value (e.g., 15px, 25%).",children:""})]}),n.jsx("input",{type:"text",id:"widget-icon-border-radius",value:m.icon.customBorderRadius,onChange:S=>H("icon","customBorderRadius",S.target.value),placeholder:"50%"})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-icon-size",children:["Icon Size ",n.jsx("span",{className:"info-icon",title:"Controls the launcher button size.",children:""})]}),n.jsxs("select",{id:"widget-icon-size",value:m.icon.size,onChange:S=>H("icon","size",S.target.value),children:[n.jsx("option",{value:"small",children:"Small (50px)"}),n.jsx("option",{value:"medium",children:"Medium (60px)"}),n.jsx("option",{value:"large",children:"Large (75px)"}),n.jsx("option",{value:"extra-large",children:"Extra Large (90px)"}),n.jsx("option",{value:"custom",children:"Custom Size"})]})]}),m.icon.size==="custom"&&n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-icon-custom-size",children:["Custom Size ",n.jsx("span",{className:"info-icon",title:"Set a custom size in pixels (e.g., 70px).",children:""})]}),n.jsx("input",{type:"text",id:"widget-icon-custom-size",value:m.icon.customSize,onChange:S=>H("icon","customSize",S.target.value),placeholder:"60px"})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.icon.showLabel,onChange:S=>H("icon","showLabel",S.target.checked)}),n.jsx("span",{children:"Show Label / Badge"}),n.jsx("span",{className:"info-icon",title:"Adds a short label near the launcher to invite clicks.",children:""})]}),n.jsx("small",{className:"checkbox-helper",children:"Helpful for prompting visitors to start a chat."})]}),m.icon.showLabel&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-icon-label-text",children:["Label Text ",n.jsx("span",{className:"info-icon",title:"Text displayed inside or near the launcher.",children:""})]}),n.jsx("input",{type:"text",id:"widget-icon-label-text",value:m.icon.labelText,onChange:S=>H("icon","labelText",S.target.value),placeholder:"Chat",maxLength:20})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-icon-label-position",children:["Label Position ",n.jsx("span",{className:"info-icon",title:"Controls where the label appears around the launcher.",children:""})]}),n.jsxs("select",{id:"widget-icon-label-position",value:I,onChange:S=>H("icon","labelPosition",S.target.value),children:[n.jsx("option",{value:"inside",children:"Inside Icon"}),n.jsx("option",{value:"below",children:"Below Icon"}),n.jsx("option",{value:"left",children:"Left of Icon"}),n.jsx("option",{value:"right",children:"Right of Icon"}),n.jsx("option",{value:"hover",children:"Show on Hover"})]})]}),n.jsxs("div",{className:"form-group color-control",children:[n.jsxs("label",{htmlFor:"widget-icon-label-bg-color",children:[n.jsx("span",{children:"Label Background Color"}),n.jsx("span",{className:"info-icon",title:"Background color for the label or badge.",children:""})]}),n.jsx("input",{type:"color",id:"widget-icon-label-bg-color",className:"color-swatch",value:m.icon.labelBackgroundColor,onChange:S=>H("icon","labelBackgroundColor",S.target.value)})]}),n.jsxs("div",{className:"form-group color-control",children:[n.jsxs("label",{htmlFor:"widget-icon-label-text-color",children:[n.jsx("span",{children:"Label Text Color"}),n.jsx("span",{className:"info-icon",title:"Color for the label text.",children:""})]}),n.jsx("input",{type:"color",id:"widget-icon-label-text-color",className:"color-swatch",value:m.icon.labelTextColor,onChange:S=>H("icon","labelTextColor",S.target.value)})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-icon-label-font-size",children:["Label Font Size ",n.jsx("span",{className:"info-icon",title:"Font size for label text (e.g., 12px).",children:""})]}),n.jsx("input",{type:"text",id:"widget-icon-label-font-size",value:m.icon.labelFontSize,onChange:S=>H("icon","labelFontSize",S.target.value),placeholder:"12px"})]})]})]})]}),n.jsxs("details",{children:[n.jsx("summary",{children:"Layout & Placement"}),n.jsxs("div",{className:"form-section","data-preview-target":"window",children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-position",children:["Position ",n.jsx("span",{className:"info-icon",title:"Choose where the widget appears on the page.",children:""})]}),n.jsxs("select",{id:"widget-position",value:m.layout.position,onChange:S=>H("layout","position",S.target.value),children:[n.jsx("option",{value:"bottom-right",children:"Bottom Right"}),n.jsx("option",{value:"bottom-left",children:"Bottom Left"}),n.jsx("option",{value:"top-right",children:"Top Right"}),n.jsx("option",{value:"top-left",children:"Top Left"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-max-width",children:["Max Width ",n.jsx("span",{className:"info-icon",title:"Sets the maximum width of the widget window.",children:""})]}),n.jsx("input",{type:"text",id:"widget-max-width",value:m.layout.maxWidth,onChange:S=>H("layout","maxWidth",S.target.value),placeholder:"350px"})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-max-height",children:["Max Height ",n.jsx("span",{className:"info-icon",title:"Sets the maximum height of the widget window.",children:""})]}),n.jsx("input",{type:"text",id:"widget-max-height",value:m.layout.maxHeight,onChange:S=>H("layout","maxHeight",S.target.value),placeholder:"500px"})]}),ne&&n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-z-index",children:["Z-Index ",n.jsx("span",{className:"info-icon",title:"Controls stacking order above other page elements.",children:""})]}),n.jsx("input",{type:"number",id:"widget-z-index",value:m.layout.zIndex,onChange:S=>H("layout","zIndex",S.target.value),placeholder:"10000"})]})]})]}),n.jsxs("details",{children:[n.jsx("summary",{children:"Open Behavior"}),n.jsxs("div",{className:"form-section","data-preview-target":"window",children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-open-behavior",children:["Open Behavior ",n.jsx("span",{className:"info-icon",title:"Choose whether the widget opens on click or automatically.",children:""})]}),n.jsxs("select",{id:"widget-open-behavior",value:m.behavior.openBehavior,onChange:S=>H("behavior","openBehavior",S.target.value),children:[n.jsx("option",{value:"click",children:"Click to Open"}),n.jsx("option",{value:"auto",children:"Auto-Open"})]})]}),m.behavior.openBehavior==="auto"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-auto-open-delay",children:["Auto-Open Delay (seconds) ",n.jsx("span",{className:"info-icon",title:"Delay before the widget opens automatically.",children:""})]}),n.jsx("input",{type:"number",id:"widget-auto-open-delay",value:m.behavior.autoOpenDelay,onChange:S=>H("behavior","autoOpenDelay",parseInt(S.target.value)||0),min:"0",placeholder:"0"})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.behavior.autoOpenMessageEnabled,onChange:S=>H("behavior","autoOpenMessageEnabled",S.target.checked)}),n.jsx("span",{children:"Show auto-open message"}),n.jsx("span",{className:"info-icon",title:"Adds a short prompt when the widget auto-opens.",children:""})]}),n.jsx("small",{className:"checkbox-helper",children:"A friendly message can boost responses."})]}),m.behavior.autoOpenMessageEnabled&&n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-auto-open-message",children:["Auto-Open Message ",n.jsx("span",{className:"info-icon",title:"Text shown when the widget opens automatically.",children:""})]}),n.jsx("input",{type:"text",id:"widget-auto-open-message",value:m.behavior.autoOpenMessage,onChange:S=>H("behavior","autoOpenMessage",S.target.value),placeholder:"Hi there! Want help finding the right solution?",maxLength:120})]})]}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.rules.animateOncePerSession,onChange:S=>H("rules","animateOncePerSession",S.target.checked)}),n.jsx("span",{children:"Animate once per session"}),n.jsx("span",{className:"info-icon",title:"Plays attention effects only once per visitor session.",children:""})]})}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.rules.stopAfterInteraction,onChange:S=>H("rules","stopAfterInteraction",S.target.checked)}),n.jsx("span",{children:"Stop attention effects after first interaction"}),n.jsx("span",{className:"info-icon",title:"Stops attention effects once the visitor engages.",children:""})]})})]})]}),n.jsxs("details",{children:[n.jsx("summary",{children:"Attention & Motion"}),n.jsxs("div",{className:"form-section","data-preview-target":"launcher",children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-attention-animation",children:["Launcher Attention Animation ",n.jsx("span",{className:"info-icon",title:"Pick a subtle animation to draw attention.",children:""})]}),n.jsxs("select",{id:"widget-attention-animation",value:m.attention.attentionAnimation,onChange:S=>H("attention","attentionAnimation",S.target.value),children:[n.jsx("option",{value:"none",children:"None"}),n.jsx("option",{value:"bounce",children:"Subtle Bounce"}),n.jsx("option",{value:"pulse",children:"Pulse"}),n.jsx("option",{value:"glow",children:"Glow"}),n.jsx("option",{value:"breathing",children:"Breathing"}),n.jsx("option",{value:"corner-nudge",children:"Corner Nudge"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-attention-cycles",children:["Animation Cycles ",n.jsx("span",{className:"info-icon",title:"How many times the attention animation plays.",children:""})]}),n.jsx("input",{type:"number",id:"widget-attention-cycles",min:"1",max:"3",value:m.attention.attentionCycles,onChange:S=>H("attention","attentionCycles",parseInt(S.target.value,10)||1)})]}),ne&&n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-max-animation",children:["Max Animation Duration (seconds) ",n.jsx("span",{className:"info-icon",title:"Caps how long attention effects can run.",children:""})]}),n.jsx("input",{type:"number",id:"widget-max-animation",min:"1",max:"5",value:m.rules.maxAnimationSeconds,onChange:S=>H("rules","maxAnimationSeconds",parseInt(S.target.value,10)||3)})]}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.attention.unreadDot,onChange:S=>H("attention","unreadDot",S.target.checked)}),n.jsx("span",{children:"Show unread dot until first interaction"}),n.jsx("span",{className:"info-icon",title:"Displays a dot on the launcher to suggest unread activity.",children:""})]})}),m.attention.unreadDot&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"form-group color-control",children:[n.jsxs("label",{htmlFor:"widget-unread-dot-color",children:[n.jsx("span",{children:"Unread Dot Color"}),n.jsx("span",{className:"info-icon",title:"Sets the color of the unread dot indicator.",children:""})]}),n.jsx("input",{type:"color",id:"widget-unread-dot-color",className:"color-swatch",value:m.attention.unreadDotColor,onChange:S=>H("attention","unreadDotColor",S.target.value)})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-unread-dot-position",children:["Unread Dot Position ",n.jsx("span",{className:"info-icon",title:"Choose where the unread dot appears on the launcher.",children:""})]}),n.jsxs("select",{id:"widget-unread-dot-position",value:m.attention.unreadDotPosition,onChange:S=>H("attention","unreadDotPosition",S.target.value),children:[n.jsx("option",{value:"top-right",children:"Top Right"}),n.jsx("option",{value:"top-left",children:"Top Left"}),n.jsx("option",{value:"bottom-right",children:"Bottom Right"}),n.jsx("option",{value:"bottom-left",children:"Bottom Left"})]})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-launcher-visibility",children:["Launcher Reveal ",n.jsx("span",{className:"info-icon",title:"Controls when the launcher appears on the page.",children:""})]}),n.jsxs("select",{id:"widget-launcher-visibility",value:m.motion.launcherVisibility,onChange:S=>H("motion","launcherVisibility",S.target.value),children:[n.jsx("option",{value:"immediate",children:"Immediate"}),n.jsx("option",{value:"delay",children:"Delayed Entrance"}),n.jsx("option",{value:"scroll",children:"Scroll Trigger"}),n.jsx("option",{value:"exit-intent",children:"Exit Intent"})]})]}),m.motion.launcherVisibility==="delay"&&n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-launcher-delay",children:["Delay (seconds) ",n.jsx("span",{className:"info-icon",title:"Delay before showing the launcher.",children:""})]}),n.jsx("input",{type:"number",id:"widget-launcher-delay",min:"1",max:"30",value:m.motion.delaySeconds,onChange:S=>H("motion","delaySeconds",parseInt(S.target.value,10)||5)})]}),m.motion.launcherVisibility==="scroll"&&n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-launcher-scroll",children:["Scroll Trigger (%) ",n.jsx("span",{className:"info-icon",title:"Show the launcher after this scroll depth.",children:""})]}),n.jsx("input",{type:"number",id:"widget-launcher-scroll",min:"10",max:"90",value:m.motion.scrollPercent,onChange:S=>H("motion","scrollPercent",parseInt(S.target.value,10)||30)})]}),m.motion.launcherVisibility==="exit-intent"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.motion.exitIntentEnabled,onChange:S=>H("motion","exitIntentEnabled",S.target.checked)}),n.jsx("span",{children:"Enable exit-intent detection (desktop only)"}),n.jsx("span",{className:"info-icon",title:"Detects when a user is about to leave on desktop.",children:""})]})}),m.motion.exitIntentEnabled&&n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-exit-intent-action",children:["Exit Intent Action ",n.jsx("span",{className:"info-icon",title:"Choose what happens when exit intent is detected.",children:""})]}),n.jsxs("select",{id:"widget-exit-intent-action",value:m.motion.exitIntentAction,onChange:S=>H("motion","exitIntentAction",S.target.value),children:[n.jsx("option",{value:"show",children:"Show Launcher"}),n.jsx("option",{value:"open",children:"Open Widget"})]})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-entry-animation",children:["Launcher Entry Animation ",n.jsx("span",{className:"info-icon",title:"How the launcher animates into view.",children:""})]}),n.jsxs("select",{id:"widget-entry-animation",value:m.motion.entryAnimation,onChange:S=>H("motion","entryAnimation",S.target.value),children:[n.jsx("option",{value:"none",children:"None"}),n.jsx("option",{value:"slide-up",children:"Slide Up"}),n.jsx("option",{value:"slide-left",children:"Slide In From Right"}),n.jsx("option",{value:"slide-right",children:"Slide In From Left"}),n.jsx("option",{value:"fade",children:"Fade"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-open-animation",children:["Widget Open Animation ",n.jsx("span",{className:"info-icon",title:"Controls the animation when the chat opens.",children:""})]}),n.jsxs("select",{id:"widget-open-animation",value:m.motion.openAnimation,onChange:S=>H("motion","openAnimation",S.target.value),children:[n.jsx("option",{value:"none",children:"None"}),n.jsx("option",{value:"slide-up",children:"Slide Up"}),n.jsx("option",{value:"slide-left",children:"Slide In From Right"}),n.jsx("option",{value:"slide-right",children:"Slide In From Left"}),n.jsx("option",{value:"fade",children:"Fade"})]})]}),ne&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.rules.respectReducedMotion,onChange:S=>H("rules","respectReducedMotion",S.target.checked)}),n.jsx("span",{children:"Respect prefers-reduced-motion"}),n.jsx("span",{className:"info-icon",title:"Honors user accessibility settings for motion.",children:""})]})}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.rules.disableOnMobile,onChange:S=>H("rules","disableOnMobile",S.target.checked)}),n.jsx("span",{children:"Disable attention effects on mobile"}),n.jsx("span",{className:"info-icon",title:"Turns off attention effects for smaller screens.",children:""})]})})]})]})]}),n.jsxs("details",{children:[n.jsx("summary",{children:"Micro-Interactions"}),n.jsxs("div",{className:"form-section","data-preview-target":"window",children:[n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.microInteractions.typingIndicator,onChange:S=>H("microInteractions","typingIndicator",S.target.checked)}),n.jsx("span",{children:"Typing indicator before first message"}),n.jsx("span",{className:"info-icon",title:"Shows a short typing animation before the first reply.",children:""})]})}),m.microInteractions.typingIndicator&&n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-typing-duration",children:["Typing Indicator Duration (ms) ",n.jsx("span",{className:"info-icon",title:"How long the typing indicator runs.",children:""})]}),n.jsx("input",{type:"number",id:"widget-typing-duration",min:"600",max:"3000",value:m.microInteractions.typingIndicatorDurationMs,onChange:S=>H("microInteractions","typingIndicatorDurationMs",parseInt(S.target.value,10)||1200)})]}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.microInteractions.blinkCursor,onChange:S=>H("microInteractions","blinkCursor",S.target.checked)}),n.jsx("span",{children:"Blinking cursor"}),n.jsx("span",{className:"info-icon",title:"Adds a blinking cursor in the input field.",children:""})]})}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-hover-effect",children:["Hover Reaction ",n.jsx("span",{className:"info-icon",title:"How the launcher reacts when hovered.",children:""})]}),n.jsxs("select",{id:"widget-hover-effect",value:m.microInteractions.hoverEffect,onChange:S=>H("microInteractions","hoverEffect",S.target.value),children:[n.jsx("option",{value:"none",children:"None"}),n.jsx("option",{value:"lift",children:"Slight Lift"}),n.jsx("option",{value:"scale",children:"Subtle Scale"}),n.jsx("option",{value:"color",children:"Color Shift"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-button-animation",children:["Button Press Animation ",n.jsx("span",{className:"info-icon",title:"Feedback animation when pressing buttons.",children:""})]}),n.jsxs("select",{id:"widget-button-animation",value:m.microInteractions.buttonAnimation,onChange:S=>H("microInteractions","buttonAnimation",S.target.value),children:[n.jsx("option",{value:"none",children:"None"}),n.jsx("option",{value:"press",children:"Press"}),n.jsx("option",{value:"ripple",children:"Ripple"})]})]})]})]}),n.jsxs("details",{children:[n.jsx("summary",{children:"Copy & Messaging"}),n.jsxs("div",{className:"form-section","data-preview-target":"window",children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-welcome-message",children:["Welcome Message ",n.jsx("span",{className:"info-icon",title:"Headline shown in the widget header.",children:""})]}),n.jsx("input",{type:"text",id:"widget-welcome-message",value:m.messages.welcomeMessage,onChange:S=>H("messages","welcomeMessage",S.target.value),placeholder:"Chat with us"})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-placeholder",children:["Input Placeholder ",n.jsx("span",{className:"info-icon",title:"Placeholder text inside the message input.",children:""})]}),n.jsx("input",{type:"text",id:"widget-placeholder",value:m.messages.placeholder,onChange:S=>H("messages","placeholder",S.target.value),placeholder:"Type your message..."})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-send-button-text",children:["Send Button Text ",n.jsx("span",{className:"info-icon",title:"Text shown on the send button.",children:""})]}),n.jsx("input",{type:"text",id:"widget-send-button-text",value:m.messages.sendButtonText,onChange:S=>H("messages","sendButtonText",S.target.value),placeholder:"Send"})]}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.copy.launcherPromptsEnabled,onChange:S=>H("copy","launcherPromptsEnabled",S.target.checked)}),n.jsx("span",{children:"Rotate launcher micro-prompts"}),n.jsx("span",{className:"info-icon",title:"Cycles short prompts next to the launcher.",children:""})]})}),m.copy.launcherPromptsEnabled&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-launcher-prompts",children:["Launcher Prompts (one per line) ",n.jsx("span",{className:"info-icon",title:"Each line becomes a rotating launcher prompt.",children:""})]}),n.jsx("textarea",{id:"widget-launcher-prompts",rows:4,value:(m.copy.launcherPrompts||[]).join(`
`),onChange:S=>ge("copy","launcherPrompts",S.target.value.split(`
`).map(ye=>ye.trim()).filter(Boolean))})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-launcher-rotate",children:["Rotate Every (seconds) ",n.jsx("span",{className:"info-icon",title:"How often the launcher prompt rotates.",children:""})]}),n.jsx("input",{type:"number",id:"widget-launcher-rotate",min:"3",max:"15",value:m.copy.launcherPromptRotateSeconds,onChange:S=>H("copy","launcherPromptRotateSeconds",parseInt(S.target.value,10)||6)})]})]}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.copy.contextualPromptsEnabled,onChange:S=>H("copy","contextualPromptsEnabled",S.target.checked)}),n.jsx("span",{children:"Contextual launcher text"}),n.jsx("span",{className:"info-icon",title:"Show different launcher prompts by page or URL.",children:""})]})}),m.copy.contextualPromptsEnabled&&n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{children:["Contextual Prompt Rules ",n.jsx("span",{className:"info-icon",title:"Match a URL pattern to a custom launcher prompt.",children:""})]}),n.jsx("div",{className:"rule-list",children:(m.copy.contextualPrompts||[]).map((S,ye)=>n.jsxs("div",{className:"rule-row",children:[n.jsx("input",{type:"text",placeholder:"URL match (e.g., /pricing)",title:"Page path or pattern to match.",value:S.match,onChange:Fe=>Se("copy","contextualPrompts",ye,"match",Fe.target.value)}),n.jsx("input",{type:"text",placeholder:"Prompt text",title:"Short prompt shown when the URL matches.",value:S.text,onChange:Fe=>Se("copy","contextualPrompts",ye,"text",Fe.target.value)}),n.jsx("button",{type:"button",className:"btn btn-danger btn-sm",title:"Remove this rule",onClick:()=>V("copy","contextualPrompts",ye),children:"Remove"})]},`${S.match}-${ye}`))}),n.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",title:"Add a new rule",onClick:()=>qe("copy","contextualPrompts",{match:"",text:""}),children:"+ Add Rule"})]}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.copy.greetingEnabled,onChange:S=>H("copy","greetingEnabled",S.target.checked)}),n.jsx("span",{children:"Personalized greeting"}),n.jsx("span",{className:"info-icon",title:"Shows a greeting based on time or page.",children:""})]})}),m.copy.greetingEnabled&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-greeting-mode",children:["Greeting Mode ",n.jsx("span",{className:"info-icon",title:"Choose when greetings should change.",children:""})]}),n.jsxs("select",{id:"widget-greeting-mode",value:m.copy.greetingMode,onChange:S=>H("copy","greetingMode",S.target.value),children:[n.jsx("option",{value:"time",children:"Time of Day"}),n.jsx("option",{value:"page",children:"Page Based"}),n.jsx("option",{value:"both",children:"Time + Page"})]})]}),(m.copy.greetingMode==="time"||m.copy.greetingMode==="both")&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-greeting-morning",children:["Morning Greeting ",n.jsx("span",{className:"info-icon",title:"Greeting shown in the morning hours.",children:""})]}),n.jsx("input",{type:"text",id:"widget-greeting-morning",value:m.copy.greetingMorning,onChange:S=>H("copy","greetingMorning",S.target.value)})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-greeting-afternoon",children:["Afternoon Greeting ",n.jsx("span",{className:"info-icon",title:"Greeting shown in the afternoon hours.",children:""})]}),n.jsx("input",{type:"text",id:"widget-greeting-afternoon",value:m.copy.greetingAfternoon,onChange:S=>H("copy","greetingAfternoon",S.target.value)})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-greeting-evening",children:["Evening Greeting ",n.jsx("span",{className:"info-icon",title:"Greeting shown in the evening hours.",children:""})]}),n.jsx("input",{type:"text",id:"widget-greeting-evening",value:m.copy.greetingEvening,onChange:S=>H("copy","greetingEvening",S.target.value)})]})]}),(m.copy.greetingMode==="page"||m.copy.greetingMode==="both")&&n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{children:["Page-Based Greeting Rules ",n.jsx("span",{className:"info-icon",title:"Match URLs to custom greeting text.",children:""})]}),n.jsx("div",{className:"rule-list",children:(m.copy.greetingPageRules||[]).map((S,ye)=>n.jsxs("div",{className:"rule-row",children:[n.jsx("input",{type:"text",placeholder:"URL match (e.g., /pricing)",title:"Page path or pattern to match.",value:S.match,onChange:Fe=>Se("copy","greetingPageRules",ye,"match",Fe.target.value)}),n.jsx("input",{type:"text",placeholder:"Greeting text",title:"Greeting shown when the URL matches.",value:S.text,onChange:Fe=>Se("copy","greetingPageRules",ye,"text",Fe.target.value)}),n.jsx("button",{type:"button",className:"btn btn-danger btn-sm",title:"Remove this rule",onClick:()=>V("copy","greetingPageRules",ye),children:"Remove"})]},`${S.match}-${ye}`))}),n.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",title:"Add a new rule",onClick:()=>qe("copy","greetingPageRules",{match:"",text:""}),children:"+ Add Rule"})]})]})]})]}),n.jsxs("details",{children:[n.jsx("summary",{children:"Sound & Feedback"}),n.jsxs("div",{className:"form-section","data-preview-target":"window",children:[n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.sound.chimeOnOpen,onChange:S=>H("sound","chimeOnOpen",S.target.checked)}),n.jsx("span",{children:"Soft chime on first open"}),n.jsx("span",{className:"info-icon",title:"Plays a short sound the first time the widget opens.",children:""})]})}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.sound.messageTicks,onChange:S=>H("sound","messageTicks",S.target.checked)}),n.jsx("span",{children:"Message sent/received ticks"}),n.jsx("span",{className:"info-icon",title:"Adds light tick sounds for send/receive events.",children:""})]})}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.sound.hapticFeedback,onChange:S=>H("sound","hapticFeedback",S.target.checked)}),n.jsx("span",{children:"Haptic feedback (mobile)"}),n.jsx("span",{className:"info-icon",title:"Adds a subtle vibration-style response on mobile.",children:""})]})}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-sound-volume",children:["Volume (0-1) ",n.jsx("span",{className:"info-icon",title:"Set how loud widget sounds should be.",children:""})]}),n.jsx("input",{type:"number",id:"widget-sound-volume",min:"0",max:"1",step:"0.1",value:m.sound.volume,onChange:S=>H("sound","volume",parseFloat(S.target.value)||0)})]})]})]}),n.jsxs("details",{children:[n.jsx("summary",{children:"Social Proof & Trust"}),n.jsxs("div",{className:"form-section","data-preview-target":"window",children:[n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.socialProof.showResponseTime,onChange:S=>H("socialProof","showResponseTime",S.target.checked)}),n.jsx("span",{children:"Show response time"}),n.jsx("span",{className:"info-icon",title:"Shows a response time hint to build trust.",children:""})]})}),m.socialProof.showResponseTime&&n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-response-time",children:["Response Time Text ",n.jsx("span",{className:"info-icon",title:"Text shown under the header to set expectations.",children:""})]}),n.jsx("input",{type:"text",id:"widget-response-time",value:m.socialProof.responseTimeText,onChange:S=>H("socialProof","responseTimeText",S.target.value)})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-availability-text",children:["Availability Text ",n.jsx("span",{className:"info-icon",title:"Short line explaining hours or availability.",children:""})]}),n.jsx("input",{type:"text",id:"widget-availability-text",value:m.socialProof.availabilityText,onChange:S=>H("socialProof","availabilityText",S.target.value)})]}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.socialProof.showAvatar,onChange:S=>H("socialProof","showAvatar",S.target.checked)}),n.jsx("span",{children:"Show avatar + name"}),n.jsx("span",{className:"info-icon",title:"Displays an agent avatar and name in the widget.",children:""})]})}),m.socialProof.showAvatar&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-agent-name",children:["Agent Name ",n.jsx("span",{className:"info-icon",title:"Name shown next to the avatar.",children:""})]}),n.jsx("input",{type:"text",id:"widget-agent-name",value:m.socialProof.agentName,onChange:S=>H("socialProof","agentName",S.target.value)})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"widget-avatar-url",children:["Avatar URL ",n.jsx("span",{className:"info-icon",title:"Image URL for the agent avatar.",children:""})]}),n.jsx("input",{type:"url",id:"widget-avatar-url",value:m.socialProof.avatarUrl,onChange:S=>H("socialProof","avatarUrl",S.target.value),placeholder:"https://example.com/avatar.png"})]})]})]})]}),n.jsxs("details",{children:[n.jsx("summary",{children:"Accessibility"}),n.jsxs("div",{className:"form-section","data-preview-target":"window",children:[n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.accessibility.darkMode,onChange:S=>H("accessibility","darkMode",S.target.checked)}),n.jsx("span",{children:"Dark mode"}),n.jsx("span",{className:"info-icon",title:"Switches the widget to a darker color scheme.",children:""})]})}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.accessibility.highContrast,onChange:S=>H("accessibility","highContrast",S.target.checked)}),n.jsx("span",{children:"High contrast"}),n.jsx("span",{className:"info-icon",title:"Boosts contrast to improve readability.",children:""})]})}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:m.accessibility.focusOutline,onChange:S=>H("accessibility","focusOutline",S.target.checked)}),n.jsx("span",{children:"Focus outline"}),n.jsx("span",{className:"info-icon",title:"Shows focus outlines for keyboard navigation.",children:""})]})})]})]}),n.jsxs("div",{className:"widget-customization-actions",children:[n.jsx("button",{type:"submit",className:"save-btn",disabled:J,children:J?"Saving...":"Save Changes"}),$&&n.jsx("span",{className:"widget-save-status",role:"status",children:$})]})]}),n.jsx("div",{className:"widget-customization-preview","aria-label":"Widget preview",children:n.jsxs("div",{className:"widget-preview-card",children:[n.jsxs("div",{className:"widget-preview-header",children:[n.jsx("h3",{children:"Live Preview"}),n.jsx("p",{children:"See your widget styles update in real time."})]}),n.jsxs("div",{className:"widget-preview-viewport",children:[n.jsxs("div",{className:`widget-preview-window${G==="window"?" preview-highlight":""}${te==="window"?" preview-pulse":""}`,style:{background:m.colors.background,color:m.colors.text,borderColor:m.colors.borderColor,borderRadius:m.layout.borderRadius,boxShadow:m.layout.boxShadow,maxWidth:m.layout.maxWidth,fontFamily:M,fontSize:C},children:[n.jsxs("div",{className:"widget-preview-titlebar",style:{background:m.colors.primary,color:m.colors.buttonText},children:[n.jsx("span",{children:m.messages.welcomeMessage||"Chat with us"}),n.jsx("span",{className:"widget-preview-status",children:"Online"})]}),n.jsxs("div",{className:"widget-preview-body",children:[n.jsx("div",{className:"widget-preview-bubble widget-preview-bubble-in",children:"Hi! Need help getting started?"}),n.jsx("div",{className:"widget-preview-bubble widget-preview-bubble-out",style:{background:m.colors.secondary,color:m.colors.buttonText},children:"I want to customize the widget."})]}),n.jsxs("div",{className:"widget-preview-input",children:[n.jsx("span",{className:"widget-preview-placeholder",children:m.messages.placeholder||"Type your message..."}),n.jsx("button",{type:"button",style:{background:m.colors.primary,color:m.colors.buttonText},children:m.messages.sendButtonText||"Send"})]})]}),n.jsxs("div",{className:"widget-preview-icon-wrap",children:[n.jsxs("div",{className:`widget-preview-icon${G==="launcher"?" preview-highlight":""}${te==="launcher"?" preview-pulse":""}`,style:{width:ve,height:ve,borderRadius:se,background:m.colors.primary,color:m.colors.buttonText},children:[m.icon.type==="emoji"&&(m.icon.emoji||""),m.icon.type==="image"&&m.icon.imageUrl&&n.jsx("img",{src:m.icon.imageUrl,alt:"Widget icon preview"}),m.icon.type==="image"&&!m.icon.imageUrl&&n.jsx("span",{children:m.icon.fallbackToEmoji?m.icon.emoji||"":""}),m.attention.unreadDot&&n.jsx("span",{className:`widget-preview-unread widget-preview-unread-${m.attention.unreadDotPosition}`,style:{background:m.attention.unreadDotColor}})]}),m.icon.showLabel&&n.jsx("div",{className:`widget-preview-label widget-preview-label-${I}`,style:{background:m.icon.labelBackgroundColor,color:m.icon.labelTextColor,fontSize:m.icon.labelFontSize},children:m.icon.labelText||"Chat"})]})]})]})})]})]})]})}const jo="/api/v1";function mj(){const{token:i,user:r,selectedTenantId:u}=Pt(),[o,f]=v.useState({is_enabled:!1,phone_number:null,auto_reply_enabled:!1,auto_reply_message:"",initial_outreach_message:"Hi! Thanks for reaching out. I'm an AI assistant and happy to help answer your questions. What can I help you with today?",business_hours_enabled:!1,timezone:"America/Chicago"}),[h,g]=v.useState(!0),[j,y]=v.useState(null),[x,m]=v.useState(!1),[N,z]=v.useState({type:"",text:""}),[Y,J]=v.useState(""),[k,$]=v.useState(""),[P,Q]=v.useState(!1);v.useEffect(()=>{U()},[i]);const U=async()=>{g(!0),y(null);try{const Z=await fetch(`${jo}/sms/settings`,{headers:{Authorization:`Bearer ${i}`}});if(Z.ok){const G=await Z.json();f(G),$(G.initial_outreach_message||"")}else if(Z.status===404)f({is_enabled:!1,phone_number:null,auto_reply_enabled:!1,auto_reply_message:"",initial_outreach_message:"Hi! Thanks for reaching out. I'm an AI assistant and happy to help answer your questions. What can I help you with today?",business_hours_enabled:!1,timezone:"America/Chicago"}),$("Hi! Thanks for reaching out. I'm an AI assistant and happy to help answer your questions. What can I help you with today?");else{const G=await Z.json().catch(()=>({}));y(G.detail||"Failed to load SMS settings")}}catch(Z){Z.message?.includes("Not Found")||Z.message?.includes("not found")?(f({is_enabled:!1,phone_number:null,auto_reply_enabled:!1,auto_reply_message:"",initial_outreach_message:"Hi! Thanks for reaching out. I'm an AI assistant and happy to help answer your questions. What can I help you with today?",business_hours_enabled:!1,timezone:"America/Chicago"}),$("Hi! Thanks for reaching out. I'm an AI assistant and happy to help answer your questions. What can I help you with today?")):(console.error("Error fetching SMS settings:",Z),y(Z.message||"Failed to load SMS settings"))}finally{g(!1)}},E=async()=>{m(!0),z({type:"",text:""});try{const Z=await fetch(`${jo}/sms/settings`,{method:"PUT",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify({is_enabled:o.is_enabled,auto_reply_enabled:o.auto_reply_enabled,auto_reply_message:o.auto_reply_message,initial_outreach_message:o.initial_outreach_message,business_hours_enabled:o.business_hours_enabled,timezone:o.timezone})});if(Z.ok){const G=await Z.json();f(G),z({type:"success",text:"Settings saved successfully!"})}else{const G=await Z.json();z({type:"error",text:G.detail||"Failed to save settings"})}}catch{z({type:"error",text:"Network error. Please try again."})}finally{m(!1)}},le=async()=>{if(!Y.trim()){z({type:"error",text:"Please enter a phone number"});return}Q(!0),z({type:"",text:""});try{const G=await(await fetch(`${jo}/sms/outreach`,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify({phone_number:Y,custom_message:k||null})})).json();G.success?(z({type:"success",text:`SMS sent successfully! Message ID: ${G.message_sid}`}),J("")):z({type:"error",text:G.error||"Failed to send SMS"})}catch{z({type:"error",text:"Network error. Please try again."})}finally{Q(!1)}};if(r?.is_global_admin&&!u)return n.jsx("div",{className:"page-container",children:n.jsx(Ze,{icon:"",title:"Select a tenant to manage SMS settings",description:"Please select a tenant from the dropdown above to manage their SMS settings."})});if(h)return n.jsx("div",{className:"page-container",children:n.jsx(it,{message:"Loading SMS settings...",fullPage:!0})});if(j){if(j.includes("Tenant context required")||j.includes("Tenant context"))return n.jsx("div",{className:"page-container",children:n.jsx(Ze,{icon:"",title:"Select a tenant to manage SMS settings",description:"Please select a tenant from the dropdown above to manage their SMS settings."})});if(!j.includes("Not Found")&&!j.includes("not found"))return n.jsx("div",{className:"page-container",children:n.jsx(Wt,{message:j,onRetry:U})})}return n.jsxs("div",{className:"page-container",children:[n.jsx("h1",{children:"SMS Settings"}),N.text&&n.jsx("div",{className:`alert ${N.type==="error"?"alert-error":"alert-success"}`,children:N.text}),n.jsxs("div",{className:"card",children:[n.jsx("h2",{children:"Phone Number"}),o.phone_number?n.jsxs("div",{className:"phone-status active",children:[n.jsx("span",{className:"status-dot"}),n.jsx("span",{className:"phone-number",children:o.phone_number}),n.jsx("span",{className:"status-label",children:"Assigned"})]}):n.jsxs("div",{className:"phone-status inactive",children:[n.jsx("span",{className:"status-dot"}),n.jsx("span",{className:"status-label",children:"No phone number assigned"}),n.jsx("p",{className:"help-text",children:"Contact support to get a phone number assigned to your account."})]})]}),n.jsxs("div",{className:"card",children:[n.jsx("h2",{children:"SMS Status"}),n.jsxs("label",{className:"toggle-row",children:[n.jsx("span",{children:"Enable SMS"}),n.jsx("input",{type:"checkbox",checked:o.is_enabled,onChange:Z=>f({...o,is_enabled:Z.target.checked}),disabled:!o.phone_number})]}),!o.phone_number&&n.jsx("p",{className:"help-text",children:"You need an assigned phone number to enable SMS."})]}),n.jsxs("div",{className:"card",children:[n.jsx("h2",{children:"Initial Outreach Message"}),n.jsx("p",{className:"help-text",children:"This message is sent when you manually initiate contact with a customer. The AI will continue the conversation when they reply."}),n.jsx("textarea",{value:o.initial_outreach_message||"",onChange:Z=>f({...o,initial_outreach_message:Z.target.value}),placeholder:"Hi! Thanks for reaching out...",rows:3})]}),n.jsxs("div",{className:"card",children:[n.jsx("h2",{children:"Auto-Reply (Outside Business Hours)"}),n.jsxs("label",{className:"toggle-row",children:[n.jsx("span",{children:"Enable business hours"}),n.jsx("input",{type:"checkbox",checked:o.business_hours_enabled,onChange:Z=>f({...o,business_hours_enabled:Z.target.checked})})]}),o.business_hours_enabled&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Timezone"}),n.jsxs("select",{value:o.timezone,onChange:Z=>f({...o,timezone:Z.target.value}),children:[n.jsx("option",{value:"America/New_York",children:"Eastern Time"}),n.jsx("option",{value:"America/Chicago",children:"Central Time"}),n.jsx("option",{value:"America/Denver",children:"Mountain Time"}),n.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time"})]})]}),n.jsxs("label",{className:"toggle-row",children:[n.jsx("span",{children:"Send auto-reply outside hours"}),n.jsx("input",{type:"checkbox",checked:o.auto_reply_enabled,onChange:Z=>f({...o,auto_reply_enabled:Z.target.checked})})]}),o.auto_reply_enabled&&n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Auto-reply message"}),n.jsx("textarea",{value:o.auto_reply_message||"",onChange:Z=>f({...o,auto_reply_message:Z.target.value}),placeholder:"We're currently outside business hours. We'll respond as soon as we're back!",rows:2})]})]})]}),n.jsx("button",{className:"btn btn-primary",onClick:E,disabled:x,children:x?"Saving...":"Save Settings"}),o.is_enabled&&o.phone_number&&n.jsxs("div",{className:"card",style:{marginTop:"2rem"},children:[n.jsx("h2",{children:"Send AI Follow-up"}),n.jsx("p",{className:"help-text",children:"Send an initial message to a customer. When they reply, the AI will handle the conversation."}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Customer Phone Number"}),n.jsx("input",{type:"tel",value:Y,onChange:Z=>J(Z.target.value),placeholder:"+1 (555) 123-4567"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Message (optional - uses default if empty)"}),n.jsx("textarea",{value:k,onChange:Z=>$(Z.target.value),placeholder:o.initial_outreach_message||"Hi! Thanks for reaching out...",rows:3})]}),n.jsx("button",{className:"btn btn-secondary",onClick:le,disabled:P||!Y.trim(),children:P?"Sending...":"Send SMS"})]}),n.jsx("style",{children:`
        .page-container {
          max-width: 800px;
          margin: 0 auto;
          padding: 2rem;
        }

        h1 {
          margin-bottom: 1.5rem;
          color: #1a1a1a;
        }

        .card {
          background: #fff;
          border-radius: 8px;
          padding: 1.5rem;
          margin-bottom: 1.5rem;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .card h2 {
          font-size: 1.1rem;
          margin-bottom: 1rem;
          color: #333;
        }

        .phone-status {
          display: flex;
          align-items: center;
          gap: 0.75rem;
          padding: 1rem;
          background: #f5f5f5;
          border-radius: 6px;
        }

        .phone-status.active {
          background: #e6f4ea;
        }

        .phone-status.inactive {
          background: #fef7e0;
          flex-direction: column;
          align-items: flex-start;
        }

        .status-dot {
          width: 10px;
          height: 10px;
          border-radius: 50%;
          background: #ccc;
        }

        .phone-status.active .status-dot {
          background: #34a853;
        }

        .phone-status.inactive .status-dot {
          background: #f9ab00;
        }

        .phone-number {
          font-size: 1.25rem;
          font-weight: 600;
          font-family: monospace;
        }

        .status-label {
          color: #666;
          font-size: 0.9rem;
        }

        .toggle-row {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 0.75rem 0;
          cursor: pointer;
        }

        .toggle-row input[type="checkbox"] {
          width: 20px;
          height: 20px;
          cursor: pointer;
        }

        .form-group {
          margin: 1rem 0;
        }

        .form-group label {
          display: block;
          margin-bottom: 0.5rem;
          font-weight: 500;
          color: #333;
        }

        input[type="tel"],
        textarea,
        select {
          width: 100%;
          padding: 0.75rem;
          border: 1px solid #ddd;
          border-radius: 6px;
          font-size: 1rem;
          font-family: inherit;
        }

        textarea {
          resize: vertical;
        }

        input:focus,
        textarea:focus,
        select:focus {
          outline: none;
          border-color: #4285f4;
          box-shadow: 0 0 0 2px rgba(66, 133, 244, 0.2);
        }

        .help-text {
          font-size: 0.875rem;
          color: #666;
          margin: 0.5rem 0;
        }

        .btn {
          padding: 0.75rem 1.5rem;
          border: none;
          border-radius: 6px;
          font-size: 1rem;
          font-weight: 500;
          cursor: pointer;
          transition: background-color 0.2s;
        }

        .btn:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .btn-primary {
          background: #4285f4;
          color: white;
        }

        .btn-primary:hover:not(:disabled) {
          background: #3367d6;
        }

        .btn-secondary {
          background: #34a853;
          color: white;
        }

        .btn-secondary:hover:not(:disabled) {
          background: #2d8e47;
        }

        .alert {
          padding: 1rem;
          border-radius: 6px;
          margin-bottom: 1.5rem;
        }

        .alert-success {
          background: #e6f4ea;
          color: #1e7e34;
        }

        .alert-error {
          background: #fce8e6;
          color: #c5221f;
        }

        .loading {
          text-align: center;
          padding: 3rem;
          color: #666;
        }
      `})]})}function pj(){const{user:i,selectedTenantId:r}=Pt(),[u]=qm(),[o,f]=v.useState(!1),[h,g]=v.useState(""),[j,y]=v.useState(""),[x,m]=v.useState(!1),[N,z]=v.useState(!1),[Y,J]=v.useState(!1),[k,$]=v.useState({is_enabled:!1,business_hours_enabled:!1,auto_reply_outside_hours:!0,auto_reply_message:"",response_signature:"",max_thread_depth:10,escalation_rules:null,lead_capture_subject_prefixes:[]}),[P,Q]=v.useState(""),U=v.useCallback(()=>ie.getEmailSettings(),[]),{data:E,loading:le,error:ne,refetch:Z}=Aa(U);v.useEffect(()=>{const C=u.get("connected"),I=u.get("email"),ce=u.get("error");C==="true"&&I?(g(`Successfully connected to ${I}!`),Z()):ce&&y(`OAuth error: ${ce}`)},[u,Z]);const G=i?.is_global_admin&&!r;v.useEffect(()=>{E&&$({is_enabled:E.is_enabled,business_hours_enabled:E.business_hours_enabled,auto_reply_outside_hours:E.auto_reply_outside_hours,auto_reply_message:E.auto_reply_message||"",response_signature:E.response_signature||"",max_thread_depth:E.max_thread_depth||10,escalation_rules:E.escalation_rules,lead_capture_subject_prefixes:E.lead_capture_subject_prefixes||[]})},[E]);const R=C=>{const{name:I,value:ce,type:me,checked:b}=C.target;$(q=>({...q,[I]:me==="checkbox"?b:ce}))},te=()=>{const C=P.trim();C&&!k.lead_capture_subject_prefixes.includes(C)&&($(I=>({...I,lead_capture_subject_prefixes:[...I.lead_capture_subject_prefixes,C]})),Q(""))},re=C=>{$(I=>({...I,lead_capture_subject_prefixes:I.lead_capture_subject_prefixes.filter(ce=>ce!==C)}))},W=C=>{C.key==="Enter"&&(C.preventDefault(),te())},xe=async C=>{C.preventDefault(),y(""),g(""),f(!0);try{await ie.updateEmailSettings(k),g("Settings updated successfully"),Z()}catch(I){y(I.message||"Failed to save settings")}finally{f(!1)}},ve=async()=>{y(""),m(!0);try{const C=await ie.startEmailOAuth();window.location.href=C.authorization_url}catch(C){y(C.message||"Failed to start OAuth flow"),m(!1)}},se=async()=>{if(window.confirm("Are you sure you want to disconnect Gmail? Email responses will stop working.")){y(""),z(!0);try{await ie.disconnectEmail(),g("Gmail disconnected successfully"),Z()}catch(C){y(C.message||"Failed to disconnect Gmail")}finally{z(!1)}}},M=async()=>{y(""),J(!0);try{await ie.refreshEmailWatch(),g("Gmail watch refreshed successfully"),Z()}catch(C){y(C.message||"Failed to refresh Gmail watch")}finally{J(!1)}};return G?n.jsx("div",{className:"email-settings-page",children:n.jsx(Ze,{icon:"",title:"Select a tenant to manage email settings",description:"Please select a tenant from the dropdown above to manage their email responder settings."})}):le?n.jsx("div",{className:"email-settings-page",children:n.jsx(it,{message:"Loading email settings..."})}):ne&&!E?ne.includes("Tenant context required")||ne.includes("Tenant context")?n.jsx("div",{className:"email-settings-page",children:n.jsx(Ze,{icon:"",title:"Select a tenant to manage email settings",description:"Please select a tenant from the dropdown above to manage their email responder settings."})}):n.jsx("div",{className:"email-settings-page",children:n.jsx(Wt,{message:ne,onRetry:Z})}):n.jsxs("div",{className:"email-settings-page",children:[n.jsx("h1",{children:"Email Responder Settings"}),n.jsx("p",{className:"description",children:"Connect your Gmail account to automatically respond to customer emails with AI-powered responses."}),j&&n.jsx("div",{className:"error-message",children:j}),h&&n.jsx("div",{className:"success-message",children:h}),n.jsxs("section",{className:"settings-section",children:[n.jsx("h2",{children:"Gmail Connection"}),E?.is_connected?n.jsxs("div",{className:"connection-status connected",children:[n.jsxs("div",{className:"status-indicator",children:[n.jsx("span",{className:"status-dot connected"}),n.jsx("span",{children:"Connected"})]}),n.jsxs("div",{className:"connected-email",children:[n.jsx("strong",{children:"Email:"})," ",E.gmail_email]}),n.jsxs("div",{className:"watch-status",children:[n.jsx("strong",{children:"Push Notifications:"})," ",E.watch_active?n.jsx("span",{className:"badge badge-success",children:"Active"}):n.jsx("span",{className:"badge badge-warning",children:"Inactive"}),n.jsx("button",{type:"button",className:"btn-secondary btn-small",onClick:M,disabled:Y,children:Y?"Refreshing...":"Refresh Watch"})]}),n.jsx("button",{type:"button",className:"btn-danger",onClick:se,disabled:N,children:N?"Disconnecting...":"Disconnect Gmail"})]}):n.jsxs("div",{className:"connection-status disconnected",children:[n.jsxs("div",{className:"status-indicator",children:[n.jsx("span",{className:"status-dot disconnected"}),n.jsx("span",{children:"Not Connected"})]}),n.jsx("p",{children:"Connect your Gmail account to enable AI-powered email responses."}),n.jsx("button",{type:"button",className:"btn-primary gmail-connect-btn",onClick:ve,disabled:x,children:x?"Connecting...":n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"gmail-icon",viewBox:"0 0 24 24",width:"20",height:"20",children:n.jsx("path",{fill:"currentColor",d:"M20 18h-2V9.25L12 13 6 9.25V18H4V6h1.2l6.8 4.25L18.8 6H20m0-2H4c-1.11 0-2 .89-2 2v12a2 2 0 002 2h16a2 2 0 002-2V6a2 2 0 00-2-2z"})}),"Connect Gmail"]})})]})]}),E?.is_connected&&n.jsxs("form",{onSubmit:xe,className:"settings-form",children:[n.jsxs("section",{className:"settings-section",children:[n.jsx("h2",{children:"Email Responder"}),n.jsxs("div",{className:"checkbox-group",children:[n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",name:"is_enabled",checked:k.is_enabled,onChange:R}),n.jsx("span",{className:"checkbox-text",children:"Enable Email Responder"})]}),n.jsx("small",{children:"When enabled, incoming emails will be processed and leads will be created based on subject prefixes."})]})]}),n.jsxs("section",{className:"settings-section",children:[n.jsx("h2",{children:"Lead Capture"}),n.jsx("p",{className:"section-description",children:"Configure which email subjects should create leads. Only emails with subjects that start with one of these prefixes will create leads."}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Subject Prefixes for Lead Capture"}),n.jsx("div",{className:"prefix-list",children:k.lead_capture_subject_prefixes.length===0?n.jsx("div",{className:"prefix-empty",children:"No prefixes configured. No leads will be created from emails."}):k.lead_capture_subject_prefixes.map((C,I)=>n.jsxs("div",{className:"prefix-item",children:[n.jsx("span",{className:"prefix-text",children:C}),n.jsx("button",{type:"button",className:"prefix-remove",onClick:()=>re(C),title:"Remove prefix",children:""})]},I))}),n.jsxs("div",{className:"prefix-add-row",children:[n.jsx("input",{type:"text",value:P,onChange:C=>Q(C.target.value),onKeyDown:W,placeholder:"Enter a subject prefix...",className:"prefix-input"}),n.jsx("button",{type:"button",className:"btn-secondary",onClick:te,disabled:!P.trim(),children:"Add Prefix"})]}),n.jsx("small",{children:'Emails with subjects starting with these prefixes (case-insensitive) will create leads. Examples: "Email Capture from Booking Page", "Get In Touch Form Submission"'})]})]}),n.jsx("button",{type:"submit",className:"save-btn",disabled:o,children:o?"Saving...":"Save Settings"})]})]})}function gj(){const i=Kt(),{selectTenant:r,refreshTenants:u}=Pt(),[o,f]=v.useState([]),[h,g]=v.useState(!0),[j,y]=v.useState(null),[x,m]=v.useState(!1),[N,z]=v.useState({name:"",subdomain:"",is_active:!0}),[Y,J]=v.useState(!1),[k,$]=v.useState("list"),[P,Q]=v.useState(0),[U,E]=v.useState(null),[le,ne]=v.useState(!1);v.useEffect(()=>{Z()},[]);const Z=async()=>{g(!0),y(null);try{const C=await ie.getTenants();f(Array.isArray(C)?C:[])}catch(C){console.error("Failed to fetch tenants:",C),y(C.message||"Failed to load tenants")}finally{g(!1)}},G=async C=>{C.preventDefault(),J(!0),y(null);try{const I=await ie.createTenant(N);f([...o,I]),z({name:"",subdomain:"",is_active:!0}),m(!1),u&&u()}catch(I){y(I.message||"Failed to create tenant")}finally{J(!1)}},R=(C,I,ce)=>{f(me=>me.map(b=>b.id===C?{...b,[I]:ce}:b)),U&&U.id===C&&E({...U,[I]:ce})},te=async(C,I,ce)=>{const me=ce===""?null:ce;y(null);try{const b=await ie.updateTenant(C,{[I]:me});f(q=>q.map(ee=>ee.id===C?b:ee)),U&&U.id===C&&E(b),u&&u()}catch(b){y(b.message||"Failed to update tenant")}},re=async()=>{if(U){ne(!0),y(null);try{const C=await ie.updateTenant(U.id,{tenant_number:U.tenant_number||null,name:U.name,tier:U.tier||null,end_date:U.end_date||null,is_active:U.is_active});f(I=>I.map(ce=>ce.id===C.id?C:ce)),E(C),u&&u()}catch(C){y(C.message||"Failed to save tenant")}finally{ne(!1)}}},W=C=>{Q(C),E({...o[C]}),$("single")},xe=()=>{if(P>0){const C=P-1;Q(C),E({...o[C]})}},ve=()=>{if(P<o.length-1){const C=P+1;Q(C),E({...o[C]})}},se=C=>{r(C),i("/")},M=()=>{$("list"),E(null)};return h?n.jsx(it,{message:"Loading tenants...",fullPage:!0}):j&&o.length===0?n.jsx(Wt,{message:j,onRetry:Z}):k==="single"&&U?n.jsxs("div",{className:"manage-tenants-page",children:[n.jsxs("div",{className:"single-view-header",children:[n.jsx("button",{className:"btn-back",onClick:M,children:" Back to List"}),n.jsxs("div",{className:"tenant-nav",children:[n.jsx("button",{className:"btn-nav",onClick:xe,disabled:P===0,children:" Previous"}),n.jsxs("span",{className:"nav-indicator",children:["Tenant ",P+1," of ",o.length]}),n.jsx("button",{className:"btn-nav",onClick:ve,disabled:P===o.length-1,children:"Next "})]})]}),j&&n.jsx("div",{className:"error-message",children:j}),n.jsxs("div",{className:"tenant-detail-card",children:[n.jsxs("div",{className:"tenant-detail-header",children:[n.jsx("h2",{children:U.name}),n.jsx("span",{className:`status ${U.is_active?"active":"inactive"}`,children:U.is_active?"Active":"Inactive"})]}),n.jsxs("div",{className:"tenant-detail-grid",children:[n.jsxs("div",{className:"detail-field",children:[n.jsx("label",{children:"System ID"}),n.jsx("div",{className:"readonly-value",children:U.id})]}),n.jsxs("div",{className:"detail-field",children:[n.jsx("label",{children:"Tenant Number (Assignable ID)"}),n.jsx("input",{type:"text",value:U.tenant_number||"",onChange:C=>E({...U,tenant_number:C.target.value}),placeholder:"Enter custom tenant ID..."}),n.jsx("small",{children:"Assign a custom identifier for this tenant"})]}),n.jsxs("div",{className:"detail-field",children:[n.jsx("label",{children:"Name"}),n.jsx("input",{type:"text",value:U.name||"",onChange:C=>E({...U,name:C.target.value})})]}),n.jsxs("div",{className:"detail-field",children:[n.jsx("label",{children:"Subdomain"}),n.jsx("div",{className:"readonly-value",children:U.subdomain})]}),n.jsxs("div",{className:"detail-field",children:[n.jsx("label",{children:"Tier"}),n.jsx("input",{type:"text",value:U.tier||"",onChange:C=>E({...U,tier:C.target.value}),placeholder:"e.g., basic, pro, enterprise"})]}),n.jsxs("div",{className:"detail-field",children:[n.jsx("label",{children:"End Date"}),n.jsx("input",{type:"date",value:U.end_date||"",onChange:C=>E({...U,end_date:C.target.value})})]}),n.jsxs("div",{className:"detail-field",children:[n.jsx("label",{children:"Status"}),n.jsxs("select",{value:U.is_active?"active":"inactive",onChange:C=>E({...U,is_active:C.target.value==="active"}),children:[n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"inactive",children:"Inactive"})]})]}),n.jsxs("div",{className:"detail-field",children:[n.jsx("label",{children:"Created"}),n.jsx("div",{className:"readonly-value",children:new Date(U.created_at).toLocaleString()})]})]}),n.jsxs("div",{className:"tenant-detail-actions",children:[n.jsx("button",{className:"btn-primary",onClick:re,disabled:le,children:le?"Saving...":"Save Changes"}),n.jsx("button",{className:"btn-secondary",onClick:()=>se(U.id),children:"View Tenant Screens "})]})]})]}):n.jsxs("div",{className:"manage-tenants-page",children:[n.jsxs("div",{className:"page-header",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Manage Tenants"}),n.jsx("p",{className:"page-subtitle",children:"Create and manage tenant accounts"})]}),n.jsx("button",{className:"btn-primary",onClick:()=>m(!0),children:"+ Create Tenant"})]}),j&&n.jsx("div",{className:"error-message",children:j}),o.length===0?n.jsx(Ze,{icon:"",title:"No tenants yet",description:"Create your first tenant to get started.",action:{label:"+ Create Tenant",onClick:()=>m(!0)}}):n.jsx("div",{className:"tenants-table-container",children:n.jsxs("table",{className:"tenants-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"ID"}),n.jsx("th",{children:"Tenant #"}),n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Subdomain"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Created"}),n.jsx("th",{children:"End Date"}),n.jsx("th",{children:"Tier"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:o.map((C,I)=>n.jsxs("tr",{children:[n.jsx("td",{children:C.id}),n.jsx("td",{children:n.jsx("input",{className:"tenant-input",type:"text",value:C.tenant_number||"",onChange:ce=>R(C.id,"tenant_number",ce.target.value),onBlur:ce=>{const me=ce.target.value.trim();R(C.id,"tenant_number",me),te(C.id,"tenant_number",me)},placeholder:"Assign..."})}),n.jsx("td",{children:C.name}),n.jsx("td",{children:C.subdomain||"-"}),n.jsx("td",{children:n.jsx("span",{className:`status ${C.is_active?"active":"inactive"}`,children:C.is_active?"Active":"Inactive"})}),n.jsx("td",{children:new Date(C.created_at).toLocaleDateString()}),n.jsx("td",{children:n.jsx("input",{className:"tenant-input",type:"date",value:C.end_date||"",onChange:ce=>R(C.id,"end_date",ce.target.value),onBlur:ce=>te(C.id,"end_date",ce.target.value)})}),n.jsx("td",{children:n.jsx("input",{className:"tenant-input",type:"text",value:C.tier||"",onChange:ce=>R(C.id,"tier",ce.target.value),onBlur:ce=>{const me=ce.target.value.trim();R(C.id,"tier",me),te(C.id,"tier",me)},placeholder:"-"})}),n.jsxs("td",{className:"actions-cell",children:[n.jsx("button",{className:"btn-view",onClick:()=>W(I),title:"View/Edit tenant details",children:"Edit"}),n.jsx("button",{className:"btn-impersonate",onClick:()=>se(C.id),title:"View this tenant's screens",children:"View "})]})]},C.id))})]})}),x&&n.jsx("div",{className:"modal-overlay",onClick:()=>{m(!1),y(null)},children:n.jsxs("div",{className:"modal",onClick:C=>C.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{children:"Create New Tenant"}),n.jsx("button",{className:"modal-close",onClick:()=>{m(!1),y(null)},children:""})]}),n.jsxs("form",{onSubmit:G,children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Tenant Name"}),n.jsx("input",{type:"text",value:N.name,onChange:C=>z({...N,name:C.target.value}),placeholder:"e.g., Acme Corporation",required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Subdomain"}),n.jsx("input",{type:"text",value:N.subdomain,onChange:C=>z({...N,subdomain:C.target.value}),placeholder:"e.g., acme",required:!0}),n.jsx("small",{children:"Lowercase letters, numbers, and hyphens only"})]}),n.jsxs("div",{className:"modal-actions",children:[n.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{m(!1),y(null)},children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn-primary",disabled:Y,children:Y?"Creating...":"Create Tenant"})]})]})]})})]})}function vj(){const i=Kt(),r=v.useRef(null),[u,o]=v.useState([]),[f,h]=v.useState(null),[g,j]=v.useState("text"),[y,x]=v.useState(null),[m,N]=v.useState({}),[z,Y]=v.useState(""),[J,k]=v.useState(!1),[$,P]=v.useState(0),[Q,U]=v.useState(!1),[E,le]=v.useState(!1),[ne,Z]=v.useState(null),[G,R]=v.useState(null),[te,re]=v.useState(!1),[W,xe]=v.useState(!1);v.useEffect(()=>{ve()},[]),v.useEffect(()=>{r.current?.scrollIntoView({behavior:"smooth"})},[u]);const ve=async()=>{U(!0);try{const b=await ie.startPromptInterview();h(b.current_step),j(b.question_type),x(b.choices),P(b.progress),o([{type:"assistant",content:" Hi! I'm going to help you set up your chatbot. I'll ask you a few questions about your business, and then I'll create a customized prompt for your chatbot."},{type:"assistant",content:b.question}])}catch(b){Z(b.message||"Failed to start interview")}finally{U(!1)}},se=["anything_else","class_url","cancellation_policy","refund_policy","booking_requirements","other_policies","age_requirements","equipment_needed","prerequisites","other_requirements"],M=async b=>{const q=se.includes(f);if(!b.trim()&&g==="text"&&!q)return;const ee=g==="choice"&&y?.find(ae=>ae.value===b)?.label||b;o(ae=>[...ae,{type:"user",content:ee}]),Y(""),U(!0);try{const ae=await ie.submitInterviewAnswer({current_step:f,answer:b,collected_data:m});h(ae.current_step),j(ae.question_type),x(ae.choices),N(ae.collected_data),P(ae.progress);const H=ae.is_complete||ae.question_type==="complete";k(H),o(ge=>[...ge,{type:"assistant",content:ae.question}])}catch(ae){Z(ae.message||"Failed to submit answer"),o(H=>[...H,{type:"error",content:"Something went wrong. Please try again."}])}finally{U(!1)}},C=b=>{b.key==="Enter"&&!b.shiftKey&&!Q&&(b.preventDefault(),M(z))},I=async()=>{le(!0);try{const b=await ie.generatePromptFromInterview({collected_data:m});R(b),o(q=>[...q,{type:"assistant",content:` ${b.message}`}])}catch(b){Z(b.message||"Failed to generate prompt"),o(q=>[...q,{type:"error",content:"Failed to generate prompt. Please try again."}])}finally{le(!1)}},ce=async()=>{if(G?.bundle_id){re(!0);try{await ie.publishPromptBundle(G.bundle_id),xe(!0),o(b=>[...b,{type:"assistant",content:" Your chatbot is now live! Visitors to your website will start seeing responses from your new prompt."}])}catch(b){Z(b.message||"Failed to publish prompt"),o(q=>[...q,{type:"error",content:"Failed to publish prompt. Please try again or publish from the Prompts page."}])}finally{re(!1)}}},me=()=>{i("/settings/prompts")};return n.jsxs("div",{className:"prompt-wizard",children:[n.jsxs("div",{className:"wizard-header",children:[n.jsx("button",{className:"back-button",onClick:()=>i("/settings/prompts"),children:" Back to Prompts"}),n.jsxs("div",{className:"wizard-title",children:[n.jsx("h1",{children:"Create Your Chatbot"}),n.jsx("p",{children:"Answer a few questions to set up your chatbot's personality and knowledge"})]}),n.jsxs("div",{className:"progress-container",children:[n.jsx("div",{className:"progress-bar",children:n.jsx("div",{className:"progress-fill",style:{width:`${$}%`}})}),n.jsxs("span",{className:"progress-text",children:[$,"% complete"]})]})]}),n.jsxs("div",{className:"wizard-chat",children:[n.jsxs("div",{className:"messages-container",children:[u.map((b,q)=>n.jsxs("div",{className:`message ${b.type}`,children:[b.type==="assistant"&&n.jsx("div",{className:"message-avatar",children:""}),n.jsx("div",{className:"message-content",children:b.content})]},q)),Q&&n.jsxs("div",{className:"message assistant",children:[n.jsx("div",{className:"message-avatar",children:""}),n.jsxs("div",{className:"message-content typing",children:[n.jsx("span",{}),n.jsx("span",{}),n.jsx("span",{})]})]}),n.jsx("div",{ref:r})]}),n.jsxs("div",{className:"input-area",children:[ne&&n.jsxs("div",{className:"error-banner",children:[ne,n.jsx("button",{onClick:()=>Z(null),children:""})]}),!J&&g!=="complete"?g==="choice"&&y?n.jsx("div",{className:"choices-container",children:y.map(b=>n.jsxs("button",{className:"choice-button",onClick:()=>M(b.value),disabled:Q,children:[n.jsx("div",{className:"choice-label",children:b.label}),n.jsx("div",{className:"choice-description",children:b.description}),n.jsxs("div",{className:"choice-example",children:['"',b.example,'"']})]},b.value))}):n.jsxs("div",{className:"text-input-container",children:[n.jsx("textarea",{value:z,onChange:b=>Y(b.target.value),onKeyPress:C,placeholder:"Type your answer...",disabled:Q,rows:3}),n.jsx("button",{className:"send-button",onClick:()=>M(z),disabled:Q||!z.trim()&&!se.includes(f),children:se.includes(f)&&!z.trim()?"Skip":"Send"})]}):n.jsx("div",{className:"complete-actions",children:G?n.jsx("div",{className:"success-actions",children:W?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"success-message published",children:[n.jsx("span",{className:"success-icon",children:""}),"Your chatbot is now live!"]}),n.jsx("p",{className:"published-description",children:"Visitors to your website will now see responses from your new chatbot prompt."}),n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"primary-button",onClick:()=>i(`/settings/prompts?test=${G.bundle_id}`),children:"Test Your Chatbot"}),n.jsx("button",{className:"secondary-button",onClick:me,children:"View All Prompts"})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"success-message",children:[n.jsx("span",{className:"success-icon",children:""}),"Prompt created successfully!"]}),n.jsxs("div",{className:"publish-prompt",children:[n.jsx("p",{className:"publish-description",children:"Your prompt is ready! Publish it now to make your chatbot live on your website."}),n.jsx("button",{className:"publish-button",onClick:ce,disabled:te,children:te?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"spinner"}),"Publishing..."]}):" Publish Now"})]}),n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"secondary-button",onClick:()=>i(`/settings/prompts?test=${G.bundle_id}`),children:"Test First"}),n.jsx("button",{className:"ghost-button",onClick:me,children:"Publish Later"})]})]})}):n.jsx("button",{className:"generate-button",onClick:I,disabled:E,children:E?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"spinner"}),"Generating..."]}):" Generate Prompt"})})]})]}),Object.keys(m).filter(b=>!b.startsWith("_")&&!b.startsWith("has_")).length>0&&n.jsxs("div",{className:"preview-panel",children:[n.jsx("h3",{children:" Collected Information"}),n.jsx("div",{className:"collected-data",children:Object.entries(m).filter(([b])=>!b.startsWith("_")&&!b.startsWith("has_")).map(([b,q])=>{const ee=xj(b,q);return ee===null?null:n.jsxs("div",{className:"data-item",children:[n.jsxs("span",{className:"data-label",children:[yj(b),":"]}),n.jsx("span",{className:"data-value",children:ee})]},b)})})]})]})}function yj(i){return{business_name:"Business Name",industry:"Industry",location:"Location",locations:"Locations",phone_number:"Phone",website_url:"Website",business_hours:"Hours",pool_hours:"Pool Hours",classes:"Classes",services_list:"Services",services:"Services",pricing:"Pricing",faqs:"FAQs",faq:"FAQ",policies:"Policies",requirements:"Requirements",tone:"Tone",lead_timing:"Lead Capture",anything_else:"Additional",cancellation_policy:"Cancellation",refund_policy:"Refund",booking_requirements:"Booking Req.",other_policies:"Other Policies",age_requirements:"Age Req.",equipment_needed:"Equipment",prerequisites:"Prerequisites",other_requirements:"Other Req."}[i]||i.replace(/_/g," ").replace(/\b\w/g,u=>u.toUpperCase())}function xj(i,r){return i==="tone"?{friendly_casual:"Friendly & Casual",professional_polished:"Professional & Polished",enthusiastic_energetic:"Enthusiastic & Energetic",warm_nurturing:"Warm & Nurturing",straightforward_efficient:"Straightforward & Efficient"}[r]||r:Array.isArray(r)?r.length===0?"-":i==="locations"?r.filter(u=>u).map((u,o)=>`${o+1}) ${u}`).join("; "):i==="classes"?r.map(u=>u.url?`${u.name} (${u.url})`:u.name).join("; "):i==="services_list"?r.map(u=>u.name).join(", "):i==="faqs"?`${r.length} FAQ${r.length!==1?"s":""}`:i==="pool_hours"?r.map(u=>`${u.name}: ${u.hours}`).join("; "):r.length+" items":i.startsWith("_")?null:typeof r=="string"&&r.length>100?r.substring(0,100)+"...":r||"-"}function bj(){return n.jsx(ax,{children:n.jsx(Zy,{children:n.jsxs(Ny,{children:[n.jsx(Pe,{path:"/login",element:n.jsx(ix,{})}),n.jsx(Pe,{path:"/onboarding",element:n.jsx(Ph,{children:n.jsx(cj,{})})}),n.jsxs(Pe,{path:"/",element:n.jsx(Ph,{requireProfile:!0,children:n.jsx(sx,{})}),children:[n.jsx(Pe,{index:!0,element:n.jsx(Kb,{})}),n.jsx(Pe,{path:"contacts",element:n.jsx(tj,{})}),n.jsx(Pe,{path:"contacts/:id",element:n.jsx(aj,{})}),n.jsx(Pe,{path:"calls",element:n.jsx(nj,{})}),n.jsx(Pe,{path:"analytics/unknowns",element:n.jsx(lj,{})}),n.jsx(Pe,{path:"analytics/unknowns/:id",element:n.jsx(sj,{})}),n.jsx(Pe,{path:"analytics/plots",element:n.jsx(ij,{})}),n.jsx(Pe,{path:"sms",element:n.jsx(mj,{})}),n.jsx(Pe,{path:"settings",element:n.jsx(Cn,{to:"/settings/prompts",replace:!0})}),n.jsx(Pe,{path:"settings/prompts",element:n.jsx(Wb,{})}),n.jsx(Pe,{path:"settings/prompts/wizard",element:n.jsx(vj,{})}),n.jsx(Pe,{path:"settings/widget",element:n.jsx(hj,{})}),n.jsx(Pe,{path:"settings/email",element:n.jsx(pj,{})}),n.jsx(Pe,{path:"settings/profile",element:n.jsx(oj,{})}),n.jsx(Pe,{path:"prompts",element:n.jsx(Cn,{to:"/settings/prompts",replace:!0})}),n.jsx(Pe,{path:"prompts/wizard",element:n.jsx(Cn,{to:"/settings/prompts/wizard",replace:!0})}),n.jsx(Pe,{path:"email",element:n.jsx(Cn,{to:"/settings/email",replace:!0})}),n.jsx(Pe,{path:"admin/tenants",element:n.jsx(gj,{})})]}),n.jsx(Pe,{path:"*",element:n.jsx(Cn,{to:"/",replace:!0})})]})})})}Tv.createRoot(document.getElementById("root")).render(n.jsx(v.StrictMode,{children:n.jsx(bj,{})}));
